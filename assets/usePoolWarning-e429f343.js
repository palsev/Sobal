import{_ as J}from"./BalTooltip.vue_vue_type_style_index_0_lang-b52dcfa5.js";import{ao as H,aR as V,av as Y,aq as Q,aT as g,au as E}from"./BalBtn-a3a093af.js";import{_ as U}from"./StarsIcon.vue_vue_type_script_setup_true_lang-68ec2428.js";import{D,f as X,E as K,G as ee,n as te,A as se,H as ae}from"./index-c7e2fe85.js";import{Z as N,o as W,a9 as oe,c as ne}from"./connector-d867b6ec.js";import{q as o,d as w,b as p,x as f,y as u,A as d,e as L,h as F,D as e,B as P,f as C,E as b,F as q,i as re,G as le,H as ie,c as x,l as y,as as ce,m as M}from"./runtime-core.esm-bundler-24a2b16f.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";function de(t){const s=()=>{switch(t.size){case"sm":return"p-1 text-xs";case"lg":return"p-2 text-base";default:return"p-1 text-sm"}},l=()=>t.color==="gradient"?"text-white bg-gradient-to-tr from-blue-500 to-pink-500":t.color==="white"?"bg-white dark:bg-gray-900":t.color==="red"?"text-white bg-red-500":t.color==="orange"?"text-black bg-orange-300":t.color==="amber"?"text-black bg-orange-500":`bg-${t.color}-100 dark:bg-${t.color}-800`,n=()=>t.outline?"border-gray-100 dark:border-gray-900 border shadow-lg":"shadow-lg",m=()=>t.rounded?"rounded-full":"rounded";return o(()=>({[s()]:!0,[l()]:!0,[n()]:!0,[m()]:!0}))}function ue(t){const l=t.color==="gradient"?"text-white":`text-${t.color}-500`,n=o(()=>({[l]:!0})),m=o(()=>{switch(t.size){case"sm":return"xxs";case"lg":return"sm";default:return"xs"}});return{classes:n,iconSize:m}}const pe={class:"content-container"},me={key:0},_e=w({__name:"BalChip",props:{label:{default:""},closeable:{type:Boolean,default:!1},size:{default:"md"},color:{default:"gray"},outline:{type:Boolean,default:!0},rounded:{type:Boolean,default:!1}},emits:["closed"],setup(t,{emit:s}){const l=t,n=de(l),{classes:m,iconSize:c}=ue(l);return(r,k)=>(p(),f("div",{class:P(["bal-chip",e(n)])},[u("div",pe,[t.label?(p(),f("span",me,d(t.label),1)):L(r.$slots,"default",{key:1},void 0,!0),t.closeable?(p(),f("div",{key:2,onClick:k[0]||(k[0]=i=>s("closed"))},[F(H,{name:"x",size:e(c),class:P(["close",e(m)])},null,8,["size","class"])])):C("",!0)])],2))}});const fe=Z(_e,[["__scopeId","data-v-6c0a14ed"]]),et="d MMM yyyy",ve=t=>(le("data-v-98c5950b"),t=t(),ie(),t),he=ve(()=>u("div",{class:"horiz-bar"},null,-1)),ke={class:"grow"},be=w({__name:"BalBreakdown",props:{items:null,title:{default:"Title"},hideItems:{type:Boolean,default:!1},size:{default:"md"},offsetClassOverrides:{default:""},initVertBarClassOverrides:{default:""}},setup(t){const s=t,l=o(()=>{if(s.initVertBarClassOverrides!=null)return s.initVertBarClassOverrides;switch(s.size){case"lg":return"h-8 -mt-8";default:return"h-4 -mt-4"}}),n=o(()=>{switch(s.size){case"lg":return"h-16 -mt-16";default:return"h-8 -mt-8"}}),m=o(()=>{switch(s.size){case"lg":return"mt-4";default:return"mt-0"}}),c=o(()=>{if(s.offsetClassOverrides)return s.offsetClassOverrides;switch(s.size){case"lg":return"mt-3 ml-px";default:return"mt-2 ml-px"}});return(r,k)=>(p(),f("div",null,[u("div",null,[L(r.$slots,"default",{},()=>[b(d(t.title),1)],!0)]),t.hideItems?C("",!0):(p(),f("div",{key:0,class:P(["flex flex-col",e(c)])},[(p(!0),f(q,null,re(t.items,(i,_)=>(p(),f("div",{key:_,class:P(["flex items-center",{[e(m)]:_!==0}])},[_===0?(p(),f("div",{key:0,class:P(["init-vert-bar",e(l)])},null,2)):(p(),f("div",{key:1,class:P(["vert-bar",e(n)])},null,2)),he,u("div",ke,[L(r.$slots,"item",{item:i},void 0,!0)])],2))),128))],2))]))}});const j=Z(be,[["__scopeId","data-v-98c5950b"]]),ge={"data-testid":"staking-apr"},ye={key:0},Ae={class:"flex items-center"},xe={class:"ml-1 text-secondarytext-xs"},we={class:"flex items-center"},$e={class:"ml-1 text-xs text-secondary"},Be={class:"ml-1 text-xs capitalize text-secondary"},Re={key:1,class:"flex items-center"},Pe={class:"ml-1 text-xs text-secondary"},Ce=w({__name:"StakingBreakdown",props:{pool:null,poolApr:null},setup(t){const s=t,{fNum:l}=V(),{getToken:n}=Y(),{isWalletReady:m}=Q(),c=o(()=>{var a;return((a=s.pool)==null?void 0:a.apr)||s.poolApr}),r=o(()=>{var a;return((a=s.pool)==null?void 0:a.boost)||""}),k=o(()=>!!r.value&&r.value!=="1"&&m.value),i=o(()=>{var a;return(a=c.value)==null?void 0:a.stakingApr}),_=o(()=>{var a,R;return((a=i.value)==null?void 0:a.min)===((R=i.value)==null?void 0:R.max)}),v=o(()=>{var a;return((a=i.value)==null?void 0:a.min)||0}),$=o(()=>{var a;return((a=i.value)==null?void 0:a.max)||0}),h=o(()=>{var a;return((a=c.value)==null?void 0:a.rewardAprs.total)||0}),A=o(()=>N(h.value).gt(0)),B=o(()=>{if(c.value&&D(c.value)){const a=N(v.value).times(r.value).plus(h.value).toString();return l(a,g.bp)}return l(h.value,g.bp)}),z=o(()=>l(N(v.value).plus(h.value).toString(),g.bp)),S=o(()=>{var R;const a=[];if(_.value||a.push(["Min BAL",v.value],["Max BAL",$.value]),A.value){_.value&&a.push(["BAL",v.value]);const T=(R=c.value)==null?void 0:R.rewardAprs.breakdown;T?Object.keys(T).forEach(I=>{var O;a.push([((O=n(I))==null?void 0:O.symbol)||"Rewards",T[I]])}):a.push(["Rewards",h.value])}return a});return(a,R)=>{const T=j;return p(),f("div",ge,[e(k)?(p(),f("div",ye,[u("div",Ae,[b(d(e(B))+" ",1),u("span",xe,d(a.$t("staking.stakingApr")),1)])])):(p(),f(q,{key:1},[e(D)(e(c))?(p(),x(T,{key:0,items:e(S)},{item:y(({item:[I,O]})=>[b(d(e(l)(O,e(g).bp))+" ",1),u("span",Be,d(I)+" "+d(a.$t("apr")),1)]),default:y(()=>[u("div",we,[b(d(e(z))+" ",1),u("span",$e,d(e(_)?a.$t("staking.stakingApr"):a.$t("staking.minimumStakingApr")),1)])]),_:1},8,["items"])):e(A)?(p(),f("div",Re,[b(d(e(l)(e(h),e(g).bp))+" ",1),u("span",Pe,d(a.$t("staking.stakingApr")),1)])):C("",!0)],64))])}}}),Te={"data-testid":"vebal-apr"},ze={class:"ml-1 text-xs text-secondary"},Se={class:"text-xs text-secondary"},Ie=w({__name:"VeBalBreakdown",props:{apr:null},setup(t){const s=t,{fNum:l}=V(),{t:n}=E(),m=o(()=>l(s.apr,g.bp)),c=o(()=>[n("tooltips.veBalApr.breakdown1"),n("tooltips.veBalApr.breakdown2")]);return(r,k)=>{const i=j;return p(),f("div",Te,[F(i,{items:e(c)},{item:y(({item:_})=>[u("div",Se,d(_),1)]),default:y(()=>[b(d(e(m))+" ",1),u("span",ze,d(r.$t("tooltips.veBalApr.title")),1)]),_:1},8,["items"])])}}}),Oe={"data-testid":"yield-apr"},Ne={class:"flex items-center"},Ve={class:"ml-1 text-xs text-secondary"},Fe={class:"ml-1 text-xs text-secondary"},Le=w({__name:"YieldBreakdown",props:{yieldAPR:null,pool:null},setup(t){const s=t,{getToken:l,getTokens:n}=Y(),{fNum:m}=V(),{t:c}=E(),r=o(()=>n(Object.keys(s.yieldAPR.breakdown))),k=o(()=>Object.keys(r.value).length>1),i=o(()=>{const v=Object.keys(s.yieldAPR.breakdown);if(X(s.pool))return c("yieldAprRewards.apr.boosted");if(v.length>1)return c("yieldAprRewards.apr.token");if(v.length===1){if(K(v[0]))return c("yieldAprRewards.apr.boosted");if(ee(v[0]))return c("yieldAprRewards.apr.veBAL");const $=W(v[0]),h=l($);return h?`${h.symbol} ${c("apr")}`:c("yieldAprRewards.apr.token")}return""}),_=o(()=>Object.entries(s.yieldAPR.breakdown));return(v,$)=>{const h=j;return p(),f("div",Oe,[F(h,{items:e(_),hideItems:!e(k)},ce({default:y(()=>[u("div",Ne,[b(d(e(m)(t.yieldAPR.total,e(g).bp))+" ",1),u("span",Ve,d(e(i)),1)])]),_:2},[e(k)?{name:"item",fn:y(({item:[A,B]})=>[b(d(e(m)(B,e(g).bp))+" ",1),u("span",Fe,d(e(r)[e(W)(A)].symbol)+" "+d(v.$t("apr")),1)]),key:"0"}:void 0]),1032,["items","hideItems"])])}}}),Me={class:"ml-1"},Ee={class:"text-sm divide-y dark:divide-gray-900"},je={class:"px-3 pt-3 pb-1 bg-gray-50 dark:bg-gray-800 rounded-t","data-testid":"total-apr"},De={class:"text-secondary"},We={class:"text-lg font-bold normal-nums tracking-tighter"},Ge={class:"p-3 text-left"},He={class:"flex items-center mb-1 whitespace-nowrap","data-testid":"swap-fee-apr"},Ye={class:"ml-1 text-xs text-secondary"},tt=w({__name:"APRTooltip",props:{pool:null,poolApr:null},setup(t){const s=t,{fNum:l}=V(),n=o(()=>{var i;return((i=s.pool)==null?void 0:i.apr)||s.poolApr}),m=o(()=>{var i,_;return Number(((i=n.value)==null?void 0:i.swapFees)||0)<=oe&&Number(((_=n.value)==null?void 0:_.swapFees)||0)!==0}),c=o(()=>{var i;return N(((i=n.value)==null?void 0:i.tokenAprs.total)||"0").gt(0)}),r=o(()=>te(s.pool.id)),k=o(()=>n.value?se(n.value,s.pool.boost):"0");return(i,_)=>{const v=U,$=H,h=J;return e(m)?(p(),x(h,{key:0,width:"auto",noPad:""},{activator:y(()=>[u("div",Me,[e(c)||e(ae)(e(n))||e(r)?(p(),x(v,M({key:0,gradFrom:e(r)?"purple":"yellow",class:"-mr-1 h-4"},i.$attrs),null,16,["gradFrom"])):(p(),x($,M({key:1,name:"info",size:"sm",class:"text-gray-400 dark:text-gray-500"},i.$attrs),null,16))])]),default:y(()=>{var A,B,z,S;return[u("div",Ee,[u("div",je,[u("div",De,d(i.$t("totalAPR")),1),u("div",We,d(e(k)),1)]),u("div",Ge,[u("div",He,[b(d(e(l)(((A=e(n))==null?void 0:A.swapFees)||"0",e(g).bp))+" ",1),u("span",Ye,d(i.$t("swapFeeAPR")),1)]),e(r)?(p(),x(Ie,{key:0,apr:((B=e(n))==null?void 0:B.protocolApr)||0},null,8,["apr"])):C("",!0),(z=e(n))!=null&&z.tokenAprs&&e(c)?(p(),x(Le,{key:1,yieldAPR:(S=e(n))==null?void 0:S.tokenAprs,pool:t.pool},null,8,["yieldAPR","pool"])):C("",!0),F(Ce,{pool:t.pool,poolApr:e(n)},null,8,["pool","poolApr"])])])]}),_:1})):C("",!0)}}}),st=w({__name:"BalChipNew",props:{size:{default:"sm"}},setup(t){const s=t;return(l,n)=>{const m=fe;return p(),x(m,M(s,{color:"orange",class:"uppercase",outline:!1}),{default:y(()=>[b(d(l.$t("new")),1)]),_:1},16)}}}),G=ne.network.pools.Issues||{};function at(t){const{t:s}=E(),l=o(()=>Object.keys(G).map(r=>G[r].includes(t.value)&&r).filter(r=>!!r)),n=o(()=>l.value.length>0),m=o(()=>l.value.map(r=>({title:s(`poolWarnings.${r}.title`),description:s(`poolWarnings.${r}.description`)})));function c(r){return l.value.includes(r)}return{isAffected:n,warnings:m,isAffectedBy:c}}export{et as P,fe as _,st as a,tt as b,at as u};
//# sourceMappingURL=usePoolWarning-e429f343.js.map
