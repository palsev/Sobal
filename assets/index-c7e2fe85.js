import{b as S,P as vb,o as de,T as ki,S as Qe,m as p0,k as Bl,e as ya,h as xp,G as vp,x as Pb,H as Cs,c as Rt,i as Ti,Z as Ln,a8 as Eb,U as xn,a9 as Sb,a3 as kb,aa as Fl,ab as Ab,ac as Pp}from"./connector-d867b6ec.js";import{b8 as u0,b9 as Ob,a$ as ce,ba as Bb,bb as Fb,bc as d0,bd as Mb,be as Cb,bf as Rb,bg as Nb,bh as Lb,bi as Db,bj as Ub,bk as qb,bl as Vb,bm as Wb,bn as H,bo as ae,bp as R,bq as F,aJ as he,aN as ue,aM as Pe,br as Gb,bs as Hb,bt as $b,bu as Do,bv as Ml,bw as Tn,aP as c0,bx as eo,aT as to,aR as jb,by as zb,bz as Xb}from"./BalBtn-a3a093af.js";import{g as ho,q as Xe,r as Jb}from"./runtime-core.esm-bundler-24a2b16f.js";import{B as Ep}from"./browser-6a4b4883.js";import{a as Yb,g as Kb}from"./_commonjsHelpers-87174ba5.js";try{const t=window;t._ethers==null&&(t._ethers=u0)}catch{}const Zb=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:Ob,BigNumber:S,Contract:ce,ContractFactory:Bb,FixedNumber:Fb,Signer:d0,VoidSigner:Mb,Wallet:Cb,Wordlist:Rb,constants:Nb,get errors(){return vb},ethers:u0,getDefaultProvider:Lb,logger:Db,providers:Ub,utils:qb,version:Vb,wordlists:Wb},Symbol.toStringTag,{value:"Module"}));var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ho<"u"?ho:typeof self<"u"?self:{},cr={exports:{}};(function(t,e){var n=200,a="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",r="[object Boolean]",l="[object Date]",p="[object Error]",u="[object Function]",d="[object GeneratorFunction]",c="[object Map]",m="[object Number]",f="[object Object]",I="[object Promise]",v="[object RegExp]",x="[object Set]",C="[object String]",j="[object Symbol]",U="[object WeakMap]",z="[object ArrayBuffer]",$="[object DataView]",b="[object Float32Array]",T="[object Float64Array]",w="[object Int8Array]",B="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",L="[object Uint32Array]",y=/[\\^$.*+?()[\]{}|]/g,P=/\w*$/,M=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,G={};G[o]=G[s]=G[z]=G[$]=G[r]=G[l]=G[b]=G[T]=G[w]=G[B]=G[A]=G[c]=G[m]=G[f]=G[v]=G[x]=G[C]=G[j]=G[O]=G[N]=G[k]=G[L]=!0,G[p]=G[u]=G[U]=!1;var K=typeof no=="object"&&no&&no.Object===Object&&no,ee=typeof self=="object"&&self&&self.Object===Object&&self,re=K||ee||Function("return this")(),le=e&&!e.nodeType&&e,me=le&&!0&&t&&!t.nodeType&&t,Me=me&&me.exports===le;function Ht(g,W){return g.set(W[0],W[1]),g}function dn(g,W){return g.add(W),g}function cn(g,W){for(var J=-1,se=g?g.length:0;++J<se&&W(g[J],J,g)!==!1;);return g}function ot(g,W){for(var J=-1,se=W.length,tt=g.length;++J<se;)g[tt+J]=W[J];return g}function At(g,W,J,se){var tt=-1,pt=g?g.length:0;for(se&&pt&&(J=g[++tt]);++tt<pt;)J=W(J,g[tt],tt,g);return J}function Ye(g,W){for(var J=-1,se=Array(g);++J<g;)se[J]=W(J);return se}function Ve(g,W){return g==null?void 0:g[W]}function ke(g){var W=!1;if(g!=null&&typeof g.toString!="function")try{W=!!(g+"")}catch{}return W}function jn(g){var W=-1,J=Array(g.size);return g.forEach(function(se,tt){J[++W]=[tt,se]}),J}function Pn(g,W){return function(J){return g(W(J))}}function zn(g){var W=-1,J=Array(g.size);return g.forEach(function(se){J[++W]=se}),J}var Sa=Array.prototype,ka=Function.prototype,yn=Object.prototype,En=re["__core-js_shared__"],Xn=function(){var g=/[^.]+$/.exec(En&&En.keys&&En.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Jn=ka.toString,Ot=yn.hasOwnProperty,mn=yn.toString,Aa=RegExp("^"+Jn.call(Ot).replace(y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yn=Me?re.Buffer:void 0,Kn=re.Symbol,Zn=re.Uint8Array,Oa=Pn(Object.getPrototypeOf,Object),Ba=Object.create,Fa=yn.propertyIsEnumerable,Ma=Sa.splice,Qn=Object.getOwnPropertySymbols,Ca=Yn?Yn.isBuffer:void 0,Ra=Pn(Object.keys,Object),Sn=Ka(re,"DataView"),Jt=Ka(re,"Map"),kn=Ka(re,"Promise"),An=Ka(re,"Set"),On=Ka(re,"WeakMap"),Yt=Ka(Object,"create"),Na=aa(Sn),La=aa(Jt),Da=aa(kn),Ua=aa(An),qa=aa(On),ea=Kn?Kn.prototype:void 0,ta=ea?ea.valueOf:void 0;function Lt(g){var W=-1,J=g?g.length:0;for(this.clear();++W<J;){var se=g[W];this.set(se[0],se[1])}}function Va(){this.__data__=Yt?Yt(null):{}}function Wa(g){return this.has(g)&&delete this.__data__[g]}function Ga(g){var W=this.__data__;if(Yt){var J=W[g];return J===a?void 0:J}return Ot.call(W,g)?W[g]:void 0}function Ha(g){var W=this.__data__;return Yt?W[g]!==void 0:Ot.call(W,g)}function $a(g,W){var J=this.__data__;return J[g]=Yt&&W===void 0?a:W,this}Lt.prototype.clear=Va,Lt.prototype.delete=Wa,Lt.prototype.get=Ga,Lt.prototype.has=Ha,Lt.prototype.set=$a;function Tt(g){var W=-1,J=g?g.length:0;for(this.clear();++W<J;){var se=g[W];this.set(se[0],se[1])}}function ja(){this.__data__=[]}function za(g){var W=this.__data__,J=Yi(W,g);if(J<0)return!1;var se=W.length-1;return J==se?W.pop():Ma.call(W,J,1),!0}function Xa(g){var W=this.__data__,J=Yi(W,g);return J<0?void 0:W[J][1]}function Rm(g){return Yi(this.__data__,g)>-1}function Nm(g,W){var J=this.__data__,se=Yi(J,g);return se<0?J.push([g,W]):J[se][1]=W,this}Tt.prototype.clear=ja,Tt.prototype.delete=za,Tt.prototype.get=Xa,Tt.prototype.has=Rm,Tt.prototype.set=Nm;function Ja(g){var W=-1,J=g?g.length:0;for(this.clear();++W<J;){var se=g[W];this.set(se[0],se[1])}}function Lm(){this.__data__={hash:new Lt,map:new(Jt||Tt),string:new Lt}}function Dm(g){return Ki(this,g).delete(g)}function Um(g){return Ki(this,g).get(g)}function qm(g){return Ki(this,g).has(g)}function Vm(g,W){return Ki(this,g).set(g,W),this}Ja.prototype.clear=Lm,Ja.prototype.delete=Dm,Ja.prototype.get=Um,Ja.prototype.has=qm,Ja.prototype.set=Vm;function Ya(g){this.__data__=new Tt(g)}function Wm(){this.__data__=new Tt}function Gm(g){return this.__data__.delete(g)}function Hm(g){return this.__data__.get(g)}function $m(g){return this.__data__.has(g)}function jm(g,W){var J=this.__data__;if(J instanceof Tt){var se=J.__data__;if(!Jt||se.length<n-1)return se.push([g,W]),this;J=this.__data__=new Ja(se)}return J.set(g,W),this}Ya.prototype.clear=Wm,Ya.prototype.delete=Gm,Ya.prototype.get=Hm,Ya.prototype.has=$m,Ya.prototype.set=jm;function zm(g,W){var J=Bs(g)||Tb(g)?Ye(g.length,String):[],se=J.length,tt=!!se;for(var pt in g)(W||Ot.call(g,pt))&&!(tt&&(pt=="length"||yb(pt,se)))&&J.push(pt);return J}function cp(g,W,J){var se=g[W];(!(Ot.call(g,W)&&fp(se,J))||J===void 0&&!(W in g))&&(g[W]=J)}function Yi(g,W){for(var J=g.length;J--;)if(fp(g[J][0],W))return J;return-1}function Xm(g,W){return g&&yp(W,Fs(W),g)}function As(g,W,J,se,tt,pt,Dt){var ht;if(se&&(ht=pt?se(g,tt,pt,Dt):se(g)),ht!==void 0)return ht;if(!Zi(g))return g;var Ip=Bs(g);if(Ip){if(ht=ub(g),!W)return rb(g,ht)}else{var Za=na(g),gp=Za==u||Za==d;if(Ib(g))return eb(g,W);if(Za==f||Za==o||gp&&!pt){if(ke(g))return pt?g:{};if(ht=db(gp?{}:g),!W)return lb(g,Xm(ht,g))}else{if(!G[Za])return pt?g:{};ht=cb(g,Za,As,W)}}Dt||(Dt=new Ya);var wp=Dt.get(g);if(wp)return wp;if(Dt.set(g,ht),!Ip)var _p=J?pb(g):Fs(g);return cn(_p||g,function(Ms,Qi){_p&&(Qi=Ms,Ms=g[Qi]),cp(ht,Qi,As(Ms,W,J,se,Qi,g,Dt))}),ht}function Jm(g){return Zi(g)?Ba(g):{}}function Ym(g,W,J){var se=W(g);return Bs(g)?se:ot(se,J(g))}function Km(g){return mn.call(g)}function Zm(g){if(!Zi(g)||bb(g))return!1;var W=hp(g)||ke(g)?Aa:M;return W.test(aa(g))}function Qm(g){if(!bp(g))return Ra(g);var W=[];for(var J in Object(g))Ot.call(g,J)&&J!="constructor"&&W.push(J);return W}function eb(g,W){if(W)return g.slice();var J=new g.constructor(g.length);return g.copy(J),J}function Os(g){var W=new g.constructor(g.byteLength);return new Zn(W).set(new Zn(g)),W}function tb(g,W){var J=W?Os(g.buffer):g.buffer;return new g.constructor(J,g.byteOffset,g.byteLength)}function nb(g,W,J){var se=W?J(jn(g),!0):jn(g);return At(se,Ht,new g.constructor)}function ab(g){var W=new g.constructor(g.source,P.exec(g));return W.lastIndex=g.lastIndex,W}function ib(g,W,J){var se=W?J(zn(g),!0):zn(g);return At(se,dn,new g.constructor)}function ob(g){return ta?Object(ta.call(g)):{}}function sb(g,W){var J=W?Os(g.buffer):g.buffer;return new g.constructor(J,g.byteOffset,g.length)}function rb(g,W){var J=-1,se=g.length;for(W||(W=Array(se));++J<se;)W[J]=g[J];return W}function yp(g,W,J,se){J||(J={});for(var tt=-1,pt=W.length;++tt<pt;){var Dt=W[tt],ht=se?se(J[Dt],g[Dt],Dt,J,g):void 0;cp(J,Dt,ht===void 0?g[Dt]:ht)}return J}function lb(g,W){return yp(g,mp(g),W)}function pb(g){return Ym(g,Fs,mp)}function Ki(g,W){var J=g.__data__;return mb(W)?J[typeof W=="string"?"string":"hash"]:J.map}function Ka(g,W){var J=Ve(g,W);return Zm(J)?J:void 0}var mp=Qn?Pn(Qn,Object):_b,na=Km;(Sn&&na(new Sn(new ArrayBuffer(1)))!=$||Jt&&na(new Jt)!=c||kn&&na(kn.resolve())!=I||An&&na(new An)!=x||On&&na(new On)!=U)&&(na=function(g){var W=mn.call(g),J=W==f?g.constructor:void 0,se=J?aa(J):void 0;if(se)switch(se){case Na:return $;case La:return c;case Da:return I;case Ua:return x;case qa:return U}return W});function ub(g){var W=g.length,J=g.constructor(W);return W&&typeof g[0]=="string"&&Ot.call(g,"index")&&(J.index=g.index,J.input=g.input),J}function db(g){return typeof g.constructor=="function"&&!bp(g)?Jm(Oa(g)):{}}function cb(g,W,J,se){var tt=g.constructor;switch(W){case z:return Os(g);case r:case l:return new tt(+g);case $:return tb(g,se);case b:case T:case w:case B:case A:case O:case N:case k:case L:return sb(g,se);case c:return nb(g,se,J);case m:case C:return new tt(g);case v:return ab(g);case x:return ib(g,se,J);case j:return ob(g)}}function yb(g,W){return W=W??i,!!W&&(typeof g=="number"||D.test(g))&&g>-1&&g%1==0&&g<W}function mb(g){var W=typeof g;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?g!=="__proto__":g===null}function bb(g){return!!Xn&&Xn in g}function bp(g){var W=g&&g.constructor,J=typeof W=="function"&&W.prototype||yn;return g===J}function aa(g){if(g!=null){try{return Jn.call(g)}catch{}try{return g+""}catch{}}return""}function fb(g){return As(g,!0,!0)}function fp(g,W){return g===W||g!==g&&W!==W}function Tb(g){return hb(g)&&Ot.call(g,"callee")&&(!Fa.call(g,"callee")||mn.call(g)==o)}var Bs=Array.isArray;function Tp(g){return g!=null&&gb(g.length)&&!hp(g)}function hb(g){return wb(g)&&Tp(g)}var Ib=Ca||xb;function hp(g){var W=Zi(g)?mn.call(g):"";return W==u||W==d}function gb(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=i}function Zi(g){var W=typeof g;return!!g&&(W=="object"||W=="function")}function wb(g){return!!g&&typeof g=="object"}function Fs(g){return Tp(g)?zm(g):Qm(g)}function _b(){return[]}function xb(){return!1}t.exports=fb})(cr,cr.exports);var Xt=cr.exports,Qb=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Rs=Math.ceil,Kt=Math.floor,It="[BigNumber Error] ",Sp=It+"Number primitive has more than 15 significant digits: ",$t=1e14,Te=14,Ns=9007199254740991,Ls=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Bn=1e7,nt=1e9;function y0(t){var e,n,a,i=x.prototype={constructor:x,toString:null,valueOf:null},o=new x(1),s=20,r=4,l=-7,p=21,u=-1e7,d=1e7,c=!1,m=1,f=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},v="0123456789abcdefghijklmnopqrstuvwxyz";function x(b,T){var w,B,A,O,N,k,L,y,P=this;if(!(P instanceof x))return new x(b,T);if(T==null){if(b&&b._isBigNumber===!0){P.s=b.s,!b.c||b.e>d?P.c=P.e=null:b.e<u?P.c=[P.e=0]:(P.e=b.e,P.c=b.c.slice());return}if((k=typeof b=="number")&&b*0==0){if(P.s=1/b<0?(b=-b,-1):1,b===~~b){for(O=0,N=b;N>=10;N/=10,O++);O>d?P.c=P.e=null:(P.e=O,P.c=[b]);return}y=String(b)}else{if(!Qb.test(y=String(b)))return a(P,y,k);P.s=y.charCodeAt(0)==45?(y=y.slice(1),-1):1}(O=y.indexOf("."))>-1&&(y=y.replace(".","")),(N=y.search(/e/i))>0?(O<0&&(O=N),O+=+y.slice(N+1),y=y.substring(0,N)):O<0&&(O=y.length)}else{if(qe(T,2,v.length,"Base"),T==10)return P=new x(b),z(P,s+P.e+1,r);if(y=String(b),k=typeof b=="number"){if(b*0!=0)return a(P,y,k,T);if(P.s=1/b<0?(y=y.slice(1),-1):1,x.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(Sp+b)}else P.s=y.charCodeAt(0)===45?(y=y.slice(1),-1):1;for(w=v.slice(0,T),O=N=0,L=y.length;N<L;N++)if(w.indexOf(B=y.charAt(N))<0){if(B=="."){if(N>O){O=L;continue}}else if(!A&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){A=!0,N=-1,O=0;continue}return a(P,String(b),k,T)}k=!1,y=n(y,T,10,P.s),(O=y.indexOf("."))>-1?y=y.replace(".",""):O=y.length}for(N=0;y.charCodeAt(N)===48;N++);for(L=y.length;y.charCodeAt(--L)===48;);if(y=y.slice(N,++L)){if(L-=N,k&&x.DEBUG&&L>15&&(b>Ns||b!==Kt(b)))throw Error(Sp+P.s*b);if((O=O-N-1)>d)P.c=P.e=null;else if(O<u)P.c=[P.e=0];else{if(P.e=O,P.c=[],N=(O+1)%Te,O<0&&(N+=Te),N<L){for(N&&P.c.push(+y.slice(0,N)),L-=Te;N<L;)P.c.push(+y.slice(N,N+=Te));N=Te-(y=y.slice(N)).length}else N-=L;for(;N--;y+="0");P.c.push(+y)}}else P.c=[P.e=0]}x.clone=y0,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(b){var T,w;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(T="DECIMAL_PLACES")&&(w=b[T],qe(w,0,nt,T),s=w),b.hasOwnProperty(T="ROUNDING_MODE")&&(w=b[T],qe(w,0,8,T),r=w),b.hasOwnProperty(T="EXPONENTIAL_AT")&&(w=b[T],w&&w.pop?(qe(w[0],-nt,0,T),qe(w[1],0,nt,T),l=w[0],p=w[1]):(qe(w,-nt,nt,T),l=-(p=w<0?-w:w))),b.hasOwnProperty(T="RANGE"))if(w=b[T],w&&w.pop)qe(w[0],-nt,-1,T),qe(w[1],1,nt,T),u=w[0],d=w[1];else if(qe(w,-nt,nt,T),w)u=-(d=w<0?-w:w);else throw Error(It+T+" cannot be zero: "+w);if(b.hasOwnProperty(T="CRYPTO"))if(w=b[T],w===!!w)if(w)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))c=w;else throw c=!w,Error(It+"crypto unavailable");else c=w;else throw Error(It+T+" not true or false: "+w);if(b.hasOwnProperty(T="MODULO_MODE")&&(w=b[T],qe(w,0,9,T),m=w),b.hasOwnProperty(T="POW_PRECISION")&&(w=b[T],qe(w,0,nt,T),f=w),b.hasOwnProperty(T="FORMAT"))if(w=b[T],typeof w=="object")I=w;else throw Error(It+T+" not an object: "+w);if(b.hasOwnProperty(T="ALPHABET"))if(w=b[T],typeof w=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(w))v=w;else throw Error(It+T+" invalid: "+w)}else throw Error(It+"Object expected: "+b);return{DECIMAL_PLACES:s,ROUNDING_MODE:r,EXPONENTIAL_AT:[l,p],RANGE:[u,d],CRYPTO:c,MODULO_MODE:m,POW_PRECISION:f,FORMAT:I,ALPHABET:v}},x.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var T,w,B=b.c,A=b.e,O=b.s;e:if({}.toString.call(B)=="[object Array]"){if((O===1||O===-1)&&A>=-nt&&A<=nt&&A===Kt(A)){if(B[0]===0){if(A===0&&B.length===1)return!0;break e}if(T=(A+1)%Te,T<1&&(T+=Te),String(B[0]).length==T){for(T=0;T<B.length;T++)if(w=B[T],w<0||w>=$t||w!==Kt(w))break e;if(w!==0)return!0}}}else if(B===null&&A===null&&(O===null||O===1||O===-1))return!0;throw Error(It+"Invalid BigNumber: "+b)},x.maximum=x.max=function(){return j(arguments,i.lt)},x.minimum=x.min=function(){return j(arguments,i.gt)},x.random=function(){var b=9007199254740992,T=Math.random()*b&2097151?function(){return Kt(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(w){var B,A,O,N,k,L=0,y=[],P=new x(o);if(w==null?w=s:qe(w,0,nt),N=Rs(w/Te),c)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(N*=2));L<N;)k=B[L]*131072+(B[L+1]>>>11),k>=9e15?(A=crypto.getRandomValues(new Uint32Array(2)),B[L]=A[0],B[L+1]=A[1]):(y.push(k%1e14),L+=2);L=N/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(N*=7);L<N;)k=(B[L]&31)*281474976710656+B[L+1]*1099511627776+B[L+2]*4294967296+B[L+3]*16777216+(B[L+4]<<16)+(B[L+5]<<8)+B[L+6],k>=9e15?crypto.randomBytes(7).copy(B,L):(y.push(k%1e14),L+=7);L=N/7}else throw c=!1,Error(It+"crypto unavailable");if(!c)for(;L<N;)k=T(),k<9e15&&(y[L++]=k%1e14);for(N=y[--L],w%=Te,N&&w&&(k=Ls[Te-w],y[L]=Kt(N/k)*k);y[L]===0;y.pop(),L--);if(L<0)y=[O=0];else{for(O=-1;y[0]===0;y.splice(0,1),O-=Te);for(L=1,k=y[0];k>=10;k/=10,L++);L<Te&&(O-=Te-L)}return P.e=O,P.c=y,P}}(),x.sum=function(){for(var b=1,T=arguments,w=new x(T[0]);b<T.length;)w=w.plus(T[b++]);return w},n=function(){var b="0123456789";function T(w,B,A,O){for(var N,k=[0],L,y=0,P=w.length;y<P;){for(L=k.length;L--;k[L]*=B);for(k[0]+=O.indexOf(w.charAt(y++)),N=0;N<k.length;N++)k[N]>A-1&&(k[N+1]==null&&(k[N+1]=0),k[N+1]+=k[N]/A|0,k[N]%=A)}return k.reverse()}return function(w,B,A,O,N){var k,L,y,P,M,D,G,K,ee=w.indexOf("."),re=s,le=r;for(ee>=0&&(P=f,f=0,w=w.replace(".",""),K=new x(B),D=K.pow(w.length-ee),f=P,K.c=T(bn(Ut(D.c),D.e,"0"),10,A,b),K.e=K.c.length),G=T(w,B,A,N?(k=v,b):(k=b,v)),y=P=G.length;G[--P]==0;G.pop());if(!G[0])return k.charAt(0);if(ee<0?--y:(D.c=G,D.e=y,D.s=O,D=e(D,K,re,le,A),G=D.c,M=D.r,y=D.e),L=y+re+1,ee=G[L],P=A/2,M=M||L<0||G[L+1]!=null,M=le<4?(ee!=null||M)&&(le==0||le==(D.s<0?3:2)):ee>P||ee==P&&(le==4||M||le==6&&G[L-1]&1||le==(D.s<0?8:7)),L<1||!G[0])w=M?bn(k.charAt(1),-re,k.charAt(0)):k.charAt(0);else{if(G.length=L,M)for(--A;++G[--L]>A;)G[L]=0,L||(++y,G=[1].concat(G));for(P=G.length;!G[--P];);for(ee=0,w="";ee<=P;w+=k.charAt(G[ee++]));w=bn(w,y,k.charAt(0))}return w}}(),e=function(){function b(B,A,O){var N,k,L,y,P=0,M=B.length,D=A%Bn,G=A/Bn|0;for(B=B.slice();M--;)L=B[M]%Bn,y=B[M]/Bn|0,N=G*L+y*D,k=D*L+N%Bn*Bn+P,P=(k/O|0)+(N/Bn|0)+G*y,B[M]=k%O;return P&&(B=[P].concat(B)),B}function T(B,A,O,N){var k,L;if(O!=N)L=O>N?1:-1;else for(k=L=0;k<O;k++)if(B[k]!=A[k]){L=B[k]>A[k]?1:-1;break}return L}function w(B,A,O,N){for(var k=0;O--;)B[O]-=k,k=B[O]<A[O]?1:0,B[O]=k*N+B[O]-A[O];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,A,O,N,k){var L,y,P,M,D,G,K,ee,re,le,me,Me,Ht,dn,cn,ot,At,Ye=B.s==A.s?1:-1,Ve=B.c,ke=A.c;if(!Ve||!Ve[0]||!ke||!ke[0])return new x(!B.s||!A.s||(Ve?ke&&Ve[0]==ke[0]:!ke)?NaN:Ve&&Ve[0]==0||!ke?Ye*0:Ye/0);for(ee=new x(Ye),re=ee.c=[],y=B.e-A.e,Ye=O+y+1,k||(k=$t,y=qt(B.e/Te)-qt(A.e/Te),Ye=Ye/Te|0),P=0;ke[P]==(Ve[P]||0);P++);if(ke[P]>(Ve[P]||0)&&y--,Ye<0)re.push(1),M=!0;else{for(dn=Ve.length,ot=ke.length,P=0,Ye+=2,D=Kt(k/(ke[0]+1)),D>1&&(ke=b(ke,D,k),Ve=b(Ve,D,k),ot=ke.length,dn=Ve.length),Ht=ot,le=Ve.slice(0,ot),me=le.length;me<ot;le[me++]=0);At=ke.slice(),At=[0].concat(At),cn=ke[0],ke[1]>=k/2&&cn++;do{if(D=0,L=T(ke,le,ot,me),L<0){if(Me=le[0],ot!=me&&(Me=Me*k+(le[1]||0)),D=Kt(Me/cn),D>1)for(D>=k&&(D=k-1),G=b(ke,D,k),K=G.length,me=le.length;T(G,le,K,me)==1;)D--,w(G,ot<K?At:ke,K,k),K=G.length,L=1;else D==0&&(L=D=1),G=ke.slice(),K=G.length;if(K<me&&(G=[0].concat(G)),w(le,G,me,k),me=le.length,L==-1)for(;T(ke,le,ot,me)<1;)D++,w(le,ot<me?At:ke,me,k),me=le.length}else L===0&&(D++,le=[0]);re[P++]=D,le[0]?le[me++]=Ve[Ht]||0:(le=[Ve[Ht]],me=1)}while((Ht++<dn||le[0]!=null)&&Ye--);M=le[0]!=null,re[0]||re.splice(0,1)}if(k==$t){for(P=1,Ye=re[0];Ye>=10;Ye/=10,P++);z(ee,O+(ee.e=P+y*Te-1)+1,N,M)}else ee.e=y,ee.r=+M;return ee}}();function C(b,T,w,B){var A,O,N,k,L;if(w==null?w=r:qe(w,0,8),!b.c)return b.toString();if(A=b.c[0],N=b.e,T==null)L=Ut(b.c),L=B==1||B==2&&(N<=l||N>=p)?io(L,N):bn(L,N,"0");else if(b=z(new x(b),T,w),O=b.e,L=Ut(b.c),k=L.length,B==1||B==2&&(T<=O||O<=l)){for(;k<T;L+="0",k++);L=io(L,O)}else if(T-=N,L=bn(L,O,"0"),O+1>k){if(--T>0)for(L+=".";T--;L+="0");}else if(T+=O-k,T>0)for(O+1==k&&(L+=".");T--;L+="0");return b.s<0&&A?"-"+L:L}function j(b,T){for(var w,B=1,A=new x(b[0]);B<b.length;B++)if(w=new x(b[B]),w.s)T.call(A,w)&&(A=w);else{A=w;break}return A}function U(b,T,w){for(var B=1,A=T.length;!T[--A];T.pop());for(A=T[0];A>=10;A/=10,B++);return(w=B+w*Te-1)>d?b.c=b.e=null:w<u?b.c=[b.e=0]:(b.e=w,b.c=T),b}a=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,w=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(O,N,k,L){var y,P=k?N:N.replace(A,"");if(B.test(P))O.s=isNaN(P)?null:P<0?-1:1;else{if(!k&&(P=P.replace(b,function(M,D,G){return y=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!L||L==y?D:M}),L&&(y=L,P=P.replace(T,"$1").replace(w,"0.$1")),N!=P))return new x(P,y);if(x.DEBUG)throw Error(It+"Not a"+(L?" base "+L:"")+" number: "+N);O.s=null}O.c=O.e=null}}();function z(b,T,w,B){var A,O,N,k,L,y,P,M=b.c,D=Ls;if(M){e:{for(A=1,k=M[0];k>=10;k/=10,A++);if(O=T-A,O<0)O+=Te,N=T,L=M[y=0],P=L/D[A-N-1]%10|0;else if(y=Rs((O+1)/Te),y>=M.length)if(B){for(;M.length<=y;M.push(0));L=P=0,A=1,O%=Te,N=O-Te+1}else break e;else{for(L=k=M[y],A=1;k>=10;k/=10,A++);O%=Te,N=O-Te+A,P=N<0?0:L/D[A-N-1]%10|0}if(B=B||T<0||M[y+1]!=null||(N<0?L:L%D[A-N-1]),B=w<4?(P||B)&&(w==0||w==(b.s<0?3:2)):P>5||P==5&&(w==4||B||w==6&&(O>0?N>0?L/D[A-N]:0:M[y-1])%10&1||w==(b.s<0?8:7)),T<1||!M[0])return M.length=0,B?(T-=b.e+1,M[0]=D[(Te-T%Te)%Te],b.e=-T||0):M[0]=b.e=0,b;if(O==0?(M.length=y,k=1,y--):(M.length=y+1,k=D[Te-O],M[y]=N>0?Kt(L/D[A-N]%D[N])*k:0),B)for(;;)if(y==0){for(O=1,N=M[0];N>=10;N/=10,O++);for(N=M[0]+=k,k=1;N>=10;N/=10,k++);O!=k&&(b.e++,M[0]==$t&&(M[0]=1));break}else{if(M[y]+=k,M[y]!=$t)break;M[y--]=0,k=1}for(O=M.length;M[--O]===0;M.pop());}b.e>d?b.c=b.e=null:b.e<u&&(b.c=[b.e=0])}return b}function $(b){var T,w=b.e;return w===null?b.toString():(T=Ut(b.c),T=w<=l||w>=p?io(T,w):bn(T,w,"0"),b.s<0?"-"+T:T)}return i.absoluteValue=i.abs=function(){var b=new x(this);return b.s<0&&(b.s=1),b},i.comparedTo=function(b,T){return Qa(this,new x(b,T))},i.decimalPlaces=i.dp=function(b,T){var w,B,A,O=this;if(b!=null)return qe(b,0,nt),T==null?T=r:qe(T,0,8),z(new x(O),b+O.e+1,T);if(!(w=O.c))return null;if(B=((A=w.length-1)-qt(this.e/Te))*Te,A=w[A])for(;A%10==0;A/=10,B--);return B<0&&(B=0),B},i.dividedBy=i.div=function(b,T){return e(this,new x(b,T),s,r)},i.dividedToIntegerBy=i.idiv=function(b,T){return e(this,new x(b,T),0,1)},i.exponentiatedBy=i.pow=function(b,T){var w,B,A,O,N,k,L,y,P,M=this;if(b=new x(b),b.c&&!b.isInteger())throw Error(It+"Exponent not an integer: "+$(b));if(T!=null&&(T=new x(T)),k=b.e>14,!M.c||!M.c[0]||M.c[0]==1&&!M.e&&M.c.length==1||!b.c||!b.c[0])return P=new x(Math.pow(+$(M),k?2-ao(b):+$(b))),T?P.mod(T):P;if(L=b.s<0,T){if(T.c?!T.c[0]:!T.s)return new x(NaN);B=!L&&M.isInteger()&&T.isInteger(),B&&(M=M.mod(T))}else{if(b.e>9&&(M.e>0||M.e<-1||(M.e==0?M.c[0]>1||k&&M.c[1]>=24e7:M.c[0]<8e13||k&&M.c[0]<=9999975e7)))return O=M.s<0&&ao(b)?-0:0,M.e>-1&&(O=1/O),new x(L?1/O:O);f&&(O=Rs(f/Te+2))}for(k?(w=new x(.5),L&&(b.s=1),y=ao(b)):(A=Math.abs(+$(b)),y=A%2),P=new x(o);;){if(y){if(P=P.times(M),!P.c)break;O?P.c.length>O&&(P.c.length=O):B&&(P=P.mod(T))}if(A){if(A=Kt(A/2),A===0)break;y=A%2}else if(b=b.times(w),z(b,b.e+1,1),b.e>14)y=ao(b);else{if(A=+$(b),A===0)break;y=A%2}M=M.times(M),O?M.c&&M.c.length>O&&(M.c.length=O):B&&(M=M.mod(T))}return B?P:(L&&(P=o.div(P)),T?P.mod(T):O?z(P,f,r,N):P)},i.integerValue=function(b){var T=new x(this);return b==null?b=r:qe(b,0,8),z(T,T.e+1,b)},i.isEqualTo=i.eq=function(b,T){return Qa(this,new x(b,T))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(b,T){return Qa(this,new x(b,T))>0},i.isGreaterThanOrEqualTo=i.gte=function(b,T){return(T=Qa(this,new x(b,T)))===1||T===0},i.isInteger=function(){return!!this.c&&qt(this.e/Te)>this.c.length-2},i.isLessThan=i.lt=function(b,T){return Qa(this,new x(b,T))<0},i.isLessThanOrEqualTo=i.lte=function(b,T){return(T=Qa(this,new x(b,T)))===-1||T===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(b,T){var w,B,A,O,N=this,k=N.s;if(b=new x(b,T),T=b.s,!k||!T)return new x(NaN);if(k!=T)return b.s=-T,N.plus(b);var L=N.e/Te,y=b.e/Te,P=N.c,M=b.c;if(!L||!y){if(!P||!M)return P?(b.s=-T,b):new x(M?N:NaN);if(!P[0]||!M[0])return M[0]?(b.s=-T,b):new x(P[0]?N:r==3?-0:0)}if(L=qt(L),y=qt(y),P=P.slice(),k=L-y){for((O=k<0)?(k=-k,A=P):(y=L,A=M),A.reverse(),T=k;T--;A.push(0));A.reverse()}else for(B=(O=(k=P.length)<(T=M.length))?k:T,k=T=0;T<B;T++)if(P[T]!=M[T]){O=P[T]<M[T];break}if(O&&(A=P,P=M,M=A,b.s=-b.s),T=(B=M.length)-(w=P.length),T>0)for(;T--;P[w++]=0);for(T=$t-1;B>k;){if(P[--B]<M[B]){for(w=B;w&&!P[--w];P[w]=T);--P[w],P[B]+=$t}P[B]-=M[B]}for(;P[0]==0;P.splice(0,1),--y);return P[0]?U(b,P,y):(b.s=r==3?-1:1,b.c=[b.e=0],b)},i.modulo=i.mod=function(b,T){var w,B,A=this;return b=new x(b,T),!A.c||!b.s||b.c&&!b.c[0]?new x(NaN):!b.c||A.c&&!A.c[0]?new x(A):(m==9?(B=b.s,b.s=1,w=e(A,b,0,3),b.s=B,w.s*=B):w=e(A,b,0,m),b=A.minus(w.times(b)),!b.c[0]&&m==1&&(b.s=A.s),b)},i.multipliedBy=i.times=function(b,T){var w,B,A,O,N,k,L,y,P,M,D,G,K,ee,re,le=this,me=le.c,Me=(b=new x(b,T)).c;if(!me||!Me||!me[0]||!Me[0])return!le.s||!b.s||me&&!me[0]&&!Me||Me&&!Me[0]&&!me?b.c=b.e=b.s=null:(b.s*=le.s,!me||!Me?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(B=qt(le.e/Te)+qt(b.e/Te),b.s*=le.s,L=me.length,M=Me.length,L<M&&(K=me,me=Me,Me=K,A=L,L=M,M=A),A=L+M,K=[];A--;K.push(0));for(ee=$t,re=Bn,A=M;--A>=0;){for(w=0,D=Me[A]%re,G=Me[A]/re|0,N=L,O=A+N;O>A;)y=me[--N]%re,P=me[N]/re|0,k=G*y+P*D,y=D*y+k%re*re+K[O]+w,w=(y/ee|0)+(k/re|0)+G*P,K[O--]=y%ee;K[O]=w}return w?++B:K.splice(0,1),U(b,K,B)},i.negated=function(){var b=new x(this);return b.s=-b.s||null,b},i.plus=function(b,T){var w,B=this,A=B.s;if(b=new x(b,T),T=b.s,!A||!T)return new x(NaN);if(A!=T)return b.s=-T,B.minus(b);var O=B.e/Te,N=b.e/Te,k=B.c,L=b.c;if(!O||!N){if(!k||!L)return new x(A/0);if(!k[0]||!L[0])return L[0]?b:new x(k[0]?B:A*0)}if(O=qt(O),N=qt(N),k=k.slice(),A=O-N){for(A>0?(N=O,w=L):(A=-A,w=k),w.reverse();A--;w.push(0));w.reverse()}for(A=k.length,T=L.length,A-T<0&&(w=L,L=k,k=w,T=A),A=0;T;)A=(k[--T]=k[T]+L[T]+A)/$t|0,k[T]=$t===k[T]?0:k[T]%$t;return A&&(k=[A].concat(k),++N),U(b,k,N)},i.precision=i.sd=function(b,T){var w,B,A,O=this;if(b!=null&&b!==!!b)return qe(b,1,nt),T==null?T=r:qe(T,0,8),z(new x(O),b,T);if(!(w=O.c))return null;if(A=w.length-1,B=A*Te+1,A=w[A]){for(;A%10==0;A/=10,B--);for(A=w[0];A>=10;A/=10,B++);}return b&&O.e+1>B&&(B=O.e+1),B},i.shiftedBy=function(b){return qe(b,-Ns,Ns),this.times("1e"+b)},i.squareRoot=i.sqrt=function(){var b,T,w,B,A,O=this,N=O.c,k=O.s,L=O.e,y=s+4,P=new x("0.5");if(k!==1||!N||!N[0])return new x(!k||k<0&&(!N||N[0])?NaN:N?O:1/0);if(k=Math.sqrt(+$(O)),k==0||k==1/0?(T=Ut(N),(T.length+L)%2==0&&(T+="0"),k=Math.sqrt(+T),L=qt((L+1)/2)-(L<0||L%2),k==1/0?T="5e"+L:(T=k.toExponential(),T=T.slice(0,T.indexOf("e")+1)+L),w=new x(T)):w=new x(k+""),w.c[0]){for(L=w.e,k=L+y,k<3&&(k=0);;)if(A=w,w=P.times(A.plus(e(O,A,y,1))),Ut(A.c).slice(0,k)===(T=Ut(w.c)).slice(0,k))if(w.e<L&&--k,T=T.slice(k-3,k+1),T=="9999"||!B&&T=="4999"){if(!B&&(z(A,A.e+s+2,0),A.times(A).eq(O))){w=A;break}y+=4,k+=4,B=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(z(w,w.e+s+2,1),b=!w.times(w).eq(O));break}}return z(w,w.e+s+1,r,b)},i.toExponential=function(b,T){return b!=null&&(qe(b,0,nt),b++),C(this,b,T,1)},i.toFixed=function(b,T){return b!=null&&(qe(b,0,nt),b=b+this.e+1),C(this,b,T)},i.toFormat=function(b,T,w){var B,A=this;if(w==null)b!=null&&T&&typeof T=="object"?(w=T,T=null):b&&typeof b=="object"?(w=b,b=T=null):w=I;else if(typeof w!="object")throw Error(It+"Argument not an object: "+w);if(B=A.toFixed(b,T),A.c){var O,N=B.split("."),k=+w.groupSize,L=+w.secondaryGroupSize,y=w.groupSeparator||"",P=N[0],M=N[1],D=A.s<0,G=D?P.slice(1):P,K=G.length;if(L&&(O=k,k=L,L=O,K-=O),k>0&&K>0){for(O=K%k||k,P=G.substr(0,O);O<K;O+=k)P+=y+G.substr(O,k);L>0&&(P+=y+G.slice(O)),D&&(P="-"+P)}B=M?P+(w.decimalSeparator||"")+((L=+w.fractionGroupSize)?M.replace(new RegExp("\\d{"+L+"}\\B","g"),"$&"+(w.fractionGroupSeparator||"")):M):P}return(w.prefix||"")+B+(w.suffix||"")},i.toFraction=function(b){var T,w,B,A,O,N,k,L,y,P,M,D,G=this,K=G.c;if(b!=null&&(k=new x(b),!k.isInteger()&&(k.c||k.s!==1)||k.lt(o)))throw Error(It+"Argument "+(k.isInteger()?"out of range: ":"not an integer: ")+$(k));if(!K)return new x(G);for(T=new x(o),y=w=new x(o),B=L=new x(o),D=Ut(K),O=T.e=D.length-G.e-1,T.c[0]=Ls[(N=O%Te)<0?Te+N:N],b=!b||k.comparedTo(T)>0?O>0?T:y:k,N=d,d=1/0,k=new x(D),L.c[0]=0;P=e(k,T,0,1),A=w.plus(P.times(B)),A.comparedTo(b)!=1;)w=B,B=A,y=L.plus(P.times(A=y)),L=A,T=k.minus(P.times(A=T)),k=A;return A=e(b.minus(w),B,0,1),L=L.plus(A.times(y)),w=w.plus(A.times(B)),L.s=y.s=G.s,O=O*2,M=e(y,B,O,r).minus(G).abs().comparedTo(e(L,w,O,r).minus(G).abs())<1?[y,B]:[L,w],d=N,M},i.toNumber=function(){return+$(this)},i.toPrecision=function(b,T){return b!=null&&qe(b,1,nt),C(this,b,T,2)},i.toString=function(b){var T,w=this,B=w.s,A=w.e;return A===null?B?(T="Infinity",B<0&&(T="-"+T)):T="NaN":(b==null?T=A<=l||A>=p?io(Ut(w.c),A):bn(Ut(w.c),A,"0"):b===10?(w=z(new x(w),s+A+1,r),T=bn(Ut(w.c),w.e,"0")):(qe(b,2,v.length,"Base"),T=n(bn(Ut(w.c),A,"0"),10,b,B,!0)),B<0&&w.c[0]&&(T="-"+T)),T},i.valueOf=i.toJSON=function(){return $(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&x.set(t),x}function qt(t){var e=t|0;return t>0||t===e?e:e-1}function Ut(t){for(var e,n,a=1,i=t.length,o=t[0]+"";a<i;){for(e=t[a++]+"",n=Te-e.length;n--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Qa(t,e){var n,a,i=t.c,o=e.c,s=t.s,r=e.s,l=t.e,p=e.e;if(!s||!r)return null;if(n=i&&!i[0],a=o&&!o[0],n||a)return n?a?0:-r:s;if(s!=r)return s;if(n=s<0,a=l==p,!i||!o)return a?0:!i^n?1:-1;if(!a)return l>p^n?1:-1;for(r=(l=i.length)<(p=o.length)?l:p,s=0;s<r;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==p?0:l>p^n?1:-1}function qe(t,e,n,a){if(t<e||t>n||t!==Kt(t))throw Error(It+(a||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function ao(t){var e=t.c.length-1;return qt(t.e/Te)==e&&t.c[e]%2!=0}function io(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function bn(t,e,n){var a,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(a=t.length,++e>a){for(i=n,e-=a;--e;i+=n);t+=i}else e<a&&(t=t.slice(0,e)+"."+t.slice(e));return t}var ze=y0();ze.config({EXPONENTIAL_AT:[-100,100],ROUNDING_MODE:1,DECIMAL_PLACES:18});const V=_(0),Ge=_(1),nn=_("Infinity");function Ae(t,e){const n=new ze(e.toString()),a=new ze(10).pow(n);return t.times(a)}function _(t){return new ze(t.toString())}const Se=BigInt(0),Fn=BigInt(1),m0=BigInt("1000000000000000000"),wt=(t,e)=>{if(!t)throw new Error(e)};function b0(t){const e=BigInt(18)-t;return m0*BigInt(10)**e}function ef(t,e){return h.mulDownFixed(t,e)}function tf(t,e){return h.divDownFixed(t,e)}class h{static add(e,n){const a=e+n;return wt(n>=0&&a>=e||n<0&&a<e,"Errors.ADD_OVERFLOW"),a}static sub(e,n){return wt(n<=e,"Errors.SUB_OVERFLOW"),e-n}static max(e,n){return e>=n?e:n}static min(e,n){return e<n?e:n}static mul(e,n){const a=e*n;return wt(e==Se||a/e==n,"Errors.MUL_OVERFLOW"),a}static div(e,n,a){return a?this.divUp(e,n):this.divDown(e,n)}static divDown(e,n){return wt(n!=Se,"Errors.ZERO_DIVISION"),e/n}static divUp(e,n){return wt(n!=Se,"Errors.ZERO_DIVISION"),e==Se?Se:Fn+(e-Fn)/n}static mulUpFixed(e,n){const a=e*n;return wt(e==Se||a/e==n,"Errors.MUL_OVERFLOW"),a==Se?Se:(a-Fn)/this.ONE+Fn}static divDownFixed(e,n){return wt(n!=Se,"Errors.ZERO_DIVISION"),e==Se?Se:e*this.ONE/n}static divUpFixed(e,n){if(wt(n!=Se,"Errors.ZERO_DIVISION"),e==Se)return Se;{const a=e*this.ONE;return wt(a/e==this.ONE,"Errors.DIV_INTERNAL"),(a-Fn)/n+Fn}}static powUpFixed(e,n){const a=_e.pow(e,n),i=this.add(this.mulUpFixed(a,this.MAX_POW_RELATIVE_ERROR),Fn);return this.add(a,i)}static powDown(e,n){const a=_e.pow(e,n),i=this.add(this.mulUpFixed(a,this.MAX_POW_RELATIVE_ERROR),Fn);return this.sub(a,i)}static complementFixed(e){return e<this.ONE?this.ONE-e:Se}static mulDownFixed(e,n){const a=e*n;return wt(e==Se||a/e==n,"Errors.MUL_OVERFLOW"),a/this.ONE}}h.ONE=BigInt("1000000000000000000");h.MAX_POW_RELATIVE_ERROR=BigInt(1e4);class _e{static pow(e,n){if(n===Se)return this.ONE_18;if(e==Se)return Se;wt(e<BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819968"),"Errors.X_OUT_OF_BOUNDS");const a=e;wt(n<this.MILD_EXPONENT_BOUND,"Errors.Y_OUT_OF_BOUNDS");const i=n;let o;if(this.LN_36_LOWER_BOUND<a&&a<this.LN_36_UPPER_BOUND){const s=this._ln_36(a);o=s/this.ONE_18*i+s%this.ONE_18*i/this.ONE_18}else o=this._ln(a)*i;return o/=this.ONE_18,wt(this.MIN_NATURAL_EXPONENT<=o&&o<=this.MAX_NATURAL_EXPONENT,"Errors.PRODUCT_OUT_OF_BOUNDS"),this.exp(o)}static exp(e){if(wt(e>=this.MIN_NATURAL_EXPONENT&&e<=this.MAX_NATURAL_EXPONENT,"Errors.INVALID_EXPONENT"),e<0)return this.ONE_18*this.ONE_18/this.exp(BigInt(-1)*e);let n;e>=this.x0?(e-=this.x0,n=this.a0):e>=this.x1?(e-=this.x1,n=this.a1):n=BigInt(1),e*=BigInt(100);let a=this.ONE_20;e>=this.x2&&(e-=this.x2,a=a*this.a2/this.ONE_20),e>=this.x3&&(e-=this.x3,a=a*this.a3/this.ONE_20),e>=this.x4&&(e-=this.x4,a=a*this.a4/this.ONE_20),e>=this.x5&&(e-=this.x5,a=a*this.a5/this.ONE_20),e>=this.x6&&(e-=this.x6,a=a*this.a6/this.ONE_20),e>=this.x7&&(e-=this.x7,a=a*this.a7/this.ONE_20),e>=this.x8&&(e-=this.x8,a=a*this.a8/this.ONE_20),e>=this.x9&&(e-=this.x9,a=a*this.a9/this.ONE_20);let i=this.ONE_20,o;return o=e,i+=o,o=o*e/this.ONE_20/BigInt(2),i+=o,o=o*e/this.ONE_20/BigInt(3),i+=o,o=o*e/this.ONE_20/BigInt(4),i+=o,o=o*e/this.ONE_20/BigInt(5),i+=o,o=o*e/this.ONE_20/BigInt(6),i+=o,o=o*e/this.ONE_20/BigInt(7),i+=o,o=o*e/this.ONE_20/BigInt(8),i+=o,o=o*e/this.ONE_20/BigInt(9),i+=o,o=o*e/this.ONE_20/BigInt(10),i+=o,o=o*e/this.ONE_20/BigInt(11),i+=o,o=o*e/this.ONE_20/BigInt(12),i+=o,a*i/this.ONE_20*n/BigInt(100)}static _ln_36(e){e*=this.ONE_18;const n=(e-this.ONE_36)*this.ONE_36/(e+this.ONE_36),a=n*n/this.ONE_36;let i=n,o=i;return i=i*a/this.ONE_36,o+=i/BigInt(3),i=i*a/this.ONE_36,o+=i/BigInt(5),i=i*a/this.ONE_36,o+=i/BigInt(7),i=i*a/this.ONE_36,o+=i/BigInt(9),i=i*a/this.ONE_36,o+=i/BigInt(11),i=i*a/this.ONE_36,o+=i/BigInt(13),i=i*a/this.ONE_36,o+=i/BigInt(15),o*BigInt(2)}static _ln(e){if(e<this.ONE_18)return BigInt(-1)*this._ln(this.ONE_18*this.ONE_18/e);let n=Se;e>=this.a0*this.ONE_18&&(e/=this.a0,n+=this.x0),e>=this.a1*this.ONE_18&&(e/=this.a1,n+=this.x1),n*=BigInt(100),e*=BigInt(100),e>=this.a2&&(e=e*this.ONE_20/this.a2,n+=this.x2),e>=this.a3&&(e=e*this.ONE_20/this.a3,n+=this.x3),e>=this.a4&&(e=e*this.ONE_20/this.a4,n+=this.x4),e>=this.a5&&(e=e*this.ONE_20/this.a5,n+=this.x5),e>=this.a6&&(e=e*this.ONE_20/this.a6,n+=this.x6),e>=this.a7&&(e=e*this.ONE_20/this.a7,n+=this.x7),e>=this.a8&&(e=e*this.ONE_20/this.a8,n+=this.x8),e>=this.a9&&(e=e*this.ONE_20/this.a9,n+=this.x9),e>=this.a10&&(e=e*this.ONE_20/this.a10,n+=this.x10),e>=this.a11&&(e=e*this.ONE_20/this.a11,n+=this.x11);const a=(e-this.ONE_20)*this.ONE_20/(e+this.ONE_20),i=a*a/this.ONE_20;let o=a,s=o;return o=o*i/this.ONE_20,s+=o/BigInt(3),o=o*i/this.ONE_20,s+=o/BigInt(5),o=o*i/this.ONE_20,s+=o/BigInt(7),o=o*i/this.ONE_20,s+=o/BigInt(9),o=o*i/this.ONE_20,s+=o/BigInt(11),s*=BigInt(2),(n+s)/BigInt(100)}}_e.ONE_18=BigInt("1000000000000000000");_e.ONE_20=BigInt("100000000000000000000");_e.ONE_36=BigInt("1000000000000000000000000000000000000");_e.MAX_NATURAL_EXPONENT=BigInt("130000000000000000000");_e.MIN_NATURAL_EXPONENT=BigInt("-41000000000000000000");_e.LN_36_LOWER_BOUND=BigInt(_e.ONE_18)-BigInt("100000000000000000");_e.LN_36_UPPER_BOUND=BigInt(_e.ONE_18)+BigInt("100000000000000000");_e.MILD_EXPONENT_BOUND=BigInt(2)**BigInt(254)/_e.ONE_20;_e.x0=BigInt("128000000000000000000");_e.a0=BigInt("38877084059945950922200000000000000000000000000000000000");_e.x1=BigInt("64000000000000000000");_e.a1=BigInt("6235149080811616882910000000");_e.x2=BigInt("3200000000000000000000");_e.a2=BigInt("7896296018268069516100000000000000");_e.x3=BigInt("1600000000000000000000");_e.a3=BigInt("888611052050787263676000000");_e.x4=BigInt("800000000000000000000");_e.a4=BigInt("298095798704172827474000");_e.x5=BigInt("400000000000000000000");_e.a5=BigInt("5459815003314423907810");_e.x6=BigInt("200000000000000000000");_e.a6=BigInt("738905609893065022723");_e.x7=BigInt("100000000000000000000");_e.a7=BigInt("271828182845904523536");_e.x8=BigInt("50000000000000000000");_e.a8=BigInt("164872127070012814685");_e.x9=BigInt("25000000000000000000");_e.a9=BigInt("128402541668774148407");_e.x10=BigInt("12500000000000000000");_e.a10=BigInt("113314845306682631683");_e.x11=BigInt("6250000000000000000");_e.a11=BigInt("106449445891785942956");const Ie=(t,e)=>de(t)===de(e);function Y(t,e=0){const[n,a]=t.split(".");if(!a)return H(t,e);const i=n+"."+a.slice(0,e);return H(i,e)}const Dn=t=>H(t.balance,18).mul(H(t.priceRate??"1",18)).div(R).toBigInt(),Uo=(t,e)=>{const n=b0(BigInt(e.decimals));return S.from(ef(t,n).toString()).mul(H(e.priceRate??"1",18)).div(R).toBigInt()},qo=(t,e)=>{const n=t*m0/BigInt(H(e.priceRate??"1",18).toString()),a=b0(BigInt(e.decimals));return tf(n,a)};var oe;(function(t){t[t.SwapExactIn=0]="SwapExactIn",t[t.SwapExactOut=1]="SwapExactOut"})(oe||(oe={}));var $e;(function(t){t[t.Weighted=0]="Weighted",t[t.Stable=1]="Stable",t[t.Element=2]="Element",t[t.MetaStable=3]="MetaStable",t[t.Linear=4]="Linear",t[t.Gyro2=5]="Gyro2",t[t.Gyro3=6]="Gyro3",t[t.GyroE=7]="GyroE",t[t.Fx=8]="Fx"})($e||($e={}));var Ni;(function(t){t.All="All",t.Weighted="Weighted",t.Stable="Stable",t.MetaStable="MetaStable",t.LiquidityBootstrapping="LiquidityBootstrapping",t.Investment="Investment",t.Element="Element",t.StablePhantom="StablePhantom",t.ComposableStable="ComposableStable",t.Gyro2="Gyro2",t.Gyro3="Gyro3",t.GyroE="GyroE",t.AaveLinear="AaveLinear",t.Linear="Linear",t.EulerLinear="EulerLinear",t.ERC4626Linear="ERC4626Linear",t.BeefyLinear="BeefyLinear",t.GearboxLinear="GearboxLinear",t.MidasLinear="MidasLinear",t.ReaperLinear="ReaperLinear",t.SiloLinear="SiloLinear",t.TetuLinear="TetuLinear",t.YearnLinear="YearnLinear",t.FX="FX"})(Ni||(Ni={}));const nf=BigInt("3000000000000000000");function f0(t,e,n,a,i,o){i=af(i,o);const s=h.divDownFixed(e,a),r=h.add(t,i),l=h.divUpFixed(t,r),p=h.powUpFixed(l,s);return h.mulDownFixed(n,h.complementFixed(p))}function T0(t,e,n,a,i,o){const s=h.divUpFixed(n,n-i),r=h.divUpFixed(a,e),l=h.powUpFixed(s,r),p=h.sub(l,h.ONE),u=h.mulUpFixed(t,p);return of(u,o)}function af(t,e){const n=h.mulUpFixed(t,e);return t-n}function of(t,e){return h.divUpFixed(t,h.complementFixed(e))}function sf(t,e,n,a,i,o){const s=h.mulUpFixed(t,a);let r=h.mulUpFixed(n,e);const l=h.complementFixed(o);r=h.mulUpFixed(r,l);const p=h.divUpFixed(t,h.add(h.mulUpFixed(i,l),t)),u=h.divUpFixed(e+a,a);return r=h.mulUpFixed(r,h.powUpFixed(p,u)),h.divUpFixed(s,r)}function rf(t,e,n,a,i,o){let s=h.mulUpFixed(t,a);const r=h.complementFixed(o),l=h.divUpFixed(n,h.sub(n,i)),p=h.divUpFixed(e+a,e);s=h.mulUpFixed(s,h.powUpFixed(l,p));const u=h.mulUpFixed(h.mulUpFixed(n,e),r);return h.divUpFixed(s,u)}function yr(t,e,n,a,i){const o=new Array(n.length);let s=Se;for(let l=0;l<t.length;l++)o[l]=h.divDownFixed(h.add(t[l],n[l]),t[l]),s=h.add(s,h.mulDownFixed(o[l],e[l]));let r=h.ONE;for(let l=0;l<t.length;l++){let p;if(o[l]>s){const d=h.mulDownFixed(t[l],h.sub(s,h.ONE)),c=h.sub(n[l],d),m=h.mulUpFixed(c,i);p=h.add(d,h.sub(c,m))}else p=n[l];const u=h.divDownFixed(h.add(t[l],p),t[l]);r=h.mulDownFixed(r,h.powDown(u,e[l]))}return r>h.ONE?h.mulDownFixed(a,h.sub(r,h.ONE)):Se}function h0(t,e,n){const a=h.divDownFixed(e,n),i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=h.mulDownFixed(t[o],a);return i}function I0(t,e,n,a,i){const o=h.divUpFixed(h.sub(a,n),a),s=h.powUpFixed(o,h.divDownFixed(h.ONE,e)),r=h.mulDownFixed(t,h.complementFixed(s)),l=h.mulUpFixed(r,h.complementFixed(e)),p=h.sub(r,l),u=h.mulUpFixed(l,i);return h.add(p,h.sub(l,u))}function g0(t,e,n,a,i){const o=new Array(n.length);let s=Se;for(let l=0;l<t.length;l++)o[l]=h.divUpFixed(h.sub(t[l],n[l]),t[l]),s=h.add(s,h.mulUpFixed(o[l],e[l]));const r=lf(t,e,n,o,s,i);return h.mulUpFixed(a,h.complementFixed(r))}const w0=(t,e,n,a,i)=>{const o=h.divUpFixed(h.add(a,n),a);if(o>nf)throw new Error("MAX_OUT_BPT_FOR_TOKEN_IN");const s=h.powUpFixed(o,h.divUpFixed(h.ONE,e)),r=h.mulUpFixed(t,h.sub(s,h.ONE)),l=h.complementFixed(e),p=h.mulUpFixed(r,l),u=h.sub(r,p);return h.add(u,h.divUpFixed(p,h.complementFixed(i)))};function lf(t,e,n,a,i,o){let s=h.ONE;for(let r=0;r<t.length;r++){let l;if(i>a[r]){const u=h.mulDownFixed(t[r],h.complementFixed(i)),d=h.sub(n[r],u),c=h.divUpFixed(d,h.complementFixed(o));l=h.add(u,c)}else l=n[r];const p=h.divDownFixed(h.sub(t[r],l),t[r]);s=h.mulDownFixed(s,h.powDown(p,e[r]))}return s}function pf(t,e){let n=h.ONE;for(let a=0;a<t.length;a++)n=h.mulDownFixed(n,h.powDown(e[a],t[a]));if(n<0)throw Error("Weighted Invariant < 0");return n}function uf(t,e,n,a){const i=h.divDownFixed(n,e);if(i<=h.ONE)return Se;const o=h.divDownFixed(h.mulDownFixed(a,i-h.ONE),i),s=h.mulDownFixed(t,o),r=h.complementFixed(o);return r==Se?Se:h.divDownFixed(s,r)}function _0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightIn,18)),o=parseFloat(F(e.weightOut,18)),s=t.toNumber(),r=parseFloat(F(e.swapFee,18));return _(-(n*o/(a*(-1+r)*(n/(s+n-s*r))**((i+o)/o)*i)))}function x0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightIn,18)),o=parseFloat(F(e.weightOut,18)),s=t.toNumber(),r=parseFloat(F(e.swapFee,18));return _(-(n*(a/(-s+a))**((i+o)/i)*o/(a*(-1+r)*i)))}function v0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightIn,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(n*((o+n+o*s*(-1+i))/n)**(1-i)/(a*(1+s*(-1+i))*i))}function df(t,e,n,a,i){const o=h.ONE-h.mulDownFixed(h.complementFixed(n),i),s=h.powDown(h.ONE+a*o/t,h.complementFixed(n));return h.divDownFixed(h.ONE,e*n*o/(t*s))}function P0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightOut,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee));return _((1-o/n)**((-1+i)/i)*n*(1+s*(-1+i))*i/a)}function E0(t,e){const n=parseFloat(F(e.balanceIn,18)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightOut,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(n*(1+s*(-1+i))*i*(1+o*(-1+s-s*i)/a)**(-1+i)/a)}function S0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,18)),i=parseFloat(F(e.weightIn,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(((o+a)/a)**(1/i)*n/((o+a)*(1+s*(-1+i))*i))}function k0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightIn,18)),o=parseFloat(F(e.weightOut,18)),s=t.toNumber(),r=parseFloat(F(e.swapFee,18));return _((i+o)/(a*(n/(s+n-s*r))**(i/o)*i))}function A0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightIn,18)),o=parseFloat(F(e.weightOut,18)),s=t.toNumber(),r=parseFloat(F(e.swapFee,18));return _(-(n*(a/(-s+a))**(o/i)*o*(i+o)/((s-a)**2*(-1+r)*i**2)))}function O0(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut,18)),i=parseFloat(F(e.weightIn,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(-((-1+i)/(a*((o+n+o*s*(-1+i))/n)**i*i)))}function cf(t,e){const n=parseFloat(F(e.balanceIn,e.decimalsIn)),a=parseFloat(F(e.balanceOut.toNumber(),18)),i=parseFloat(F(e.weightIn,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(-(((o+a)/a)**(1/i)*n*(-1+i)/((o+a)**2*(1+s*(-1+i))*i**2)))}function B0(t,e){const n=parseFloat(F(e.balanceIn,18)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightOut,18)),o=t.toNumber(),s=parseFloat(F(e.swapFee,18));return _(-((1+s*(-1+i))*(-1+i)/((1-o/n)**(1/i)*a)))}function yf(t,e){const n=parseFloat(F(e.balanceIn,18)),a=parseFloat(F(e.balanceOut,e.decimalsOut)),i=parseFloat(F(e.weightOut)),o=t.toNumber(),s=parseFloat(F(e.swapFee));return _(-(n*(1+s*(-1+i))**2*(-1+i)*i*(1+o*(-1+s-s*i)/a)**(-2+i)/a**2))}var po=Object.freeze({__proto__:null,_calcOutGivenIn:f0,_calcInGivenOut:T0,_spotPriceAfterSwapExactTokenInForTokenOutBigInt:sf,_spotPriceAfterSwapTokenInForExactTokenOutBigInt:rf,_calcBptOutGivenExactTokensIn:yr,_calcTokensOutGivenExactBptIn:h0,_calcTokenOutGivenExactBptIn:I0,_calcBptInGivenExactTokensOut:g0,_calcTokenInGivenExactBptOut:w0,_calculateInvariant:pf,_calcDueProtocolSwapFeeBptAmount:uf,_spotPriceAfterSwapExactTokenInForTokenOut:_0,_spotPriceAfterSwapTokenInForExactTokenOut:x0,_spotPriceAfterSwapExactTokenInForBPTOut:v0,_spotPriceAfterSwapBptOutGivenExactTokenInBigInt:df,_spotPriceAfterSwapExactBPTInForTokenOut:P0,_spotPriceAfterSwapBPTInForExactTokenOut:E0,_spotPriceAfterSwapTokenInForExactBPTOut:S0,_derivativeSpotPriceAfterSwapExactTokenInForTokenOut:k0,_derivativeSpotPriceAfterSwapTokenInForExactTokenOut:A0,_derivativeSpotPriceAfterSwapExactTokenInForBPTOut:O0,_derivativeSpotPriceAfterSwapTokenInForExactBPTOut:cf,_derivativeSpotPriceAfterSwapExactBPTInForTokenOut:B0,_derivativeSpotPriceAfterSwapBPTInForExactTokenOut:yf});function rn(t){const e=_(1).div(t);return e.isNaN()||e.lt(V)||!e.isFinite()?V:e}var dt;(function(t){t[t.BptToToken=0]="BptToToken",t[t.TokenToBpt=1]="TokenToBpt",t[t.TokenToToken=2]="TokenToToken"})(dt||(dt={}));class ci{constructor(e,n,a,i,o,s,r){this.poolType=$e.Weighted,this.MAX_IN_RATIO=H("0.3",18),this.MAX_OUT_RATIO=H("0.3",18),this.isLBP=!1,this.id=e,this.address=n,this.swapFee=H(a,18),this.totalShares=H(o,18),this.tokens=s,this.tokensList=r,this.totalWeight=H(i,18)}static fromPool(e,n){if(!e.totalWeight)throw new Error("WeightedPool missing totalWeight");const a=new ci(e.id,e.address,e.swapFee,e.totalWeight,e.totalShares,e.tokens,e.tokensList);return n&&(a.isLBP=!0),a}parsePoolPairData(e,n){const a=this.tokens.findIndex(I=>de(I.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=H(i.weight,18).mul(R).div(this.totalWeight),l=this.tokens.findIndex(I=>de(I.address)===de(n));if(l<0)throw"Pool does not contain tokenOut";const p=this.tokens[l],u=p.balance,d=p.decimals,c=H(p.weight,18).mul(R).div(this.totalWeight);let m;return e==this.address?m=dt.BptToToken:n==this.address?m=dt.TokenToBpt:m=dt.TokenToToken,{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(s),decimalsOut:Number(d),balanceIn:H(o,s),balanceOut:H(u,d),pairType:m,weightIn:r,weightOut:c,swapFee:this.swapFee}}getNormalizedWeights(){return this.tokens.map(e=>H(e.weight,18).mul(R).div(this.totalWeight).toBigInt())}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){return n===oe.SwapExactIn?_(F(e.balanceIn.mul(this.MAX_IN_RATIO).div(R),e.decimalsIn)):_(F(e.balanceOut.mul(this.MAX_OUT_RATIO).div(R),e.decimalsOut))}updateTokenBalanceForPool(e,n){Ie(this.address,e)&&this.updateTotalShares(n);const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){if(n.isNaN())return n;const a=H(n.dp(18,1).toString(),18).toBigInt(),i=e.decimalsIn,o=e.decimalsOut,s=H(e.balanceIn.toString(),18-i).toBigInt(),r=H(e.balanceOut.toString(),18-o).toBigInt(),l=e.weightIn.toBigInt(),p=e.weightOut.toBigInt(),u=e.swapFee.toBigInt();let d;try{return e.pairType===dt.TokenToBpt?d=yr([s,BigInt(1)],[l,h.ONE-l],[a,BigInt(0)],r,u):e.pairType===dt.BptToToken?d=I0(r,p,a,s,u):d=f0(s,l,r,p,a,u),Ae(_(d.toString()),-18)}catch{return V}}_tokenInForExactTokenOut(e,n){if(n.isNaN())return n;const a=H(n.dp(18,1).toString(),18).toBigInt(),i=e.decimalsIn,o=e.decimalsOut,s=H(e.balanceIn.toString(),18-i).toBigInt(),r=H(e.balanceOut.toString(),18-o).toBigInt(),l=e.weightIn.toBigInt(),p=e.weightOut.toBigInt(),u=e.swapFee.toBigInt();let d;try{return e.pairType===dt.TokenToBpt?d=w0(s,l,a,r,u):e.pairType===dt.BptToToken?d=g0([r,BigInt(1)],[p,h.ONE-p],[a,BigInt(0)],s,u):d=T0(s,l,r,p,a,u),Ae(_(d.toString()),-18)}catch{return V}}_calcTokensOutGivenExactBptIn(e){const n=this.tokens.filter(a=>!Ie(a.address,this.address)).map(a=>Dn(a));try{return h0(n,e.toBigInt(),this.totalShares.toBigInt()).map((o,s)=>qo(o,this.tokens[s])).map(o=>S.from(o))}catch{return new Array(n.length).fill(V)}}_calcBptOutGivenExactTokensIn(e){try{const n=new Array(e.length).fill(BigInt(0)),a=new Array(e.length).fill(BigInt(0));this.tokens.filter(o=>!Ie(o.address,this.address)).forEach((o,s)=>{n[s]=Uo(BigInt(e[s].toString()),o),a[s]=Dn(o)});const i=yr(a,this.getNormalizedWeights(),n,this.totalShares.toBigInt(),this.swapFee.toBigInt());return S.from(i.toString())}catch{return ae}}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){return e.pairType===dt.TokenToBpt?v0(n,e):e.pairType===dt.BptToToken?P0(n,e):_0(n,e)}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){return e.pairType===dt.TokenToBpt?S0(n,e):e.pairType===dt.BptToToken?E0(n,e):x0(n,e)}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){return e.pairType===dt.TokenToBpt?O0(n,e):e.pairType===dt.BptToToken?B0(n,e):k0(n,e)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){return A0(n,e)}}function Cl(t,e){let n=V;const a=e.length;for(let l=0;l<a;l++)n=n.plus(e[l]);if(n.isZero())return V;let i=V,o=n;const r=_(F(t,3)).times(a**a);for(let l=0;l<255;l++){let p=_(a).times(e[0]);for(let u=1;u<a;u++)p=p.times(e[u]).times(a).div(o);if(i=o,o=_(a).times(o).times(o).plus(r.times(n).times(p)).div(_(a+1).times(o).plus(r.minus(1).times(p))),o.gt(i)){if(o.minus(i).lt(_(10**-18)))break}else if(i.minus(o).lt(_(10**-18)))break}return o}function F0(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));let u=t;u=u.times(R.sub(s).toString()).div(R.toString());const d=Cl(p,r);let c=d,m=V;const f=_(r.length);let I=Ge,v=V;for(let C=0;C<r.length;C++){if(I=I.times(f),C==i)v=r[C].plus(u);else if(C!=o)v=r[C];else continue;m=m.plus(v),c=c.times(d).div(v)}const x=C0(m,d,p,I,c);return r[o].minus(x)}function M0(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=t,d=Cl(p,r);let c=d,m=V;const f=_(r.length);let I=Ge,v=V;for(let C=0;C<r.length;C++){if(I=I.times(f),C==o)v=r[C].minus(u);else if(C!=i)v=r[C];else continue;m=m.plus(v),c=c.times(d).div(v)}return C0(m,d,p,I,c).minus(r[i]).multipliedBy(R.toString()).div(R.sub(s).toString())}function C0(t,e,n,a,i){const o=_(F(n,3));i=i.times(e).div(o.times(a).times(a));const s=t.plus(e.div(o.times(a)));return e.minus(s).plus(e.minus(s).times(e.minus(s)).plus(i.times(4)).sqrt()).div(2)}function Vo(t,e,n,a,i,o){const s=e.length,r=Cl(t,e);let l=V;for(let C=0;C<s;C++)C!=n&&C!=a&&(l=l.plus(e[C]));const p=e[n],u=e[a],c=_(F(t,3)).times(s**s),m=l.minus(r).times(c).plus(r),f=_(2).times(c).times(p).times(u),I=f.plus(c.times(u).times(u)).plus(m.times(u)),v=f.plus(c.times(p).times(p)).plus(m.times(p));let x;if(i)x=I.div(v);else{const C=_(2).times(c).times(u),j=_(2).times(c).times(p),U=C.plus(j).plus(m),z=_(2).times(I).times(v).times(U).minus(C.times(v.pow(2))).minus(j.times(I.pow(2))),$=I.pow(2).times(v);x=z.div($),o&&(x=x.times(v).div(I))}return x}function R0(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));r[i]=r[i].plus(t.times(R.sub(s).toString()).div(R.toString())),r[o]=r[o].minus(F0(t,e));let u=Vo(p,r,i,o,!0,!1);return u=Ge.div(u.times(R.sub(s).toString()).div(R.toString())),u}function N0(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=M0(t,e).times(R.sub(s).toString()).div(R.toString());r[i]=r[i].plus(u),r[o]=r[o].minus(t);let d=Vo(p,r,i,o,!0,!0);return d=Ge.div(d.times(R.sub(s).toString()).div(R.toString())),d}function L0(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));return r[i]=r[i].plus(t.times(R.sub(s).toString()).div(R.toString())),r[o]=r[o].minus(F0(t,e)),Vo(p,r,i,o,!1,!1)}function D0(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=M0(t,e).times(R.sub(s).toString()).div(R.toString());r[i]=r[i].plus(u),r[o]=r[o].minus(t);const d=R.div(s).toString();return Vo(p,r,i,o,!1,!0).div(d)}const Rn=BigInt(1e3);function an(t,e){let n=Se;const a=e.length;for(let r=0;r<a;r++)n=n+e[r];if(n==Se)return Se;let i=Se,o=n;const s=t*BigInt(a);for(let r=0;r<255;r++){let l=o;for(let p=0;p<a;p++)l=h.divDown(h.mul(l,o),h.mul(e[p],BigInt(a)));if(i=o,o=h.divDown(h.mul(h.divDown(h.mul(s,n),Rn)+h.mul(l,BigInt(a)),o),h.divDown(h.mul(s-Rn,o),Rn)+h.mul(BigInt(a+1),l)),o>i){if(o-i<=1)return o}else if(i-o<=1)return o}throw new Error("Errors.STABLE_INVARIANT_DIDNT_CONVERGE")}function hi(t,e,n,a,i,o){i=mf(i,o);const s=an(t,e),r=e[n];e[n]=r+i;const l=jo(t,e,s,a);return e[a]-l-BigInt(1)}function Ii(t,e,n,a,i,o){const s=an(t,e);e[a]=h.sub(e[a],i);const r=jo(t,e,s,n);let l=h.add(h.sub(r,e[n]),BigInt(1));return l=bf(l,o),l}function Ia(t,e,n,a,i){let o=BigInt(0);for(let c=0;c<e.length;c++)o=o+e[c];const s=new Array(n.length);let r=BigInt(0);for(let c=0;c<e.length;c++){const m=h.divDownFixed(e[c],o);s[c]=h.divDownFixed(e[c]+n[c],e[c]),r=r+h.mulDownFixed(s[c],m)}const l=new Array(e.length);for(let c=0;c<e.length;c++){let m;if(s[c]>r){const f=h.mulDownFixed(e[c],r-h.ONE),I=n[c]-f;m=f+h.mulDownFixed(I,h.ONE-i)}else m=n[c];l[c]=e[c]+m}const p=an(t,e),u=an(t,l),d=h.divDownFixed(u,p);return d>h.ONE?h.mulDownFixed(a,d-h.ONE):BigInt(0)}function Wo(t,e,n,a,i,o){const s=an(t,e),r=h.mulUpFixed(h.divUpFixed(h.add(i,a),i),s),l=jo(t,e,r,n),p=h.sub(l,e[n]);let u=BigInt(0);for(let I=0;I<e.length;I++)u=h.add(u,e[I]);const d=h.divDownFixed(e[n],u),c=h.complementFixed(d),m=h.mulUpFixed(p,c),f=h.sub(p,m);return h.add(f,h.divUpFixed(m,h.sub(h.ONE,o)))}function Go(t,e,n,a,i){let o=BigInt(0);for(let c=0;c<e.length;c++)o=o+e[c];const s=new Array(n.length);let r=BigInt(0);for(let c=0;c<e.length;c++){const m=h.divUpFixed(e[c],o);s[c]=h.divUpFixed(e[c]-n[c],e[c]),r=r+h.mulUpFixed(s[c],m)}const l=new Array(e.length);for(let c=0;c<e.length;c++){let m;if(r>s[c]){const f=h.mulDownFixed(e[c],h.complementFixed(r)),I=n[c]-f;m=f+h.divUpFixed(I,h.ONE-i)}else m=n[c];l[c]=e[c]-m}const p=an(t,e),u=an(t,l),d=h.divDownFixed(u,p);return h.mulUpFixed(a,h.complementFixed(d))}function Ho(t,e,n,a,i,o){const s=an(t,e),r=h.mulUpFixed(h.divUpFixed(i-a,i),s),l=jo(t,e,r,n),p=e[n]-l;let u=BigInt(0);for(let I=0;I<e.length;I++)u=u+e[I];const d=h.divDownFixed(e[n],u),c=h.complementFixed(d),m=h.mulUpFixed(p,c);return p-m+h.mulDownFixed(m,h.ONE-o)}function $o(t,e,n){const a=h.divDownFixed(e,n),i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=h.mulDownFixed(t[o],a);return i}function jo(t,e,n,a){const i=t*BigInt(e.length);let o=e[0],s=e[0]*BigInt(e.length);for(let c=1;c<e.length;c++)s=h.divDown(h.mul(h.mul(s,e[c]),BigInt(e.length)),n),o=o+e[c];o=o-e[a];const r=h.mul(n,n),l=h.mul(h.mul(h.divUp(r,h.mul(i,s)),Rn),e[a]),p=o+h.mul(h.divDown(n,i),Rn);let u=Se,d=h.divUp(r+l,n+p);for(let c=0;c<255;c++)if(u=d,d=h.divUp(h.mul(d,d)+l,h.mul(d,BigInt(2))+p-n),d>u){if(d-u<=1)return d}else if(u-d<=1)return d;throw new Error("Errors.STABLE_GET_BALANCE_DIDNT_CONVERGE")}function mf(t,e){const n=h.mulUpFixed(t,e);return t-n}function bf(t,e){return h.divUpFixed(t,h.complementFixed(e))}function ff(t,e,n,a,i,o){const s=h.complementFixed(o),r=[...e];e[n]=h.add(e[n],h.mulUpFixed(i,s)),e[a]=h.sub(e[a],hi(t,r,n,a,i,o));let l=Rl(t,e,n,a,!0,!1);return l=h.divDownFixed(h.ONE,h.mulDownFixed(l,s)),l}function Tf(t,e,n,a,i,o){const s=[...e],r=Ii(t,s,n,a,i,o);e[n]=e[n]+r,e[a]=h.sub(e[a],i);let l=Rl(t,e,n,a,!0,!0);const p=h.complementFixed(o);return l=h.divUpFixed(h.ONE,h.mulUpFixed(l,p)),l}function hf(t,e,n,a,i){e[n]=e[n]+i;const o=e.map((l,p)=>p==n?i:BigInt(0)),s=a+Ia(t,e,o,a,BigInt(0));let r=Gi(t,e,s,n);return r=h.divUpFixed(h.ONE,r),r}function If(t,e,n,a,i){const o=[...e],s=Wo(t,o,n,i,a,BigInt(0));e[n]=e[n]+s;let r=Gi(t,e,a+i,n);return r=h.divUpFixed(h.ONE,r),r}function gf(t,e,n,a,i){const o=Ho(t,e,n,i,a,BigInt(0));e[n]=e[n]-o;const s=h.sub(a,i);return Gi(t,e,s,n)}function wf(t,e,n,a,i){e[n]=h.sub(e[n],i);const o=e.map((l,p)=>p==n?i:BigInt(0)),s=a-Go(t,e,o,a,BigInt(0));return Gi(t,e,s,n)}function Rl(t,e,n,a,i,o){const s=e.length,r=an(t,e);let l=BigInt(0);for(let x=0;x<s;x++)x!=n&&x!=a&&(l+=e[x]);const p=e[n],u=e[a],d=t*BigInt(s),c=d*(l-r)+r*Rn,m=BigInt(2)*d*p*u,f=m+d*u*u+c*u,I=m+d*p*p+c*p;let v;if(i)v=h.divUpFixed(f,I);else{const x=BigInt(2)*d*u,C=BigInt(2)*d*p,j=x+C+c,U=BigInt(2)*f*I*j-x*I*I+C*f*f,z=f*f*I;v=h.divUpFixed(U,z),o&&(v=h.mulUpFixed(h.mulUpFixed(v,I),f))}return v}function Gi(t,e,n,a,i,o,s){const r=e.length,l=an(t,e);let p=BigInt(0),u=l/BigInt(r);for(let C=0;C<r;C++)C!=a&&(p=p+e[C],u=u*l/(BigInt(r)*e[C]));const d=e[a],c=t*BigInt(r),m=c*p,f=BigInt(Rn)-c,I=BigInt(2)*c*d+m+f*l,v=u*BigInt(r+1)*Rn-f*d;return h.divUpFixed(I*n/v,l)}var Nn=Object.freeze({__proto__:null,_calcOutGivenIn:hi,_calcInGivenOut:Ii,_calcBptOutGivenExactTokensIn:Ia,_calcTokenInGivenExactBptOut:Wo,_calcBptInGivenExactTokensOut:Go,_calcTokenOutGivenExactBptIn:Ho,_calcTokensOutGivenExactBptIn:$o,_spotPriceAfterSwapExactTokenInForTokenOut:ff,_spotPriceAfterSwapTokenInForExactTokenOut:Tf,_spotPriceAfterSwapExactTokenInForBPTOut:hf,_spotPriceAfterSwapTokenInForExactBPTOut:If,_spotPriceAfterSwapExactBPTInForTokenOut:gf,_spotPriceAfterSwapBPTInForExactTokenOut:wf,_poolDerivatives:Rl,_poolDerivativesBPT:Gi});class ga{constructor(e,n,a,i,o,s,r){this.poolType=$e.Stable,this.MAX_IN_RATIO=H("0.3",18),this.MAX_OUT_RATIO=H("0.3",18),this.id=e,this.address=n,this.amp=H(a,ga.AMP_DECIMALS),this.swapFee=H(i,18),this.totalShares=H(o,18),this.tokens=s,this.tokensList=r}static fromPool(e){if(!e.amp)throw new Error("StablePool missing amp factor");return new ga(e.id,e.address,e.amp,e.swapFee,e.totalShares,e.tokens,e.tokensList)}parsePoolPairData(e,n){const a=this.tokens.findIndex(f=>de(f.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=this.tokens.findIndex(f=>de(f.address)===de(n));if(r<0)throw"Pool does not contain tokenOut";const l=this.tokens[r],p=l.balance,u=l.decimals,d=this.tokens.map(({balance:f})=>_(f)),c=this.tokens.map(({balance:f})=>H(f,18));return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,balanceIn:H(o,s),balanceOut:H(p,u),swapFee:this.swapFee,allBalances:d,allBalancesScaled:c,amp:this.amp,tokenIndexIn:a,tokenIndexOut:r,decimalsIn:Number(s),decimalsOut:Number(u)}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){return n===oe.SwapExactIn?_(F(e.balanceIn.mul(this.MAX_IN_RATIO).div(R),e.decimalsIn)):_(F(e.balanceOut.mul(this.MAX_OUT_RATIO).div(R),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{if(n.isZero())return V;const i=this.subtractSwapFeeAmount(H(n.dp(e.decimalsIn).toString(),e.decimalsIn),e.swapFee).mul(10**(18-e.decimalsIn)),o=hi(this.amp.toBigInt(),e.allBalancesScaled.map(s=>s.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,i.toBigInt(),BigInt(0));return Ae(_(o.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_tokenInForExactTokenOut(e,n){try{if(n.isZero())return V;const a=H(n.dp(18).toString(),18);let i=Ii(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,a.toBigInt(),BigInt(0));const o=BigInt(10**(18-e.decimalsIn));i=(i+o-BigInt(1))/o;const s=this.addSwapFeeAmount(S.from(i),e.swapFee);return _(s.toString()).div(10**e.decimalsIn)}catch(a){return console.error(`_evminGivenOut: ${a.message}`),V}}_calcTokensOutGivenExactBptIn(e){const n=this.tokens.filter(a=>!Ie(a.address,this.address)).map(a=>Dn(a));try{return $o(n,e.toBigInt(),this.totalShares.toBigInt()).map((o,s)=>qo(o,this.tokens[s])).map(o=>S.from(o))}catch{return new Array(n.length).fill(V)}}_calcBptOutGivenExactTokensIn(e){try{const n=new Array(e.length).fill(BigInt(0)),a=new Array(e.length).fill(BigInt(0));this.tokens.filter(o=>!Ie(o.address,this.address)).forEach((o,s)=>{n[s]=Uo(BigInt(e[s].toString()),o),a[s]=Dn(o)});const i=Ia(this.amp.toBigInt(),a,n,this.totalShares.toBigInt(),this.swapFee.toBigInt());return S.from(i.toString())}catch{return ae}}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){return R0(n,e)}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){return N0(n,e)}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){return L0(n,e)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){return D0(n,e)}subtractSwapFeeAmount(e,n){const a=e.mul(n).add(R.sub(1)).div(R);return e.sub(a)}addSwapFeeAmount(e,n){const a=R.sub(n);return e.mul(R).add(a.sub(1)).div(a)}}ga.AMP_DECIMALS=3;class wa{constructor(e,n,a,i,o,s,r){this.poolType=$e.MetaStable,this.MAX_IN_RATIO=H("0.3",18),this.MAX_OUT_RATIO=H("0.3",18),this.id=e,this.address=n,this.amp=H(a,wa.AMP_DECIMALS),this.swapFee=H(i,18),this.totalShares=H(o,18),this.tokens=s,this.tokensList=r}static fromPool(e){if(!e.amp)throw new Error("MetaStablePool missing amp factor");return new wa(e.id,e.address,e.amp,e.swapFee,e.totalShares,e.tokens,e.tokensList)}parsePoolPairData(e,n){const a=this.tokens.findIndex(v=>de(v.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.decimals,s=H(i.priceRate,18),r=F(H(i.balance,o).mul(s).div(R),o),l=this.tokens.findIndex(v=>de(v.address)===de(n));if(l<0)throw"Pool does not contain tokenOut";const p=this.tokens[l],u=p.decimals,d=H(p.priceRate,18),c=F(H(p.balance,u).mul(d).div(R),u),m=this.tokens.map(({balance:v,priceRate:x})=>_(v).times(_(x))),f=this.tokens.map(({balance:v,priceRate:x})=>H(v,18).mul(H(x,18)).div(R));return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,balanceIn:H(r,o),balanceOut:H(c,u),swapFee:this.swapFee,allBalances:m,allBalancesScaled:f,amp:this.amp,tokenIndexIn:a,tokenIndexOut:l,decimalsIn:Number(o),decimalsOut:Number(u),tokenInPriceRate:s,tokenOutPriceRate:d}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){return n===oe.SwapExactIn?_(F(e.balanceIn.mul(this.MAX_IN_RATIO).div(e.tokenInPriceRate),e.decimalsIn)):_(F(e.balanceOut.mul(this.MAX_OUT_RATIO).div(e.tokenOutPriceRate),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{if(n.isZero())return V;const i=this.subtractSwapFeeAmount(H(n.dp(e.decimalsIn).toString(),e.decimalsIn),e.swapFee).mul(e.tokenInPriceRate).div(R),o=hi(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,i.toBigInt(),BigInt(0)),s=S.from(o).mul(R).div(e.tokenOutPriceRate);return _(F(s,18))}catch{return V}}_tokenInForExactTokenOut(e,n){try{if(n.isZero())return V;const a=e.decimalsIn,i=e.decimalsOut,o=e.tokenInPriceRate.toBigInt()*BigInt(10**(18-a)),s=e.tokenOutPriceRate.toBigInt()*BigInt(10**(18-i)),l=BigInt(n.times(10**i).dp(0).toString())*s/BigInt(10**18),u=Ii(this.amp.toBigInt(),e.allBalancesScaled.map(c=>c.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,l,BigInt(0))*BigInt(10**18)/o,d=this.addSwapFeeAmount(S.from(u),e.swapFee);return _(d.toString()).div(10**e.decimalsIn)}catch(a){return console.error(`_evminGivenOut: ${a.message}`),V}}_calcTokensOutGivenExactBptIn(e){const n=this.tokens.filter(a=>!Ie(a.address,this.address)).map(a=>Dn(a));try{return $o(n,e.toBigInt(),this.totalShares.toBigInt()).map((o,s)=>S.from(qo(o,this.tokens[s]).toString()))}catch{return new Array(n.length).fill(V)}}_calcBptOutGivenExactTokensIn(e){try{const n=new Array(e.length).fill(BigInt(0)),a=new Array(e.length).fill(BigInt(0));this.tokens.filter(o=>!Ie(o.address,this.address)).forEach((o,s)=>{n[s]=Uo(BigInt(e[s].toString()),o),a[s]=Dn(o)});const i=Ia(this.amp.toBigInt(),a,n,this.totalShares.toBigInt(),this.swapFee.toBigInt());return S.from(i.toString())}catch{return ae}}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18)),o=n.times(F(e.tokenInPriceRate,18));return R0(o,e).div(a).times(i)}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18)),o=n.times(F(e.tokenOutPriceRate,18));return N0(o,e).div(a).times(i)}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=_(F(e.tokenOutPriceRate,18));return L0(n,e).times(a)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18));return D0(n,e).div(a).times(i).times(i)}subtractSwapFeeAmount(e,n){const a=e.mul(n).add(R.sub(1)).div(R);return e.sub(a)}addSwapFeeAmount(e,n){const a=R.sub(n);return e.mul(R).add(a.sub(1)).div(a)}}wa.AMP_DECIMALS=3;function U0(t,e,n,a,i){if(a==BigInt(0))return Fe(t,i);const o=Fe(e,i),r=Fe(e+t,i)-o,l=ln(o,n,i);return h.divDown(h.mul(a,r),l)}function q0(t,e,n,a,i){const o=Fe(e,i),s=Fe(e-t,i),r=o-s,l=Gn(o,n,i);return h.divUp(h.mul(a,r),l)}function V0(t,e,n,a,i){const o=Fe(e,i),s=ln(o,n,i),r=n-t,l=Gn(o,r,i),p=h.divDown(h.mul(a,l),s);return a-p}function W0(t,e,n,a,i){const o=Fe(e,i),r=Fe(e+t,i)-o;return h.divDownFixed(r,i.rate)}function G0(t,e,n,a,i){const o=Fe(e,i),s=Fe(e-t,i),r=o-s;return h.divUpFixed(r,i.rate)}function H0(t,e,n,a,i){if(a==BigInt(0))return Li(t,i);const o=Fe(e,i),s=ln(o,n,i),r=h.divUp(h.mul(s,t),a),l=o+r;return Li(l,i)-e}function $0(t,e,n,a,i){const o=Fe(e,i),s=Gn(o,n,i),r=h.divDown(h.mul(s,t),a),l=o-r,p=Li(l,i);return e-p}function j0(t,e,n,a,i){const o=Fe(e,i),s=h.mulDownFixed(t,i.rate),r=o-s,l=Li(r,i);return e-l}function z0(t,e,n,a,i){const o=Fe(e,i),s=h.mulUpFixed(t,i.rate),r=o+s;return Li(r,i)-e}function X0(t,e,n,a,i){if(a==BigInt(0))return h.mulDownFixed(t,i.rate);const o=Fe(e,i),s=ln(o,n,i),r=n+t,l=Gn(o,r,i);return h.divDown(h.mul(a,l),s)-a}function J0(t,e,n,a,i){if(a==BigInt(0))return h.divUpFixed(t,i.rate);const o=Fe(e,i),s=ln(o,n,i),r=a+t;return h.divUpFixed(h.divUp(h.mul(r,s),a)-o,i.rate)-n}function Y0(t,e,n,a,i){const o=Fe(e,i),s=ln(o,n,i),r=a-t,l=h.divUpFixed(h.divUp(h.mul(r,s),a)-o,i.rate);return n-l}function ln(t,e,n){return t+h.mulUpFixed(e,n.rate)}function Gn(t,e,n){return t+h.mulDownFixed(e,n.rate)}function Fe(t,e){if(t<e.lowerTarget){const n=h.mulDownFixed(e.lowerTarget-t,e.fee);return h.sub(t,n)}else{if(t<=e.upperTarget)return t;{const n=h.mulDownFixed(t-e.upperTarget,e.fee);return h.sub(t,n)}}}function Li(t,e){return t<e.lowerTarget?h.divDownFixed(t+h.mulDownFixed(e.fee,e.lowerTarget),h.ONE+e.fee):t<=e.upperTarget?t:h.divDownFixed(t-h.mulDownFixed(e.fee,e.upperTarget),h.ONE-e.fee)}function K0(t,e){const n=h.complementFixed(e.fee),a=h.ONE+e.fee;return t<=e.lowerTarget?a:t<=e.upperTarget?h.ONE:n}function Z0(t,e){const n=h.complementFixed(e.fee),a=h.ONE+e.fee;return t<e.lowerTarget?a:t<e.upperTarget?h.ONE:n}function Q0(t,e){const n=h.complementFixed(e.fee),a=h.ONE+e.fee;return t<=e.lowerTarget?h.divUpFixed(h.ONE,a):t<=e.upperTarget?h.ONE:h.divUpFixed(h.ONE,n)}function ec(t,e){const n=h.complementFixed(e.fee),a=h.ONE+e.fee;return t<e.lowerTarget?h.divUpFixed(h.ONE,a):t<e.upperTarget?h.ONE:h.divUpFixed(h.ONE,n)}function _f(t,e,n,a){const i=h.divDownFixed(e,n),o=new Array(t.length).fill(Se);for(let s=0;s<t.length;s++)s!=a&&(o[s]=h.mulDownFixed(t[s],i));return o}function tc(t,e,n,a,i){const o=t+e,s=Fe(e,i),r=Gn(s,n,i);let l=h.ONE;return a!=BigInt(0)&&(l=h.divUpFixed(r,a)),h.divUpFixed(l,Z0(o,i))}function nc(t,e,n,a,i){const o=Fe(e,i),s=Gn(o,n,i);let r=h.ONE;a!=BigInt(0)&&(r=h.divUpFixed(s,a));const l=h.mulUpFixed(t,r),p=o+l;return h.mulUpFixed(r,ec(p,i))}function ac(t,e,n,a,i){const o=Fe(e,i),s=Gn(o,n,i),r=h.divDownFixed(s,a),l=h.mulDownFixed(t,r),p=h.sub(o,l);return h.divUpFixed(h.ONE,h.mulUpFixed(r,Q0(p,i)))}function ic(t,e,n,a,i){const o=h.sub(e,t),s=Fe(e,i),r=Gn(s,n,i),l=h.divUpFixed(r,a);return h.divUpFixed(K0(o,i),l)}function oc(t,e,n,a,i){const o=Fe(e,i),s=h.mulUpFixed(t,i.rate),r=o+s;return h.mulUpFixed(ec(r,i),i.rate)}function sc(t,e,n,a,i){const o=e-t;return h.divUpFixed(K0(o,i),i.rate)}function rc(t,e,n,a,i){return h.divDownFixed(i.rate,Z0(e+t,i))}function lc(t,e,n,a,i){const o=Fe(e,i),s=h.mulDownFixed(t,i.rate),r=o-s,l=h.mulUpFixed(Q0(r,i),i.rate);return h.divUpFixed(h.ONE,l)}function pc(t,e,n,a,i){if(a==BigInt(0))return i.rate;const o=Fe(e,i),s=ln(o,n,i);return h.divUpFixed(s,h.mulUpFixed(a,i.rate))}function uc(t,e,n,a,i){const o=Fe(e,i),s=ln(o,n,i);return h.divUp(h.mul(a,i.rate),s)}function dc(t,e,n,a,i){if(a==BigInt(0))return h.divUpFixed(h.ONE,i.rate);const o=Fe(e,i),s=ln(o,n,i);return h.divUpFixed(s,h.mulUpFixed(a,i.rate))}function cc(t,e,n,a,i){const o=Fe(e,i),s=ln(o,n,i);return h.divDown(h.mul(a,i.rate),s)}var xf=Object.freeze({__proto__:null,_calcBptOutPerMainIn:U0,_calcBptInPerMainOut:q0,_calcBptInPerWrappedOut:V0,_calcWrappedOutPerMainIn:W0,_calcWrappedInPerMainOut:G0,_calcMainInPerBptOut:H0,_calcMainOutPerBptIn:$0,_calcMainOutPerWrappedIn:j0,_calcMainInPerWrappedOut:z0,_calcBptOutPerWrappedIn:X0,_calcWrappedInPerBptOut:J0,_calcWrappedOutPerBptIn:Y0,_calcTokensOutGivenExactBptIn:_f,_spotPriceAfterSwapBptOutPerMainIn:tc,_spotPriceAfterSwapMainInPerBptOut:nc,_spotPriceAfterSwapMainOutPerBptIn:ac,_spotPriceAfterSwapBptInPerMainOut:ic,_spotPriceAfterSwapMainInPerWrappedOut:oc,_spotPriceAfterSwapWrappedInPerMainOut:sc,_spotPriceAfterSwapWrappedOutPerMainIn:rc,_spotPriceAfterSwapMainOutPerWrappedIn:lc,_spotPriceAfterSwapBptOutPerWrappedIn:pc,_spotPriceAfterSwapWrappedOutPerBptIn:uc,_spotPriceAfterSwapWrappedInPerBptOut:dc,_spotPriceAfterSwapBptInPerWrappedOut:cc}),fe;(function(t){t[t.BptToMainToken=0]="BptToMainToken",t[t.MainTokenToBpt=1]="MainTokenToBpt",t[t.MainTokenToWrappedToken=2]="MainTokenToWrappedToken",t[t.WrappedTokenToMainToken=3]="WrappedTokenToMainToken",t[t.BptToWrappedToken=4]="BptToWrappedToken",t[t.WrappedTokenToBpt=5]="WrappedTokenToBpt"})(fe||(fe={}));class Hi{constructor(e,n,a,i,o,s,r,l,p,u){this.poolType=$e.Linear,this.MAX_RATIO=H("10",18),this.ALMOST_ONE=H("0.99",18),this.MAX_TOKEN_BALANCE=S.from("2").pow("112").sub("1"),this.id=e,this.address=n,this.swapFee=H(a,18),this.totalShares=H(i,18),this.tokens=o,this.tokensList=s,this.mainIndex=r,this.bptIndex=this.tokensList.indexOf(this.address),this.wrappedIndex=l,this.wrappedDecimals=this.tokens[this.wrappedIndex].decimals,this.lowerTarget=H(p,18),this.upperTarget=H(u,18)}static fromPool(e){if(e.mainIndex===void 0)throw new Error("LinearPool missing mainIndex");if(e.wrappedIndex===void 0)throw new Error("LinearPool missing wrappedIndex");if(!e.lowerTarget)throw new Error("LinearPool missing lowerTarget");if(!e.upperTarget)throw new Error("LinearPool missing upperTarget");return new Hi(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,e.mainIndex,e.wrappedIndex,e.lowerTarget,e.upperTarget)}parsePoolPairData(e,n){let a;const i=this.tokens.find(f=>Ie(f.address,e));if(!i)throw Error(`Pool does not contain token in ${e}`);const o=i.decimals,s=H(i.balance,o),r=this.tokens.find(f=>Ie(f.address,n));if(!r)throw Error(`Pool does not contain token out ${n}`);const l=r.decimals,p=H(r.balance,l);Ie(e,this.address)?Ie(n,this.tokens[this.wrappedIndex].address)?a=fe.BptToWrappedToken:a=fe.BptToMainToken:Ie(n,this.address)?Ie(e,this.tokens[this.wrappedIndex].address)?a=fe.WrappedTokenToBpt:a=fe.MainTokenToBpt:Ie(e,this.tokens[this.wrappedIndex].address)?a=fe.WrappedTokenToMainToken:a=fe.MainTokenToWrappedToken;const u=this.tokens.map(({balance:f})=>H(f,18)),d=u[this.bptIndex],c=this.MAX_TOKEN_BALANCE.sub(d);return{id:this.id,address:this.address,poolType:this.poolType,pairType:a,tokenIn:e,tokenOut:n,decimalsIn:Number(o),decimalsOut:Number(l),balanceIn:s,balanceOut:p,swapFee:this.swapFee,wrappedBalance:Ae(_(this.tokens[this.wrappedIndex].balance),this.wrappedDecimals),wrappedBalanceScaled:u[this.wrappedIndex],wrappedDecimals:this.wrappedDecimals,rate:H(this.tokens[this.wrappedIndex].priceRate,18),lowerTarget:this.lowerTarget,upperTarget:this.upperTarget,mainBalanceScaled:u[this.mainIndex],bptBalanceScaled:d,virtualBptSupply:c}}getNormalizedLiquidity(e){return nn}getLimitAmountSwap(e,n){const a=e,i=Ae(_(e.balanceOut.toString()),-e.decimalsOut);if(n===oe.SwapExactIn){if(a.pairType===fe.MainTokenToBpt)return this._mainTokenInForExactBPTOut(e,i.times(this.ALMOST_ONE.toString()).div(R.toString()));if(a.pairType===fe.WrappedTokenToBpt)return Ae(_(this.MAX_TOKEN_BALANCE.toString()),-18);if(a.pairType===fe.BptToMainToken)return this._BPTInForExactMainTokenOut(a,i.times(this.ALMOST_ONE.toString()).div(R.toString()));if(a.pairType===fe.BptToWrappedToken)return this._BPTInForExactWrappedTokenOut(e,i.times(this.ALMOST_ONE.toString()).div(R.toString()));if(a.pairType===fe.MainTokenToWrappedToken||a.pairType===fe.WrappedTokenToMainToken){const o=_(e.balanceOut.mul(this.ALMOST_ONE).div(R).toString());return Ae(o,-e.decimalsOut)}else return _(0)}else if(a.pairType===fe.MainTokenToBpt||a.pairType===fe.WrappedTokenToBpt){const o=_(e.balanceOut.mul(this.MAX_RATIO).div(R).toString());return Ae(o,-e.decimalsOut)}else if(a.pairType===fe.BptToMainToken||a.pairType===fe.BptToWrappedToken||a.pairType===fe.MainTokenToWrappedToken||a.pairType===fe.WrappedTokenToMainToken){const o=_(e.balanceOut.mul(this.ALMOST_ONE).div(R).toString());return Ae(o,-e.decimalsOut)}else return _(0)}updateTokenBalanceForPool(e,n){const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");if(Ie(this.address,e)){const o=H(a.balance,a.decimals).sub(n),s=this.totalShares.add(o);this.updateTotalShares(s)}a.balance=F(n,a.decimals)}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){return e.pairType===fe.MainTokenToBpt?this._exactMainTokenInForBPTOut(e,n):e.pairType===fe.BptToMainToken?this._exactBPTInForMainTokenOut(e,n):e.pairType===fe.WrappedTokenToBpt?this._exactWrappedTokenInForBPTOut(e,n):e.pairType===fe.BptToWrappedToken?this._exactBPTInForWrappedTokenOut(e,n):e.pairType===fe.MainTokenToWrappedToken?this._exactMainTokenInForWrappedOut(e,n):e.pairType===fe.WrappedTokenToMainToken?this._exactWrappedTokenInForMainOut(e,n):_(0)}_exactWrappedTokenInForMainOut(e,n){try{const a=H(n.toString(),18),i=j0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_exactMainTokenInForWrappedOut(e,n){try{const a=H(n.toString(),18),i=W0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_exactMainTokenInForBPTOut(e,n){try{const a=H(n.toString(),18),i=U0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_exactBPTInForMainTokenOut(e,n){try{const a=H(n.toString(),18),i=$0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_exactWrappedTokenInForBPTOut(e,n){try{const a=X0(H(n.toString(),18).toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(a.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_exactBPTInForWrappedTokenOut(e,n){try{const a=H(n.toString(),18),i=Y0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_tokenInForExactTokenOut(e,n){return e.pairType===fe.MainTokenToBpt?this._mainTokenInForExactBPTOut(e,n):e.pairType===fe.BptToMainToken?this._BPTInForExactMainTokenOut(e,n):e.pairType===fe.WrappedTokenToBpt?this._wrappedTokenInForExactBPTOut(e,n):e.pairType===fe.BptToWrappedToken?this._BPTInForExactWrappedTokenOut(e,n):e.pairType===fe.MainTokenToWrappedToken?this._mainTokenInForExactWrappedOut(e,n):e.pairType===fe.WrappedTokenToMainToken?this._wrappedTokenInForExactMainOut(e,n):_(0)}_wrappedTokenInForExactMainOut(e,n){try{const a=H(n.toString(),18),i=G0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_mainTokenInForExactWrappedOut(e,n){try{const a=H(n.toString(),18),i=z0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsOut,1)}catch{return V}}_mainTokenInForExactBPTOut(e,n){try{const a=H(n.toString(),18),i=H0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsIn,0)}catch{return V}}_BPTInForExactMainTokenOut(e,n){try{const a=H(n.toString(),18),i=q0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsIn,0)}catch{return V}}_wrappedTokenInForExactBPTOut(e,n){try{const a=H(n.toString(),18),i=J0(a.toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(i.toString()),-18).dp(e.decimalsIn,0)}catch{return V}}_BPTInForExactWrappedTokenOut(e,n){try{const a=V0(H(n.toString(),18).toBigInt(),e.mainBalanceScaled.toBigInt(),e.wrappedBalanceScaled.toBigInt(),e.virtualBptSupply.toBigInt(),{fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()});return Ae(_(a.toString()),-18).dp(e.decimalsIn,0)}catch{return V}}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=H(n.dp(18).toString(),18).toBigInt(),i=e.mainBalanceScaled.toBigInt(),o=e.wrappedBalanceScaled.toBigInt(),s=e.virtualBptSupply.toBigInt(),r={fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()};let l;if(e.pairType===fe.MainTokenToBpt)l=tc(a,i,o,s,r);else if(e.pairType===fe.BptToMainToken)l=ac(a,i,o,s,r);else if(e.pairType===fe.WrappedTokenToBpt)l=pc(a,i,o,s,r);else if(e.pairType===fe.BptToWrappedToken)l=uc(a,i,o,s,r);else if(e.pairType===fe.MainTokenToWrappedToken)l=rc(a,i,o,s,r);else if(e.pairType===fe.WrappedTokenToMainToken)l=lc(a,i,o,s,r);else return _(0);return Ae(_(l.toString()),-18).dp(e.decimalsOut,0)}catch{return _(0)}}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=H(n.dp(18).toString(),18).toBigInt(),i=e.mainBalanceScaled.toBigInt(),o=e.wrappedBalanceScaled.toBigInt(),s=e.virtualBptSupply.toBigInt(),r={fee:e.swapFee.toBigInt(),lowerTarget:e.lowerTarget.toBigInt(),upperTarget:e.upperTarget.toBigInt(),rate:e.rate.toBigInt()};let l;if(e.pairType===fe.MainTokenToBpt)l=nc(a,i,o,s,r);else if(e.pairType===fe.BptToMainToken)l=ic(a,i,o,s,r);else if(e.pairType===fe.WrappedTokenToBpt)l=dc(a,i,o,s,r);else if(e.pairType===fe.BptToWrappedToken)l=cc(a,i,o,s,r);else if(e.pairType===fe.MainTokenToWrappedToken)l=oc(a,i,o,s,r);else if(e.pairType===fe.WrappedTokenToMainToken)l=sc(a,i,o,s,r);else return _(0);return Ae(_(l.toString()),-18).dp(e.decimalsOut,0)}catch{return _(0)}}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){return _(0)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){return _(0)}}function vf(t,e){if(t.isZero())return t;const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _(i-(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(1/(1-o))-Math.abs(s-i+(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(1/(1-o)))*n)}function Pf(t,e){if(t.isZero())return t;const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _(-a+(a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(1/(1-o))+Math.abs(-s-a+(a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(1/(1-o)))*n)}function Ef(t,e){const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _(1/((a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))/(s+a)**o-Math.abs(1-(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))/(s+a)**o)*n))}function Sf(t,e){const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _((a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-1+1/(1-o))/(-s+i)**o+Math.abs(-1+(a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-1+1/(1-o))/(-s+i)**o)*n)}function kf(t,e){const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _(-((-((a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-2+1/(1-o))*(-1+1/(1-o))*(1-o)/(s+a)**(2*o))-(s+a)**(-1-o)*(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))*o-n*Math.abs((a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-2+1/(1-o))*(-1+1/(1-o))*(1-o)/(s+a)**(2*o)+(s+a)**(-1-o)*(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))*o))/((a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))/(s+a)**o-Math.abs(1-(a**(1-o)-(s+a)**(1-o)+i**(1-o))**(-1+1/(1-o))/(s+a)**o)*n)**2))}function Af(t,e){const n=parseFloat(F(e.swapFee,18)),a=parseFloat(F(e.balanceIn,e.decimalsIn)),i=parseFloat(F(e.balanceOut,e.decimalsOut)),o=_a(e.expiryTime,e.currentBlockTimestamp,e.unitSeconds),s=t.toNumber();return _((a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-2+1/(1-o))*(-1+1/(1-o))*(1-o)/(-s+i)**(2*o)+(-s+i)**(-1-o)*(a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-1+1/(1-o))*o+n*Math.abs((a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-2+1/(1-o))*(-1+1/(1-o))*(1-o)/(-s+i)**(2*o)+(-s+i)**(-1-o)*(a**(1-o)+i**(1-o)-(-s+i)**(1-o))**(-1+1/(1-o))*o))}function _a(t,e,n){let a=e<t?t-e:0;return a=a/n,a}class Nl{constructor(e,n,a,i,o,s,r,l,p,u){this.poolType=$e.Element,this.id=e,this.address=n,this.swapFee=H(a,18),this.totalShares=H(i,18),this.tokens=o,this.tokensList=s,this.expiryTime=r,this.unitSeconds=l,this.principalToken=p,this.baseToken=u,this.currentBlockTimestamp=0}static fromPool(e){if(!e.expiryTime)throw new Error("ElementPool missing expiryTime");if(!e.unitSeconds)throw new Error("ElementPool missing unitSeconds");if(!e.principalToken)throw new Error("ElementPool missing principalToken");if(!e.baseToken)throw new Error("ElementPool missing baseToken");return new Nl(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,e.expiryTime,e.unitSeconds,e.principalToken,e.baseToken)}setCurrentBlockTimestamp(e){this.currentBlockTimestamp=e}parsePoolPairData(e,n){const a=this.tokens.findIndex(f=>de(f.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.decimals,s=this.tokens.findIndex(f=>de(f.address)===de(n));if(s<0)throw"Pool does not contain tokenOut";const r=this.tokens[s],l=r.decimals,p=H(i.balance,o),u=H(r.balance,l);let d=p,c=u;return e==this.principalToken?d=p.add(this.totalShares):n==this.principalToken&&(c=u.add(this.totalShares)),{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,principalToken:this.principalToken,baseToken:this.baseToken,decimalsIn:Number(o),decimalsOut:Number(l),balanceIn:d,balanceOut:c,swapFee:this.swapFee,totalShares:this.totalShares,expiryTime:this.expiryTime,unitSeconds:this.unitSeconds,currentBlockTimestamp:this.currentBlockTimestamp}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){const a=H("0.3",18);if(n===oe.SwapExactIn){const i=parseFloat(F(e.balanceIn,e.decimalsIn)),o=parseFloat(F(e.balanceOut,e.decimalsOut)),s=_a(this.expiryTime,this.currentBlockTimestamp,this.unitSeconds);return _((i**(1-s)+o**(1-s))**(1/(1-s))-i)}else return _(F(e.balanceOut.mul(a).div(R),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,vf(n,e)}_tokenInForExactTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,Pf(n,e)}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,Ef(n,e)}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,Sf(n,e)}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,kf(n,e)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){return e.currentBlockTimestamp=this.currentBlockTimestamp,Af(n,e)}}const kp=_(1e3);function on(t,e){let n=V;const a=e.length;for(let l=0;l<a;l++)n=n.plus(e[l]);if(n.isZero())return V;let i=V,o=n;const r=_(F(t,3)).times(a**a);for(let l=0;l<255;l++){let p=_(a).times(e[0]);for(let u=1;u<a;u++)p=p.times(e[u]).times(a).div(o);if(i=o,o=_(a).times(o).times(o).plus(r.times(n).times(p)).div(_(a+1).times(o).plus(r.minus(1).times(p))),o.gt(i)){if(o.minus(i).lt(_(10**-18)))break}else if(i.minus(o).lt(_(10**-18)))break}return o}function yc(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));let u=t;u=u.times(R.sub(s).toString()).div(R.toString());const d=on(p,r);let c=d,m=V;const f=_(r.length);let I=Ge,v=V;for(let C=0;C<r.length;C++){if(I=I.times(f),C==i)v=r[C].plus(u);else if(C!=o)v=r[C];else continue;m=m.plus(v),c=c.times(d).div(v)}const x=Ll(m,d,p,I,c);return r[o].minus(x)}function mc(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=t,d=on(p,r);let c=d,m=V;const f=_(r.length);let I=Ge,v=V;for(let C=0;C<r.length;C++){if(I=I.times(f),C==o)v=r[C].minus(u);else if(C!=i)v=r[C];else continue;m=m.plus(v),c=c.times(d).div(v)}return Ll(m,d,p,I,c).minus(r[i]).multipliedBy(R.toString()).div(R.sub(s).toString())}function bc(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,virtualBptSupply:i,decimalsOut:o,tokenIndexIn:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=t,c=on(u,l),m=_(F(i,o)),f=m.plus(d).div(m).times(c);let I=_(0);for(let z=0;z<l.length;z++)I=I.plus(l[z]);const x=Tc(u,l,f,s).minus(l[s]),C=l[s].div(I),j=_(1).minus(C),U=_(F(r,18));return x.div(_(1).minus(j.times(U)))}function fc(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,virtualBptSupply:i,decimalsIn:o,tokenIndexOut:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=t,c=on(u,l);let m=_(0);for(let $=0;$<l.length;$++)m=m.plus(l[$]);const f=l[s].div(m),I=l[s].minus(d).div(l[s]),x=_(1).minus(_(1).minus(I).times(f)).minus(I).div(_(1).minus(I)),C=_(F(r,18)),j=d.div(_(1).minus(C.times(x)));l[s]=l[s].minus(j);const U=on(u,l);return _(F(i,o)).times(_(1).minus(U.div(c)))}function Tc(t,e,n,a){let i=n,o=V;const s=e.length;let r=Ge,l=V;for(let p=0;p<s;p++){if(r=r.times(s),p!=a)l=e[p];else continue;o=o.plus(l),i=i.times(n).div(l)}return Ll(o,n,t,r,i)}function Ll(t,e,n,a,i){const o=_(F(n,3));i=i.times(e).div(o.times(a).times(a));const s=t.plus(e.div(o.times(a)));let r;return e.gte(s)?r=e.minus(s).plus(e.minus(s).times(e.minus(s)).plus(i.times(4)).sqrt()):r=s.minus(e).times(s.minus(e)).plus(i.times(4)).sqrt().minus(s.minus(e)),r.div(2)}function hc(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,virtualBptSupply:i,tokenIndexIn:o,swapFee:s,decimalsOut:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=t,c=on(u,l);let m=_(0);for(let $=0;$<l.length;$++)m=m.plus(l[$]);const f=l[o].div(m),I=l[o].plus(d).div(l[o]),v=_(1).plus(I.minus(_(1)).times(f)),x=I.minus(v).div(I.minus(_(1))),C=_(F(s,18)),j=d.times(_(1).minus(C.times(x)));l[o]=l[o].plus(j);const U=on(u,l);return _(F(i,r)).times(U.div(c).minus(_(1)))}function Ic(t,e){if(t.isZero())return t;const{amp:n,allBalances:a,tokenIndexOut:i,swapFee:o}=e,s=[...a],r=s.length,l=n.div(r**(r-1)),p=t,u=on(l,s),d=_(F(e.virtualBptSupply,18)),c=d.minus(p).div(d).times(u);let m=_(0);for(let j=0;j<s.length;j++)m=m.plus(s[j]);const f=Tc(l,s,c,i),I=s[i].minus(f),v=s[i].div(m),x=_(1).minus(v);return I.times(Ge.minus(x.times(o.toString()).div(R.toString())))}function zo(t,e,n,a,i,o){const s=e.length,r=on(t,e);let l=V;for(let C=0;C<s;C++)C!=n&&C!=a&&(l=l.plus(e[C]));const p=e[n],u=e[a],c=_(F(t,3)).times(s**s),m=l.minus(r).times(c).plus(r),f=_(2).times(c).times(p).times(u),I=f.plus(c.times(u).times(u)).plus(m.times(u)),v=f.plus(c.times(p).times(p)).plus(m.times(p));let x;if(i)x=I.div(v);else{const C=_(2).times(c).times(u),j=_(2).times(c).times(p),U=C.plus(j).plus(m),z=_(2).times(I).times(v).times(U).minus(C.times(v.pow(2))).minus(j.times(I.pow(2))),$=I.pow(2).times(v);x=z.div($),o&&(x=x.times(v).div(I))}return x}function Hn(t,e,n,a,i,o,s){const r=e.length,l=on(t,e);let p=V,u=l.div(r);for(let j=0;j<r;j++)j!=a&&(p=p.plus(e[j]),u=u.times(l).div(e[j].times(r)));const d=e[a],c=_(t.toString()).times(r**r),m=c.times(p),f=kp.minus(c),I=_(2).times(c).times(d).plus(m).plus(f.times(l)),v=u.times(r+1).times(kp).minus(f.times(d)),x=V.minus(v);let C;if(i)C=I.div(v).times(n).div(l);else{const j=_(2).times(c),U=f,z=r*(r+1),$=V.minus(u.times(z).div(l));if(o){const b=j.times(x).div(I.pow(2)),T=_(2).times(U).div(I),w=$.div(x);if(C=b.minus(T).plus(w).times(l).div(n),s){const B=V.minus(I.div(x));C=C.div(B).times(l).div(n)}}else C=_(2).times(U).div(x).minus($.times(I).div(x.pow(2))).minus(j.div(I)),s&&(C=C.times(I).div(v).times(n).div(l))}return C}function Of(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));r[i]=r[i].plus(t.times(R.sub(s).toString()).div(R.toString())),r[o]=r[o].minus(yc(t,e));let u=zo(p,r,i,o,!0,!1);return u=Ge.div(u.times(R.sub(s).toString()).div(R.toString())),u}function Bf(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=mc(t,e).times(R.sub(s).toString()).div(R.toString());r[i]=r[i].plus(u),r[o]=r[o].minus(t);let d=zo(p,r,i,o,!0,!0);return d=Ge.div(d.times(R.sub(s).toString()).div(R.toString())),d}function $n(t,e,n){let a=V;for(let s=0;s<t.length;s++)a=a.plus(t[s]);const i=t[e].div(a),o=Ge.minus(i);return Ge.minus(o.times(n.toString()).div(R.toString()))}function Ff(t,e){const{amp:n,allBalances:a,virtualBptSupply:i,decimalsOut:o,tokenIndexIn:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=$n(l,s,r);let c=_(F(i,o));l[s]=l[s].plus(t.times(d)),c=c.plus(hc(t,e));let m=Hn(u,l,c,s,!0,!0,!1);return m=_(1).div(m.times(d)),m}function Mf(t,e){const{amp:n,allBalances:a,virtualBptSupply:i,tokenIndexIn:o,decimalsOut:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=bc(t,e),c=$n(l,o,r);l[o]=l[o].plus(d.times(c));let m=_(F(i,s));m=m.plus(t);let f=Hn(u,l,m,o,!0,!0,!0);return f=Ge.div(f.times(c)),f}function Cf(t,e){const{amp:n,allBalances:a,virtualBptSupply:i,tokenIndexOut:o,swapFee:s,decimalsIn:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=Ic(t,e),c=$n(l,o,s);let m=_(F(i,r));return l[o]=l[o].minus(d.div(c)),m=m.minus(t),Hn(u,l,m,o,!0,!1,!1).div(c)}function Rf(t,e){const{amp:n,allBalances:a,virtualBptSupply:i,decimalsIn:o,tokenIndexOut:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=$n(l,s,r);l[s]=l[s].minus(t.div(d));let c=_(F(i,o));return c=c.minus(fc(t,e)),Hn(u,l,c,s,!0,!1,!0).div(d)}function Nf(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1));return r[i]=r[i].plus(t.times(R.sub(s).toString()).div(R.toString())),r[o]=r[o].minus(yc(t,e)),zo(p,r,i,o,!1,!1)}function Lf(t,e){const{amp:n,allBalances:a,tokenIndexIn:i,tokenIndexOut:o,swapFee:s}=e,r=[...a],l=r.length,p=n.div(l**(l-1)),u=_(F(s,18)),d=mc(t,e).times(_(1).minus(u));r[i]=r[i].plus(d),r[o]=r[o].minus(t);const c=_(1).minus(u);return zo(p,r,i,o,!1,!0).div(c)}function Df(t,e){const{amp:n,allBalances:a,balanceOut:i,decimalsOut:o,tokenIndexIn:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=$n(l,s,r);l[s]=l[s].plus(t.times(d));let c=_(F(i,o));return c=c.plus(hc(t,e)),Hn(u,l,c,s,!1,!0,!1)}function Uf(t,e){const{amp:n,allBalances:a,balanceOut:i,decimalsOut:o,tokenIndexIn:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=bc(t,e),c=$n(l,s,r);l[s]=l[s].plus(d.times(c));let m=_(F(i,o));return m=m.plus(t),Hn(u,l,m,s,!1,!0,!0).div(c)}function qf(t,e){const{amp:n,allBalances:a,balanceIn:i,decimalsIn:o,tokenIndexOut:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=fc(t,e),c=$n(l,s,r);l[s]=l[s].minus(t.div(c));let m=_(F(i,o));return m=m.minus(d),Hn(u,l,m,s,!1,!1,!0).div(c.pow(2))}function Vf(t,e){const{amp:n,allBalances:a,balanceIn:i,decimalsIn:o,tokenIndexOut:s,swapFee:r}=e,l=[...a],p=l.length,u=n.div(p**(p-1)),d=Ic(t,e),c=$n(l,s,r);l[s]=l[s].minus(d.div(c));let m=_(F(i,o));return m=m.minus(t),Hn(u,l,m,s,!1,!1,!1).div(c)}var He;(function(t){t[t.BptToToken=0]="BptToToken",t[t.TokenToBpt=1]="TokenToBpt",t[t.TokenToToken=2]="TokenToToken"})(He||(He={}));class _n{constructor(e,n,a,i,o,s,r){this.poolType=$e.MetaStable,this.ALMOST_ONE=H("0.99",18),this.id=e,this.address=n,this.amp=H(a,_n.AMP_DECIMALS),this.swapFee=H(i,18),this.totalShares=H(o,18),this.tokens=s,this.tokensList=r}static fromPool(e){if(!e.amp)throw new Error("PhantomStablePool missing amp factor");return new _n(e.id,e.address,e.amp,e.swapFee,e.totalShares,e.tokens,e.tokensList)}static removeBPT(e){const n=Xt(e),a=e.bptIndex;return a!=-1&&(n.allBalances.splice(a,1),n.allBalancesScaled.splice(a,1),a<e.tokenIndexIn&&(n.tokenIndexIn-=1),a<e.tokenIndexOut&&(n.tokenIndexOut-=1)),n}parsePoolPairData(e,n){const a=this.tokens.findIndex(j=>de(j.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=_(i.balance).times(_(i.priceRate)).dp(i.decimals).toString(),s=i.decimals,r=H(i.priceRate,18),l=this.tokens.findIndex(j=>de(j.address)===de(n));if(l<0)throw"Pool does not contain tokenOut";const p=this.tokens[l],u=_(p.balance).times(_(p.priceRate)).dp(p.decimals).toString(),d=p.decimals,c=H(p.priceRate,18),m=this.tokens.map(({balance:j,priceRate:U})=>_(j).times(_(U))),f=this.tokens.map(({balance:j,priceRate:U})=>H(j,18).mul(H(U,18)).div(R));let I;Ie(e,this.address)?I=He.BptToToken:Ie(n,this.address)?I=He.TokenToBpt:I=He.TokenToToken;const v=this.tokensList.indexOf(this.address),x=this.totalShares,C={id:this.id,address:this.address,poolType:this.poolType,pairType:I,bptIndex:v,tokenIn:e,tokenOut:n,balanceIn:H(o,s),balanceOut:H(u,d),swapFee:this.swapFee,allBalances:m,allBalancesScaled:f,amp:this.amp,tokenIndexIn:a,tokenIndexOut:l,decimalsIn:Number(s),decimalsOut:Number(d),tokenInPriceRate:r,tokenOutPriceRate:c,virtualBptSupply:x};return _n.removeBPT(C)}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){return n===oe.SwapExactIn?_(F(e.balanceOut.mul(this.ALMOST_ONE).div(e.tokenOutPriceRate),e.decimalsOut)):_(F(e.balanceOut.mul(this.ALMOST_ONE).div(e.tokenOutPriceRate),e.decimalsOut))}updateTokenBalanceForPool(e,n){const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");if(Ie(this.address,e)){const o=H(a.balance,a.decimals).sub(n),s=this.totalShares.add(o);this.updateTotalShares(s)}a.balance=F(n,a.decimals)}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{if(n.isZero())return V;const i=this.subtractSwapFeeAmount(H(n.dp(18).toString(),18),e.swapFee).mul(e.tokenInPriceRate).div(R);let o;if(e.pairType===He.TokenToBpt){const r=Array(e.allBalancesScaled.length).fill(BigInt(0));r[e.tokenIndexIn]=i.toBigInt(),o=Ia(this.amp.toBigInt(),e.allBalancesScaled.map(l=>l.toBigInt()),r,e.virtualBptSupply.toBigInt(),BigInt(0))}else e.pairType===He.BptToToken?o=Ho(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexOut,i.toBigInt(),e.virtualBptSupply.toBigInt(),BigInt(0)):o=hi(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,i.toBigInt(),BigInt(0));const s=S.from(o).mul(R).div(e.tokenOutPriceRate);return _(F(s,18))}catch{return V}}_tokenInForExactTokenOut(e,n){try{if(n.isZero())return V;const a=H(n.dp(18).toString(),18).mul(e.tokenOutPriceRate).div(R);let i;if(e.pairType===He.TokenToBpt)i=Wo(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexIn,a.toBigInt(),e.virtualBptSupply.toBigInt(),BigInt(0));else if(e.pairType===He.BptToToken){const r=Array(e.allBalancesScaled.length).fill(BigInt(0));r[e.tokenIndexOut]=a.toBigInt(),i=Go(this.amp.toBigInt(),e.allBalancesScaled.map(l=>l.toBigInt()),r,e.virtualBptSupply.toBigInt(),BigInt(0))}else i=Ii(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,a.toBigInt(),BigInt(0));const o=S.from(i).mul(R).div(e.tokenInPriceRate),s=this.addSwapFeeAmount(o,e.swapFee);return _(F(s,18))}catch(a){return console.error(`PhantomStable _evminGivenOut: ${a.message}`),V}}_calcTokensOutGivenExactBptIn(e){throw new Error("PhantomPool does not have exit pool (_calcTokensOutGivenExactBptIn).")}_calcBptOutGivenExactTokensIn(e){throw new Error("PhantomPool does not have join pool (_calcBptOutGivenExactTokensIn).")}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18)),o=n.times(_(F(e.tokenInPriceRate,18)));let s;return e.pairType===He.TokenToBpt?s=Ff(o,e):e.pairType===He.BptToToken?s=Cf(o,e):s=Of(o,e),s.div(a).times(i)}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18)),o=n.times(F(e.tokenOutPriceRate,18));let s;return e.pairType===He.TokenToBpt?s=Mf(o,e):e.pairType===He.BptToToken?s=Rf(o,e):s=Bf(o,e),s.div(a).times(i)}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=_(F(e.tokenOutPriceRate,18)),i=n.times(F(e.tokenInPriceRate,18));let o;return e.pairType===He.TokenToBpt?o=Df(i,e):e.pairType===He.BptToToken?o=Vf(i,e):o=Nf(i,e),o.times(a)}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=_(F(e.tokenInPriceRate,18)),i=_(F(e.tokenOutPriceRate,18)),o=n.times(F(e.tokenOutPriceRate,18));let s;return e.pairType===He.TokenToBpt?s=Uf(o,e):e.pairType===He.BptToToken?s=qf(o,e):s=Lf(o,e),s.div(a).times(i).times(i)}subtractSwapFeeAmount(e,n){const a=e.mul(n).add(R.sub(1)).div(R);return e.sub(a)}addSwapFeeAmount(e,n){const a=R.sub(n);return e.mul(R).add(a.sub(1)).div(a)}}_n.AMP_DECIMALS=3;class Xo extends _n{constructor(e,n,a,i,o,s,r){super(e,n,a,i,o,s,r)}static fromPool(e){if(!e.amp)throw new Error("ComposableStablePool missing amp factor");return new Xo(e.id,e.address,e.amp,e.swapFee,e.totalShares,e.tokens,e.tokensList)}_exactTokenInForTokenOut(e,n){try{if(n.isZero())return V;const a=H(n.dp(18).toString(),18).mul(e.tokenInPriceRate).div(R);let i;if(e.pairType===He.TokenToBpt){const s=Array(e.allBalancesScaled.length).fill(BigInt(0));s[e.tokenIndexIn]=a.toBigInt(),i=Ia(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),s,e.virtualBptSupply.toBigInt(),e.swapFee.toBigInt())}else e.pairType===He.BptToToken?i=Ho(this.amp.toBigInt(),e.allBalancesScaled.map(s=>s.toBigInt()),e.tokenIndexOut,a.toBigInt(),e.virtualBptSupply.toBigInt(),e.swapFee.toBigInt()):i=hi(this.amp.toBigInt(),e.allBalancesScaled.map(s=>s.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,a.toBigInt(),e.swapFee.toBigInt());const o=S.from(i).mul(R).div(e.tokenOutPriceRate);return _(F(o,18)).dp(e.decimalsOut)}catch{return V}}_tokenInForExactTokenOut(e,n){try{if(n.isZero())return V;const a=H(n.dp(18).toString(),18).mul(e.tokenOutPriceRate).div(R);let i;if(e.pairType===He.TokenToBpt)i=Wo(this.amp.toBigInt(),e.allBalancesScaled.map(s=>s.toBigInt()),e.tokenIndexIn,a.toBigInt(),e.virtualBptSupply.toBigInt(),e.swapFee.toBigInt());else if(e.pairType===He.BptToToken){const s=Array(e.allBalancesScaled.length).fill(BigInt(0));s[e.tokenIndexOut]=a.toBigInt(),i=Go(this.amp.toBigInt(),e.allBalancesScaled.map(r=>r.toBigInt()),s,e.virtualBptSupply.toBigInt(),e.swapFee.toBigInt())}else i=Ii(this.amp.toBigInt(),e.allBalancesScaled.map(s=>s.toBigInt()),e.tokenIndexIn,e.tokenIndexOut,a.toBigInt(),e.swapFee.toBigInt());const o=S.from(i).mul(R).div(e.tokenInPriceRate);return _(F(o,18)).dp(e.decimalsOut)}catch(a){return console.error(`PhantomStable _evminGivenOut: ${a.message}`),V}}_calcTokensOutGivenExactBptIn(e){const n=this.tokens.filter(i=>!Ie(i.address,this.address)),a=n.map(i=>Dn(i));try{return $o(a,e.toBigInt(),this.totalShares.toBigInt()).map((s,r)=>qo(s,n[r])).map(s=>S.from(s))}catch{return new Array(a.length).fill(V)}}_calcBptOutGivenExactTokensIn(e){try{const n=new Array(e.length).fill(BigInt(0)),a=new Array(e.length).fill(BigInt(0));this.tokens.filter(o=>!Ie(o.address,this.address)).forEach((o,s)=>{n[s]=Uo(BigInt(e[s].toString()),o),a[s]=Dn(o)});const i=Ia(this.amp.toBigInt(),a,n,this.totalShares.toBigInt(),this.swapFee.toBigInt());return S.from(i.toString())}catch(n){return console.error(n),ae}}}const Wf=S.from("316227766016837933"),Gf=S.from("31622776601683793"),Hf=S.from("3162277660168379"),$f=S.from("316227766016837"),jf=S.from("31622776601683"),zf=S.from("3162277660168"),Xf=S.from("316227766016"),Jf=S.from("31622776601"),Yf=S.from("3162277660"),Ne=S.from(10).pow(38),gc=S.from(10).pow(8),Un=S.from("999999000000000000");function Et(t,e){return t.mul(e).sub(1).div(R).add(1)}function Io(t,e){return t.mul(R).sub(1).div(e).add(1)}function q(t,e){return t.mul(e).div(R)}function pe(t,e){return t.mul(R).div(e)}function Be(t,e){return t.mul(e).div(Ne)}function we(t,e){if(e.isZero())throw new Error("ZERO DIVISION");return t.mul(Ne).div(e)}function be(t,e){return t.mul(e).div(R)}function Ze(t,e){if(e.isZero())throw new Error("ZERO DIVISION");return t.mul(R).div(e)}function ye(t,e){const n=t.mul(e);return n.gt(0)?n.sub(1).div(R).add(1):n.lt(0)?n.add(1).div(R).sub(1):S.from(0)}function qn(t,e){if(e.isZero())throw new Error("ZERO DIVISION");return e.lt(0)&&(e=e.mul(-1),t=t.mul(-1)),t.isZero()?S.from(0):t.gt(0)?t.mul(R).sub(1).div(e).add(1):t.mul(R).add(1).div(e.sub(1))}function We(t,e){const n=S.from(10).pow(19),a=e.div(n),i=e.isNegative()?e.mul(-1).mod(n).mul(-1):e.mod(n),o=t.mul(a),s=t.mul(i);return o.lte(0)&&s.lte(0)?o.add(s.div(n)).div(n):o.add(s.div(n)).sub(1).div(n).add(1)}function ft(t,e){const n=S.from(10).pow(19),a=e.div(n),i=e.isNegative()?e.mul(-1).mod(n).mul(-1):e.mod(n),o=t.mul(a),s=t.mul(i);return o.gte(0)&&s.gte(0)?o.add(s.div(n)).div(n):o.add(s.div(n)).add(1).div(n).sub(1)}function Vn(t,e){if(t.isZero())return S.from(0);let n=Kf(t);for(const i of new Array(7).fill(0))n=n.add(t.mul(R).div(n)).div(2);const a=n.mul(n).div(R);if(!(a.lte(t.add(Et(n,e)))&&a.gte(t.sub(Et(n,e)))))throw new Error("GyroEPool: sqrt failed");return n}function Kf(t){return t.gte(R)?S.from(2).pow(Zf(t.div(R))).mul(R):t.lte("10")?Yf:t.lte("100")?S.from("10000000000"):t.lte("1000")?Jf:t.lte("10000")?S.from("100000000000"):t.lte("100000")?Xf:t.lte("1000000")?S.from("1000000000000"):t.lte("10000000")?zf:t.lte("100000000")?S.from("10000000000000"):t.lte("1000000000")?jf:t.lte("10000000000")?S.from("100000000000000"):t.lte("100000000000")?$f:t.lte("1000000000000")?S.from("1000000000000000"):t.lte("10000000000000")?Hf:t.lte("100000000000000")?S.from("10000000000000000"):t.lte("1000000000000000")?Gf:t.lte("10000000000000000")?S.from("100000000000000000"):t.lte("100000000000000000")?Wf:t}function Zf(t){let e=0;for(let n=128;n>=2;n=n/2){const a=S.from(2).pow(n);t.gte(a)&&(t=t.div(a),e+=n/2)}return e}function ei(t,e,n){return[pe(t,n),q(t,e)]}function ia(t,e,n){const[a,i,o,s]=Qf(t,e,n);return e2(a,i,o,s)}function Qf(t,e,n){const a=R.sub(pe(e,n)),i=pe(t[1],n),o=q(t[0],e),s=i.add(o),r=q(t[0],t[1]);let l=q(q(q(t[0],t[0]),e),e);const p=pe(q(q(q(t[0],t[1]),R.mul(2)),e),n),u=pe(q(t[1],t[1]),Et(n,n));return l=l.add(p).add(u),[a,s,l,r]}function e2(t,e,n,a){const i=Et(t,R.mul(2)),o=q(q(a,R.mul(4)),t),s=n.add(o),r=Vn(s,S.from(5)),l=e.add(r);return pe(l,i)}function Ds(t,e,n,a,i){const o=t.add(Et(a,R.add(2))),s=e.add(q(i,R.sub(1))),r=pe(q(s,n),o.add(n));if(r.gt(e))throw new Error("ASSET_BOUNDS_EXCEEDED");return r}function Us(t,e,n,a,i){if(n.gt(e))throw new Error("ASSET_BOUNDS_EXCEEDED");const o=t.add(Et(a,R.add(2))),s=e.add(q(i,R.sub(1)));return Io(Et(o,n),s.sub(n))}function Ap(t,e,n,a,i,o){const s=R.sub(o),l=t[0].add(a).add(q(s,e)),p=t[1].add(i),u=q(s,p.sub(n));return pe(l,u)}function t2(t,e,n){const a=S.from(2).mul(R),o=t[1].add(n).sub(e);return pe(a,o)}function n2(t,e,n,a,i,o){const s=S.from(2).mul(R),r=R.sub(o),p=t[0].add(a).add(q(r,e)),u=t[1].add(i),d=q(u.sub(n),u.sub(n)),c=pe(s,r);return q(c,pe(p,d))}function vt(t,e){const n=e.map(a=>H("1",a));return t.map((a,i)=>a.mul(R).div(n[i]))}function li(t,e){const n=t.mul(e).div(R);return t.sub(n)}function pi(t,e){return t.mul(R).div(R.sub(e))}class Dl{constructor(e,n,a,i,o,s,r,l){this.poolType=$e.Gyro2,this.id=e,this.address=n,this.swapFee=Y(a,18),this.totalShares=Y(i,18),this.tokens=o,this.tokensList=s,this.sqrtAlpha=Y(r,18),this.sqrtBeta=Y(l,18)}static fromPool(e){if(!e.sqrtAlpha||!e.sqrtBeta)throw new Error("Pool missing Gyro2 sqrtAlpha and/or sqrtBeta params");return new Dl(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,e.sqrtAlpha,e.sqrtBeta)}parsePoolPairData(e,n){const a=this.tokens.findIndex(m=>de(m.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=this.tokens.findIndex(m=>de(m.address)===de(n));if(r<0)throw"Pool does not contain tokenOut";const l=this.tokens[r],p=l.balance,u=l.decimals,d=a===0;return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(s),decimalsOut:Number(u),balanceIn:Y(o,s),balanceOut:Y(p,u),swapFee:this.swapFee,sqrtAlpha:d?this.sqrtAlpha:pe(R,this.sqrtBeta),sqrtBeta:d?this.sqrtBeta:pe(R,this.sqrtAlpha)}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){if(n===oe.SwapExactIn){const a=[e.balanceIn,e.balanceOut],i=vt(a,[e.decimalsIn,e.decimalsOut]),o=ia(i,e.sqrtAlpha,e.sqrtBeta),r=q(o,pe(R,e.sqrtAlpha).sub(pe(R,e.sqrtBeta))).sub(i[0]),l=pe(r,R.sub(e.swapFee));return _(F(q(l,Un),18))}else return _(F(q(e.balanceOut,Un),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut],i=vt(a,[e.decimalsIn,e.decimalsOut]),o=ia(i,e.sqrtAlpha,e.sqrtBeta),[s,r]=ei(o,e.sqrtAlpha,e.sqrtBeta),l=Y(n.toString(),18),p=li(l,e.swapFee),u=Ds(i[0],i[1],p,s,r);return _(F(u,18))}catch{return _(0)}}_tokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut],o=vt(i,[e.decimalsIn,e.decimalsOut]),s=ia(o,e.sqrtAlpha,e.sqrtBeta),[r,l]=ei(s,e.sqrtAlpha,e.sqrtBeta),p=Us(o[0],o[1],a,r,l),u=pi(p,e.swapFee);return _(F(u,18))}catch{return _(0)}}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut],i=vt(a,[e.decimalsIn,e.decimalsOut]),o=ia(i,e.sqrtAlpha,e.sqrtBeta),[s,r]=ei(o,e.sqrtAlpha,e.sqrtBeta),l=Y(n.toString(),18),p=li(l,e.swapFee),u=Ds(i[0],i[1],p,s,r),d=Ap(i,l,u,s,r,e.swapFee);return _(F(d,18))}catch{return _(0)}}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut],o=vt(i,[e.decimalsIn,e.decimalsOut]),s=ia(o,e.sqrtAlpha,e.sqrtBeta),[r,l]=ei(s,e.sqrtAlpha,e.sqrtBeta),p=Us(o[0],o[1],a,r,l),u=pi(p,e.swapFee),d=Ap(o,u,a,r,l,e.swapFee);return _(F(d,18))}catch{return _(0)}}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut],i=vt(a,[e.decimalsIn,e.decimalsOut]),o=ia(i,e.sqrtAlpha,e.sqrtBeta),[s,r]=ei(o,e.sqrtAlpha,e.sqrtBeta),l=Y(n.toString(),18),p=li(l,e.swapFee),u=Ds(i[0],i[1],p,s,r),d=t2(i,u,r);return _(F(d,18))}catch{return _(0)}}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut],o=vt(i,[e.decimalsIn,e.decimalsOut]),s=ia(o,e.sqrtAlpha,e.sqrtBeta),[r,l]=ei(s,e.sqrtAlpha,e.sqrtBeta),p=Us(o[0],o[1],a,r,l),u=pi(p,e.swapFee),d=n2(o,u,a,r,l,e.swapFee);return _(F(d,18))}catch{return _(0)}}}const a2=S.from(10).pow(29).mul(487),_i=S.from(10).pow(9),i2=8,Op=5;function o2(t,e,n){let a=S.from(0);if(t.lte(a2))a=t.mul(t).div(R).mul(t).div(R),a=a.sub(a.mul(e).div(R).mul(e).div(R).mul(e).div(R)),a=a.mul(R).div(n);else{a=t.mul(t).div(R),a=a.mul(t.div(R)).add(a.mul(t.mod(R)).div(R));let i=a;for(let o=0;o<3;o++)i=i.mul(e.div(_i)).div(_i).add(i.mul(e.mod(_i)));a=a.sub(i),a=a.mul(_i).div(n.div(_i))}return a}function oa(t,e){const[n,a,i,o]=s2(t,e);return r2(n,a,i,o,e)}function s2(t,e){const n=q(e,e),a=q(n,e),i=R.sub(a),o=t[0].add(t[1]).add(t[2]),s=q(q(o,e),e),r=q(t[0],t[1]).add(q(t[1],t[2])).add(q(t[2],t[0])),l=q(r,e),p=q(q(t[0],t[1]),t[2]);return[i,s,l,p]}function r2(t,e,n,a,i){let o=l2(t,e,n);return o=p2(t,e,n,a,i,o),o}function l2(t,e,n){const a=Et(e,e).add(Et(Et(t,n),R.mul(3))),i=Io(e,t.mul(3)).add(Io(Vn(a,S.from(5)),t.mul(3))),s=R.sub(t).gte(R.div(2))?R.mul(3).div(2):R.mul(2);return Et(i,s)}function p2(t,e,n,a,i,o){let s=S.from(0);for(let r=0;r<255;++r){const[l,p]=u2(t,e,n,a,i,o);if(l.lte(1)||r>=Op&&p||r>=Op&&l.gte(s.div(S.from(i2))))return o;s=l,p?o=o.add(l):o=o.sub(l)}throw new Error("Gyro3Pool: Newton Method did not converge on required invariant")}function u2(t,e,n,a,i,o){let s=S.from(0);s=q(o,o).mul(3),s=s.sub(q(q(q(s,i),i),i)),s=s.sub(q(o,e).mul(2)).sub(n);const l=o2(o,i,s);let p=q(q(o,o),e);p=pe(p.add(q(o,n)),s),p=p.add(pe(a,s));const u=p.gte(l);return[u?p.sub(l):l.sub(p),u]}function qs(t,e,n,a){const i=t.add(Et(a,R.add(2))),s=e.add(q(a,R.sub(1))).mul(n).div(i.add(n));if(s.gt(e))throw new Error("ASSET_BOUNDS_EXCEEDED");return s}function Vs(t,e,n,a){if(n.gt(e))throw new Error("ASSET_BOUNDS_EXCEEDED");const i=t.add(Et(a,R.add(2))),o=e.add(q(a,R.sub(1)));return Io(Et(i,n),o.sub(n))}function Bp(t,e,n,a,i){const o=R.sub(i),r=t[0].add(a).add(q(o,e)),l=t[1].add(a),p=q(o,l.sub(n));return pe(r,p)}function d2(t,e,n){const a=S.from(2).mul(R),o=t[1].add(n).sub(e);return pe(a,o)}function c2(t,e,n,a,i){const o=S.from(2).mul(R),s=R.sub(i),l=t[0].add(a).add(q(s,e)),p=t[1].add(a),u=q(p.sub(n),p.sub(n)),d=pe(o,s);return q(d,pe(l,u))}class Ai{constructor(e,n,a,i,o,s,r){this.poolType=$e.Gyro3,this.id=e,this.address=n,this.swapFee=Y(a,18),this.totalShares=Y(i,18),this.tokens=o,this.tokensList=s,this.root3Alpha=Y(r,18)}static findToken(e,n,a){const i=e.find(o=>de(o.address)===de(n));if(!i)throw new Error(a);return i}static fromPool(e){if(!e.root3Alpha)throw new Error("Pool missing root3Alpha");if(Y(e.root3Alpha,18).lte(0)||Y(e.root3Alpha,18).gte(R))throw new Error("Invalid root3Alpha parameter");if(e.tokens.length!==3)throw new Error("Gyro3Pool must contain three tokens only");return new Ai(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,e.root3Alpha)}parsePoolPairData(e,n){const a=Ai.findToken(this.tokens,e,"Pool does not contain tokenIn"),i=a.balance,o=a.decimals,s=Ai.findToken(this.tokens,n,"Pool does not contain tokenOut"),r=s.balance,l=s.decimals,p=this.tokens.find(m=>de(m.address)!==de(n)&&de(m.address)!==de(e));if(!p)throw new Error("Pool does not contain a valid third token");const u=p.balance,d=p.decimals;return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(o),decimalsOut:Number(l),decimalsTertiary:Number(d),balanceIn:Y(i,o),balanceOut:Y(r,l),balanceTertiary:Y(u,d),swapFee:this.swapFee}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){if(n===oe.SwapExactIn){const a=[e.balanceIn,e.balanceOut,e.balanceTertiary],i=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],o=vt(a,i),s=oa(o,this.root3Alpha),r=q(s,this.root3Alpha),p=pe(q(o[0].add(r),o[1].add(r)),r).sub(r).sub(o[0]),u=pe(p,R.sub(e.swapFee));return _(F(q(u,Un),18))}else return _(F(q(e.balanceOut,Un),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut,e.balanceTertiary],i=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],o=vt(a,i),s=oa(o,this.root3Alpha),r=q(s,this.root3Alpha),l=Y(n.toString(),18),p=li(l,e.swapFee),u=qs(o[0],o[1],p,r);return _(F(u,18))}catch{return _(0)}}_tokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut,e.balanceTertiary],o=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],s=vt(i,o),r=oa(s,this.root3Alpha),l=q(r,this.root3Alpha),p=Vs(s[0],s[1],a,l),u=pi(p,e.swapFee);return _(F(u,18))}catch{return _(0)}}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut,e.balanceTertiary],i=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],o=vt(a,i),s=oa(o,this.root3Alpha),r=q(s,this.root3Alpha),l=Y(n.toString(),18),p=li(l,e.swapFee),u=qs(o[0],o[1],p,r),d=Bp(o,l,u,r,e.swapFee);return _(F(d,18))}catch{return _(0)}}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut,e.balanceTertiary],o=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],s=vt(i,o),r=oa(s,this.root3Alpha),l=q(r,this.root3Alpha),p=Vs(s[0],s[1],a,l),u=pi(p,e.swapFee),d=Bp(s,u,a,l,e.swapFee);return _(F(d,18))}catch{return _(0)}}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=[e.balanceIn,e.balanceOut,e.balanceTertiary],i=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],o=vt(a,i),s=oa(o,this.root3Alpha),r=q(s,this.root3Alpha),l=Y(n.toString(),18),p=li(l,e.swapFee),u=qs(o[0],o[1],p,r),d=d2(o,u,r);return _(F(d,18))}catch{return _(0)}}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=Y(n.toString(),18),i=[e.balanceIn,e.balanceOut,e.balanceTertiary],o=[e.decimalsIn,e.decimalsOut,e.decimalsTertiary],s=vt(i,o),r=oa(s,this.root3Alpha),l=q(r,this.root3Alpha),p=Vs(s[0],s[1],a,l),u=pi(p,e.swapFee),d=c2(s,u,a,l,e.swapFee);return _(F(d,18))}catch{return _(0)}}}const mr=S.from(10).pow(34),y2=S.from(10).pow(37).mul(3);function ui(t,e){const n=q(t,e);return t.sub(n)}function wc(t,e){return pe(t,R.sub(e))}function sa(t,e){const n=e.map(a=>H("1",a));return t.map((a,i)=>a.mul(R).div(n[i]))}function mt(t,e,n){return n?[t,e]:[e,t]}function m2(t,e,n,a){const i=Be(a.dSq,a.dSq),o=we(Ze(Ze(a.w,n.lambda).add(a.z),n.lambda),i);let s=ft(be(t,n.c).sub(be(e,n.s)),o),r=be(be(t,n.lambda),n.s).add(be(be(e,n.lambda),n.c));return s=s.add(ft(r,we(a.u,i))),r=be(t,n.s).add(be(e,n.c)),s=s.add(ft(r,we(a.v,i))),s}function b2(t,e,n,a){let i=f2(t,e,n,a).add(T2(t,e,n,a));i=i.add(h2(t,e,n,a));const o=ye(t,t).add(ye(e,e)).div(Ne);return i=i.gt(0)?Vn(i,S.from(5)):S.from(0),[i,o]}function f2(t,e,n,a){let i=ye(ye(ye(t,t),n.c),n.c).add(ye(ye(ye(e,e),n.s),n.s));i=i.sub(be(be(be(t,e),n.c.mul(2)),n.s));const o=Be(a.u,a.u).add(Ze(Be(a.u.mul(2),a.v),n.lambda)).add(Ze(Ze(Be(a.v,a.v),n.lambda),n.lambda));let s=ft(i.mul(-1),o);return s=s.add(ft(Ze(Ze(i.sub(9),n.lambda),n.lambda),we(Ne,a.dSq))),s}function T2(t,e,n,a){let i=be(be(be(t,t).sub(ye(e,e)),n.c.mul(2)),n.s);const o=be(e,t.mul(2));i=i.add(be(be(o,n.c),n.c)).sub(be(be(o,n.s),n.s));let s=Be(a.z,a.u).add(Ze(Ze(Be(a.w,a.v),n.lambda),n.lambda));return s=s.add(Ze(Be(a.w,a.u).add(Be(a.z,a.v)),n.lambda)),s=we(s,Be(Be(Be(a.dSq,a.dSq),a.dSq),a.dSq)),ft(i,s)}function h2(t,e,n,a){let i=ye(ye(ye(t,t),n.s),n.s).add(ye(ye(ye(e,e),n.c),n.c));i=i.add(ye(ye(ye(t,e),n.s.mul(2)),n.c));let o=Be(a.z,a.z).add(Ze(Ze(Be(a.w,a.w),n.lambda),n.lambda));o=o.add(Ze(Be(a.z.mul(2),a.w),n.lambda)),o=we(o,Be(Be(Be(a.dSq,a.dSq),a.dSq),a.dSq));let s=ft(i.mul(-1),o);return s=s.add(ft(i.sub(9),we(Ne,a.dSq))),s}function I2(t,e){const n=Be(Be(e.dSq,e.dSq),e.dSq);let a=ye(t.lambda,we(Be(e.u.mul(2),e.v),n));a=a.add(ye(ye(we(Be(e.u.add(1),e.u.add(1)),n),t.lambda),t.lambda)),a=a.add(we(Be(e.v,e.v),n));const i=qn(e.w,t.lambda).add(e.z);return a=a.add(we(Be(i,i),n)),a}function _c(t,e,n,a,i){if(i===0){const o=g2(t,e,n);if(a.gt(mr)||a.gt(o))throw new Error("ASSET BOUNDS EXCEEDED")}else{const o=w2(t,e,n);if(a.gt(mr)||a.gt(o))throw new Error("ASSET BOUNDS EXCEEDED")}}function g2(t,e,n){const a=we(e.tauBeta.x.sub(e.tauAlpha.x),e.dSq),i=we(e.tauBeta.y.sub(e.tauAlpha.y),e.dSq);let o=ft(be(be(n.y,t.lambda),t.c),a);return o=o.add(i.gt(S.from(0))?be(n.y,t.s):ft(ye(n.x,t.s),i)),o}function w2(t,e,n){const a=we(e.tauBeta.x.sub(e.tauAlpha.x),e.dSq),i=we(e.tauBeta.y.sub(e.tauAlpha.y),e.dSq);let o=ft(be(be(n.y,t.lambda),t.s),a);return o=o.add(i.gt(S.from(0))?be(n.y,t.c):ft(ye(n.x,t.c),i)),o}function xc(t,e,n,a){const i={x:xa(e,n,a),y:va(e,n,a)};return Pc(e.lambda,t,e.s,e.c,a,i,n.tauBeta,n.dSq)}function vc(t,e,n,a){const i={x:va(e,n,a),y:xa(e,n,a)};return Pc(e.lambda,t,e.c,e.s,a,i,{x:n.tauAlpha.x.mul(-1),y:n.tauAlpha.y},n.dSq)}function xa(t,e,n,a){const i=a?e.tauAlpha:e.tauBeta,o=we(i.x,e.dSq);let s=i.x.gt(S.from(0))?We(ye(ye(n.x,t.lambda),t.c),o):We(be(be(n.y,t.lambda),t.c),o);return s=s.add(We(ye(n.x,t.s),we(i.y,e.dSq))),s}function va(t,e,n,a){const i=a?e.tauBeta:e.tauAlpha,o=we(i.x,e.dSq);let s=i.x.lt(S.from(0))?We(ye(ye(n.x,t.lambda),t.s),o.mul(-1)):We(be(be(n.y.mul(-1),t.lambda),t.s),o);return s=s.add(We(ye(n.x,t.c),we(i.y,e.dSq))),s}function Pc(t,e,n,a,i,o,s,r){const l={x:Ne.sub(Ze(Ze(Ne,t),t)),y:Ne.sub(qn(qn(Ne,t),t))},p={a:S.from(0),b:S.from(0),c:S.from(0)},u=e.sub(o.x);u.gt(S.from(0))?p.b=We(be(be(u.mul(-1),n),a),we(l.y,r)):p.b=We(ye(ye(u.mul(-1),n),a),we(l.x,r).add(1));const d={x:we(be(be(l.y,n),n),r),y:we(ye(ye(l.x,n),n),r.add(1)).add(1)};return d.x=Ne.sub(d.x),d.y=Ne.sub(d.y),p.c=Ec(e,i,t,n,a,s,r).mul(-1),p.c=p.c.add(ft(be(i.y,i.y),d.y)),p.c=p.c.gt(S.from(0))?Vn(p.c,S.from(5)):S.from(0),p.b.sub(p.c).gt(S.from(0))?p.a=We(p.b.sub(p.c),we(Ne,d.y).add(1)):p.a=We(p.b.sub(p.c),we(Ne,d.x)),p.a.add(o.y)}function Ec(t,e,n,a,i,o,s){const r={x:Be(s,s),y:ye(e.x,e.x)},l={a:S.from(0),b:S.from(0),c:S.from(0)};let p=we(Be(o.x,o.y),r.x);p.gt(S.from(0))?(l.a=ye(r.y,a.mul(2)),l.a=We(ye(l.a,i),p.add(7))):(l.a=be(be(e.y,e.y),a.mul(2)),l.a=We(be(l.a,i),p)),o.x.lt(S.from(0))?l.b=We(ye(ye(e.x,t),i.mul(2)),we(o.x,s).mul(-1).add(3)):l.b=We(be(be(e.y.mul(-1),t),i.mul(2)),we(o.x,s)),l.a=l.a.add(l.b),p=we(Be(o.y,o.y),r.x).add(7),l.b=ye(r.y,a),l.b=We(ye(l.b,a),p),l.c=We(be(be(e.y.mul(-1),t),a.mul(2)),we(o.y,s)),l.b=l.b.add(l.c).add(ye(t,t)),l.b=l.b.gt(S.from(0))?qn(l.b,n):Ze(l.b,n),l.a=l.a.add(l.b),l.a=l.a.gt(S.from(0))?qn(l.a,n):Ze(l.a,n),p=we(Be(o.x,o.x),r.x).add(7);const u=ye(ye(r.y,i),i);return We(u,p).add(l.a)}function Sc(t,e,n,a){const i={x:xa(e,n,a),y:va(e,n,a)};return Ac(e.lambda,t,e.s,e.c,a,i,n.tauBeta,n.dSq)}function kc(t,e,n,a){const i={x:va(e,n,a),y:xa(e,n,a)};return Ac(e.lambda,t,e.c,e.s,a,i,{x:n.tauAlpha.x.mul(-1),y:n.tauAlpha.y},n.dSq)}function Ac(t,e,n,a,i,o,s,r){const l={x:Ne.sub(Ze(Ze(Ne,t),t)),y:Ne.sub(qn(qn(Ne,t),t))},p={a:S.from(0),b:S.from(0),c:S.from(0)},u=e.sub(o.x);p.b=We(be(n,a),we(l.y,r));const d={x:we(be(be(l.y,n),n),r),y:we(ye(ye(l.x,n),n),r.add(1)).add(1)};return d.x=Ne.sub(d.x),d.y=Ne.sub(d.y),p.c=Ec(e,i,t,n,a,s,r).mul(-1),p.c=p.c.add(ft(be(i.y,i.y),d.y)),p.c=p.c.gt(S.from(0))?Vn(p.c,S.from(5)):S.from(0),p.c=q(q(p.c,t),t),p.c=pe(u,p.c),p.b.sub(p.c).gt(S.from(0))?p.a=We(p.b.sub(p.c),we(Ne,d.y).add(1)):p.a=We(p.b.sub(p.c),we(Ne,d.x)),p.a}function Jo(t,e,n,a,i,o){const s=i.y,{c:r,s:l,lambda:p}=e,[u,d]=t,c=xa(e,n,i),m=va(e,n,i),f=R.sub(pe(R,q(p,p))),I=R.sub(a);let v;return o===0?v=Vn(q(q(s,s),R.sub(q(f,q(l,l)))).sub(pe(q(u.sub(c),u.sub(c)),q(p,p))),S.from(5)):v=Vn(q(q(s,s),R.sub(q(f,q(r,r)))).sub(pe(q(d.sub(m),d.sub(m)),q(p,p))),S.from(5)),{x0:u,y0:d,c:r,s:l,lambda:p,a:c,b:m,ls:f,f:I,r:s,R:v}}function _2(t,e,n,a,i){const{x0:o,c:s,s:r,lambda:l,a:p,ls:u,R:d}=Jo(t,e,n,a,i,0);return pe(q(R.sub(q(u,q(r,r))),pe(R,q(q(l,l),d)).add(pe(q(o.sub(p),o.sub(p)),q(q(q(l,l),q(l,l)),q(d,q(d,d)))))),q(q(q(u,r),s).sub(pe(o.sub(p),q(q(l,l),d))),q(q(u,r),s).sub(pe(o.sub(p),q(q(l,l),d)))))}function x2(t,e,n,a,i){const{y0:o,c:s,s:r,lambda:l,b:p,ls:u,R:d}=Jo(t,e,n,a,i,1);return pe(q(R.sub(q(u,q(s,s))),pe(R,q(q(l,l),d)).add(pe(q(o.sub(p),o.sub(p)),q(q(q(l,l),q(l,l)),q(d,q(d,d)))))),q(q(q(u,r),s).sub(pe(o.sub(p),q(q(l,l),d))),q(q(u,r),s).sub(pe(o.sub(p),q(q(l,l),d)))))}function v2(t,e,n,a,i){const{x0:o,s,lambda:r,a:l,ls:p,R:u,f:d}=Jo(t,e,n,a,i,0);return q(pe(R,q(d,R.sub(q(p,q(s,s))))),pe(R,q(q(r,r),u)).add(pe(q(o.sub(l),o.sub(l)),q(q(q(r,r),q(r,r)),q(q(u,u),u)))))}function P2(t,e,n,a,i){const{y0:o,c:s,lambda:r,b:l,ls:p,R:u,f:d}=Jo(t,e,n,a,i,1);return q(pe(R,q(d,R.sub(q(p,q(s,s))))),pe(R,q(q(r,r),u)).add(pe(q(o.sub(l),o.sub(l)),q(q(q(r,r),q(r,r)),q(q(u,u),u)))))}function Pt(t,e,n){const[a,i]=t;if(a.add(i).gt(mr))throw new Error("MAX ASSETS EXCEEDED");const o=m2(a,i,e,n),s=b2(a,i,e,n),r=s[0];let l=s[1];r.gt(0)?l=qn(l.add(1),r.mul(2)):l=l.gt(0)?Vn(l,S.from(5)):S.from(10).pow(9),l=ye(e.lambda,a.add(i)).div(Ne).add(l).add(1).mul(20);const p=we(Ne,I2(e,n).sub(Ne)),u=ft(o.add(r).sub(l),p);if(l=We(l,p),l=l.add(We(u,p).mul(e.lambda.mul(e.lambda).div(S.from(10).pow(36))).mul(40).div(Ne)).add(1),u.add(l).gt(y2))throw new Error("MAX INVARIANT EXCEEDED");return[u,l]}function Oc(t,e,n,a,i,o){if(e.lt(gc))return S.from(0);const s=Number(!n),r=Number(n),l=n?xc:vc,p=t[s].add(e);_c(a,i,o,p,s);const u=l(p,a,i,o),d=t[r].sub(u);if(d.lt(0))throw new Error("ASSET BOUNDS EXCEEDED 1");return d}function Bc(t,e,n,a,i,o){if(e.lt(gc))return S.from(0);const s=Number(!n),r=Number(n),l=n?vc:xc;if(e.gt(t[r]))throw new Error("ASSET BOUNDS EXCEEDED 2");const p=t[r].sub(e),u=l(p,a,i,o);_c(a,i,o,u,s);const d=u.sub(t[s]);if(d.lt(0))throw new Error("ASSET BOUNDS EXCEEDED 3");return d}function Fc(t,e,n,a,i,o,s){const r=Number(!n),l=R.sub(s),p=n?Sc:kc,u=t[r].add(e),d=p(u,a,i,o);return pe(R,q(d,l))}function Mc(t,e,n,a,i,o,s){const r=Number(n),l=R.sub(s),p=n?kc:Sc,u=t[r].sub(e),d=p(u,a,i,o);return pe(d,l)}function Cc(t,e,n,a,i,o){return Number(!e)?x2(t,n,a,o,i):_2(t,n,a,o,i)}function Rc(t,e,n,a,i,o){return Number(!e)?v2(t,n,a,o,i):P2(t,n,a,o,i)}class Ul{constructor(e,n,a,i,o,s,r,l){this.poolType=$e.GyroE,this.id=e,this.address=n,this.swapFee=Y(a,18),this.totalShares=Y(i,18),this.tokens=o,this.tokensList=s,this.gyroEParams={alpha:Y(r.alpha,18),beta:Y(r.beta,18),c:Y(r.c,18),s:Y(r.s,18),lambda:Y(r.lambda,18)},this.derivedGyroEParams={tauAlpha:{x:Y(l.tauAlphaX,38),y:Y(l.tauAlphaY,38)},tauBeta:{x:Y(l.tauBetaX,38),y:Y(l.tauBetaY,38)},u:Y(l.u,38),v:Y(l.v,38),w:Y(l.w,38),z:Y(l.z,38),dSq:Y(l.dSq,38)}}static fromPool(e){const{alpha:n,beta:a,c:i,s:o,lambda:s,tauAlphaX:r,tauAlphaY:l,tauBetaX:p,tauBetaY:u,u:d,v:c,w:m,z:f,dSq:I}=e,v={alpha:n,beta:a,c:i,s:o,lambda:s},x={tauAlphaX:r,tauAlphaY:l,tauBetaX:p,tauBetaY:u,u:d,v:c,w:m,z:f,dSq:I};if(!Object.values(v).every(C=>C)||!Object.values(x).every(C=>C))throw new Error("Pool missing GyroE params and/or GyroE derived params");return new Ul(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,v,x)}parsePoolPairData(e,n){const a=this.tokens.findIndex(m=>de(m.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=this.tokens.findIndex(m=>de(m.address)===de(n));if(r<0)throw"Pool does not contain tokenOut";const l=this.tokens[r],p=l.balance,u=l.decimals,d=a===0;return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(s),decimalsOut:Number(u),balanceIn:Y(o,s),balanceOut:Y(p,u),swapFee:this.swapFee,tokenInIsToken0:d}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){if(n===oe.SwapExactIn){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=e.tokenInIsToken0?xa:va,u=l(this.gyroEParams,this.derivedGyroEParams,r).sub(l(this.gyroEParams,this.derivedGyroEParams,r,!0)).sub(a[0]),d=pe(u,R.sub(e.swapFee));return _(F(q(d,Un),18))}else return _(F(q(e.balanceOut,Un),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=Y(n.toString(),18),p=ui(l,e.swapFee),u=Oc(i,p,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,r);return _(F(u,18))}_tokenInForExactTokenOut(e,n){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=Y(n.toString(),18),p=Bc(i,l,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,r),u=wc(p,e.swapFee);return _(F(u,18))}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=Y(n.toString(),18),p=ui(l,e.swapFee),u=Fc(i,p,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,r,e.swapFee);return _(F(u,18))}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=Y(n.toString(),18),p=Mc(i,l,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,r,e.swapFee);return _(F(p,18))}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){const a=Y(n.toString(),18),i=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Cc([o[0].add(ui(a,e.swapFee)),o[1]],e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l,e.swapFee);return _(F(p,18))}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){const a=sa([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut]),i=mt(a[0],a[1],e.tokenInIsToken0),[o,s]=Pt(i,this.gyroEParams,this.derivedGyroEParams),r={x:o.add(s.mul(2)),y:o},l=Y(n.toString(),18),p=Rc([i[0],i[1].sub(l)],e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,r,e.swapFee);return _(F(p,18))}}function ra(t,e,n){const a=e.map(i=>H("1",i));return t.map((i,o)=>q(i.mul(R).div(a[o]),n[o]))}const la=mt;class ql{constructor(e,n,a,i,o,s,r,l,p){this.poolType=$e.GyroE,this.id=e,this.address=n,this.swapFee=Y(a,18),this.totalShares=Y(i,18),this.tokens=o,this.tokensList=s,this.tokenRates=[Y(p[0],18),Y(p[1],18)],this.gyroEParams={alpha:Y(r.alpha,18),beta:Y(r.beta,18),c:Y(r.c,18),s:Y(r.s,18),lambda:Y(r.lambda,18)},this.derivedGyroEParams={tauAlpha:{x:Y(l.tauAlphaX,38),y:Y(l.tauAlphaY,38)},tauBeta:{x:Y(l.tauBetaX,38),y:Y(l.tauBetaY,38)},u:Y(l.u,38),v:Y(l.v,38),w:Y(l.w,38),z:Y(l.z,38),dSq:Y(l.dSq,38)}}static fromPool(e){const{alpha:n,beta:a,c:i,s:o,lambda:s,tauAlphaX:r,tauAlphaY:l,tauBetaX:p,tauBetaY:u,u:d,v:c,w:m,z:f,dSq:I,tokenRates:v}=e,x={alpha:n,beta:a,c:i,s:o,lambda:s},C={tauAlphaX:r,tauAlphaY:l,tauBetaX:p,tauBetaY:u,u:d,v:c,w:m,z:f,dSq:I};if(!Object.values(x).every(j=>j)||!Object.values(C).every(j=>j))throw new Error("Pool missing GyroE params and/or GyroE derived params");if(!v)throw new Error("GyroEV2 Pool missing tokenRates");return new ql(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,x,C,v)}parsePoolPairData(e,n){const a=this.tokens.findIndex(m=>de(m.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=this.tokens.findIndex(m=>de(m.address)===de(n));if(r<0)throw"Pool does not contain tokenOut";const l=this.tokens[r],p=l.balance,u=l.decimals,d=a===0;return{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(s),decimalsOut:Number(u),balanceIn:Y(o,s),balanceOut:Y(p,u),swapFee:this.swapFee,tokenInIsToken0:d}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){if(n===oe.SwapExactIn){const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=e.tokenInIsToken0?xa:va,u=p(this.gyroEParams,this.derivedGyroEParams,l).sub(p(this.gyroEParams,this.derivedGyroEParams,l,!0)),d=pe(u.sub(i[0]),a[0]),c=pe(d,R.sub(e.swapFee));return _(F(q(c,Un),18))}else return _(F(q(e.balanceOut,Un),e.decimalsOut))}updateTokenBalanceForPool(e,n){if(Ie(this.address,e))this.updateTotalShares(n);else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}updateTotalShares(e){this.totalShares=e}_exactTokenInForTokenOut(e,n){try{const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Y(n.toString(),18),u=ui(p,e.swapFee),d=q(u,a[0]),c=Oc(o,d,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l),m=pe(c,a[1]);return _(F(m,18))}catch{return V}}_tokenInForExactTokenOut(e,n){try{const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Y(n.toString(),18),u=q(p,a[1]),d=Bc(o,u,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l),c=pe(d,a[0]),m=wc(c,e.swapFee);return _(F(m,18))}catch{return V}}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Y(n.toString(),18),u=ui(p,e.swapFee),d=q(u,a[0]),c=Fc(o,d,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l,e.swapFee),m=pe(q(c,a[1]),a[0]);return _(F(m,18))}catch{return V}}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Y(n.toString(),18),u=q(p,a[1]),d=Mc(o,u,e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l,e.swapFee),c=pe(q(d,a[1]),a[0]);return _(F(c,18))}catch{return V}}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){try{const a=Y(n.toString(),18),i=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),o=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],i),s=mt(o[0],o[1],e.tokenInIsToken0),[r,l]=Pt(s,this.gyroEParams,this.derivedGyroEParams),p={x:r.add(l.mul(2)),y:r},u=Cc([s[0].add(ui(q(a,i[0]),e.swapFee)),s[1]],e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,p,e.swapFee),d=q(u,i[1]);return _(F(d,18))}catch{return V}}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){try{const a=la(this.tokenRates[0],this.tokenRates[1],e.tokenInIsToken0),i=ra([e.balanceIn,e.balanceOut],[e.decimalsIn,e.decimalsOut],a),o=mt(i[0],i[1],e.tokenInIsToken0),[s,r]=Pt(o,this.gyroEParams,this.derivedGyroEParams),l={x:s.add(r.mul(2)),y:s},p=Y(n.toString(),18),u=Rc([o[0],o[1].sub(q(p,a[1]))],e.tokenInIsToken0,this.gyroEParams,this.derivedGyroEParams,l,e.swapFee),d=pe(q(a[1],a[1]),a[0]),c=q(u,d);return _(F(c,18))}catch{return V}}}const oo=t=>{const e=(BigInt(H(t,18).toString())+1n<<64n)/10n**18n*10n**36n>>64n;return _(e.toString()).div(_(10).pow(18)).decimalPlaces(3,ze.ROUND_UP)},ne=H("1",36),E2=H("1",18),wn=_(10).pow(36),S2=H("-0.000001000000000000024",36),Fp=H("10000000000000",36),so=H("0.25",36);var en;(function(t){t.LowerHalt="CurveMath/lower-halt",t.UpperHalt="CurveMath/upper-halt",t.SwapInvariantViolation="CurveMath/swap-invariant-violation",t.SwapConvergenceFailed="CurveMath/swap-convergence-failed",t.CannotSwap="CannotSwap"})(en||(en={}));const tn=t=>t=="0x2791bca1f2de4661ed88a30c99a7a9449aa84174"||t=="0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"||t=="0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",k2=(t,e,n)=>{let a;return t?a=Mn(Y(n.toString(),e.decimalsIn),e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals):a=Mn(Y(n.toString(),e.decimalsOut),e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals),a},A2=t=>{const e=Mn(Y(t.balanceIn.toString(),36),t.decimalsIn,t.tokenInLatestFXPrice,t.tokenInfxOracleDecimals),n=Mn(Y(t.balanceOut.toString(),36),t.decimalsOut,t.tokenOutLatestFXPrice,t.tokenOutfxOracleDecimals);return{tokenInReservesInNumeraire_36:e,tokenOutReservesInNumeraire_36:n,_oGLiq_36:e.add(n)}},$i=(t,e,n)=>{const a=tn(e.tokenIn)?Mn(Y(e.balanceOut.toString(),36),e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals):Mn(Y(e.balanceIn.toString(),36),e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals),i=tn(e.tokenIn)?Mn(Y(e.balanceIn.toString(),36),e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals):Mn(Y(e.balanceOut.toString(),36),e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals),o=tn(e.tokenIn)?e.tokenOutLatestFXPrice.mul(ne).div(Y("1",e.tokenOutfxOracleDecimals)):e.tokenInLatestFXPrice.mul(ne).div(Y("1",e.tokenInfxOracleDecimals)),s=k2(n,e,t);return{alpha_36:Y(e.alpha.toString(),18),beta_36:H(e.beta.toString(),18),delta_36:H(e.delta.toString(),18),epsilon_36:H(e.epsilon.toString(),18),lambda_36:H(e.lambda.toString(),18),baseTokenRate_36:o,_oGLiq_36:a.add(i),_nGLiq_36:a.add(i),_oBals_36:[i,a],_nBals_36:tn(e.tokenIn)?[i.add(s),a.sub(s)]:[i.sub(s),a.add(s)],givenAmountInNumeraire_36:s}},yi=(t,e,n,a)=>Y(t.toString(),e).div(ne).mul(Y("1",a)).mul(ne).div(Y(n.toString(),36)),Mn=(t,e,n,a)=>t.mul(Y(n.toString(),36)).div(ne).div(ne).div(Y("1",a)).mul(ne).div(Y("1",e)),O2=(t,e,n,a)=>{let i,o,s=S.from(0);return t.lt(e)?(i=e.mul(ne.sub(n)).div(ne),t.lt(i)?(o=i.sub(t),s=o.mul(ne).div(e),s=s.mul(a).div(ne),s.gt(so)&&(s=so),s=s.mul(o).div(ne)):s=S.from(0)):(i=e.mul(n.add(ne)).div(ne),t.gt(i)?(o=t.sub(i),s=o.mul(ne).div(e),s=s.mul(a).div(ne),s.gt(so)&&(s=so),s=s.mul(o).div(ne)):s=S.from(0)),s},Mp=(t,e,n,a,i)=>{const o=e.length;let s=S.from(0);for(let r=0;r<o;r++){const l=t.mul(i[r]).div(ne);s=s.add(O2(e[r],l,n,a))}return s},ji=(t,e,n,a,i,o,s)=>{const r=[Y("0.5",36),Y("0.5",36)],l=s.alpha_36,p=s.beta_36,u=s.delta_36,d=s.lambda_36;let c=i.mul(-1);const m=Mp(t,n,p,u,r);let f;for(let I=0;I<32;I++){f=Mp(e,a,p,u,r);const v=c;if(c=m.lt(f)?i.add(m.sub(f)).mul(-1):i.add(d.mul(m.sub(f)).div(ne)).mul(-1),c.mul(ne).div(Fp).eq(v.mul(ne).div(Fp)))return e=t.add(i).add(c),a[o]=n[o].add(c),B2(t,e,n,a,r,l),F2(t,m,e,f),[c,e];e=t.add(i).add(c),a[o]=n[o].add(c)}throw new Error(en.SwapConvergenceFailed)},B2=(t,e,n,a,i,o)=>{const s=a.length;for(let r=0;r<s;r++){const l=e.mul(i[r]).div(ne);if(a[r].gt(l)){const p=o.add(ne),u=l.mul(p).div(ne);if(a[r].gt(u)){const d=t.mul(i[r]).div(ne).mul(p).div(ne);if(n[r].lt(d))throw new Error(en.UpperHalt);if(a[r].sub(u).gt(n[r].sub(d)))throw new Error(en.UpperHalt)}}else{const p=ne.sub(o),u=l.mul(p).div(ne);if(a[r].lt(u)){let d=t.mul(i[r]).div(ne);if(d=d.mul(p).div(ne),n[r].gt(d))throw new Error(en.LowerHalt);if(u.sub(a[r]).gt(d.sub(n[r])))throw new Error(en.LowerHalt)}}}return!0},F2=(t,e,n,a)=>{const i=n.sub(a),o=t.sub(e),s=i.sub(o);if(s.gt(0)||s.gte(S2))return!0;throw new Error(en.SwapInvariantViolation)};function M2(t,e){const n=$i(Y(t.toString(),36),e,!0),a=n.givenAmountInNumeraire_36;if(e.tokenIn===e.tokenOut)return _(yi(a,e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals).toString()).div(_(10).pow(e.decimalsIn));const i=n._oGLiq_36,o=n._nGLiq_36,s=n._oBals_36,r=n._nBals_36,l=ji(i,o,s,r,a,tn(e.tokenIn)?1:0,n);if(l===void 0)throw new Error(en.CannotSwap);{const p=n.epsilon_36,u=l[0].mul(ne.sub(p)).div(ne);return _(yi(u.abs(),e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals).toString()).div(_(10).pow(e.decimalsOut))}}function C2(t,e){const n=$i(Y(t.toString(),36),e,!1),a=n.givenAmountInNumeraire_36.mul(-1);e.tokenIn===e.tokenOut&&_(yi(a,e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals).toString()).div(_(10).pow(e.decimalsOut));const i=ji(n._oGLiq_36,n._nGLiq_36,n._oBals_36,n._nBals_36,a,tn(e.tokenIn)?0:1,n);if(i===void 0)throw new Error(en.CannotSwap);{const o=Y(e.epsilon.toString(),18),s=i[0].mul(ne.add(o)).div(ne);return _(yi(s.abs(),e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals).toString()).div(_(10).pow(e.decimalsIn))}}const go=(t,e)=>{const n=$i(t,e,!0),a=ji(n._oGLiq_36,n._nGLiq_36,n._oBals_36,n._nBals_36,H("1",36),0,n);return _(a[0].abs().mul(ne.sub(n.epsilon_36)).div(ne).mul(n.baseTokenRate_36).div(ne).toString()).div(wn)},Nc=(t,e)=>{const n=Y(e.toString(),36),a=$i(n,t,!0),i=a.givenAmountInNumeraire_36,o=a._oGLiq_36,s=a._nBals_36,r=a.baseTokenRate_36,l=a.beta_36,p=a.epsilon_36,u=a._nGLiq_36,d=a._oBals_36,m=ji(o,u,d,s,i,tn(t.tokenIn)?1:0,a)[0],f=l.add(ne).div(2).mul(o).div(ne),I=ne.sub(l).div(2).mul(o).div(ne);if(tn(t.tokenIn)){const v=s[0];return s[1].lt(I)&&v.gt(f)?e.isZero()?go(n,t):_(m.mul(ne.sub(p)).abs().div(i.abs()).mul(r).div(ne).toString()).div(wn):_(r.mul(ne.sub(p)).div(ne).toString()).div(wn)}else{const v=s[1];if(s[0].lt(I)&&v.gt(f)){if(e.isZero())return go(n,t);const C=m.mul(ne.sub(p)).abs().div(i.abs());return _(C.mul(r).div(ne).toString()).div(wn)}else return _(r.toString()).div(ne.toString()).times(_(1).minus(_(p.toString()).div(wn)))}},Lc=(t,e)=>{const n=Y(e.toString(),36),a=$i(n,t,!1),i=a.givenAmountInNumeraire_36.mul(-1),o=a._oGLiq_36,s=a._nBals_36,r=a.baseTokenRate_36,l=a.beta_36,p=a.epsilon_36,u=a._nGLiq_36,d=a._oBals_36,m=ji(o,u,d,s,i,tn(t.tokenIn)?0:1,a)[0],f=l.add(ne).div(2).mul(o).div(ne),I=ne.sub(l).div(2).mul(o).div(ne);if(tn(t.tokenIn)){const v=s[0];return s[1].lt(I)&&v.gt(f)?_(i.abs().mul(ne).div(m.mul(p.add(ne)).div(ne).abs()).mul(r).div(ne).toString()).div(wn):_(r.mul(ne.sub(p)).div(ne).toString()).div(wn)}else{const v=s[0],x=s[1],C=v.lt(I),j=x.gt(f);return C&&j?_(i.abs().mul(ne).div(m.mul(p.add(ne)).div(ne).abs()).mul(r).div(ne).toString()).div(wn):_(r.mul(ne.sub(p)).div(ne).toString()).div(wn)}},R2=(t,e)=>{const n=go(H("1",36),e),o=Nc(e,t).minus(n).div(n);return o.isZero()?_(1).div(E2.toString()):o.abs()},N2=(t,e)=>{const n=go(H("1",36),e);return Lc(e,t).minus(n).div(n).abs()};class Vl{constructor(e,n,a,i,o,s,r,l,p,u,d){this.poolType=$e.Fx,this.id=e,this.address=n,this.swapFee=H(a,18),this.totalShares=H(i,18),this.tokens=o,this.tokensList=s,this.alpha=oo(r),this.beta=oo(l),this.lambda=oo(p),this.delta=_(H(u,18).toString()),this.epsilon=oo(d)}static fromPool(e){if(!e.alpha||!e.beta||!e.lambda||!e.delta||!e.epsilon)throw new Error("FX Pool Missing Subgraph Field");return new Vl(e.id,e.address,e.swapFee,e.totalShares,e.tokens,e.tokensList,e.alpha,e.beta,e.lambda,e.delta,e.epsilon)}_calcTokensOutGivenExactBptIn(e){return new Array(this.tokens.length).fill(ae)}_calcBptOutGivenExactTokensIn(e){return ae}parsePoolPairData(e,n){var c,m,f,I;const a=this.tokens.findIndex(v=>de(v.address)===de(e));if(a<0)throw"Pool does not contain tokenIn";const i=this.tokens[a],o=i.balance,s=i.decimals,r=this.tokens.findIndex(v=>de(v.address)===de(n));if(r<0)throw"Pool does not contain tokenOut";const l=this.tokens[r],p=l.balance,u=l.decimals;if(!((c=l.token)!=null&&c.latestFXPrice)||!((m=i.token)!=null&&m.latestFXPrice))throw"FX Pool Missing LatestFxPrice";return((f=l.token)==null?void 0:f.fxOracleDecimals)==null&&(l.token.fxOracleDecimals=8),((I=i.token)==null?void 0:I.fxOracleDecimals)==null&&(i.token.fxOracleDecimals=8),{id:this.id,address:this.address,poolType:this.poolType,tokenIn:e,tokenOut:n,decimalsIn:Number(s),decimalsOut:Number(u),balanceIn:H(o,s),balanceOut:H(p,u),swapFee:this.swapFee,alpha:this.alpha,beta:this.beta,lambda:this.lambda,delta:this.delta,epsilon:this.epsilon,tokenInLatestFXPrice:H(i.token.latestFXPrice,i.token.fxOracleDecimals),tokenOutLatestFXPrice:H(l.token.latestFXPrice,l.token.fxOracleDecimals),tokenInfxOracleDecimals:i.token.fxOracleDecimals,tokenOutfxOracleDecimals:l.token.fxOracleDecimals}}getNormalizedLiquidity(e){return rn(this._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,V))}getLimitAmountSwap(e,n){return this._inHigherPrecision(this._getLimitAmountSwap,e,n)}_getLimitAmountSwap(e,n){try{const a=A2(e),o=Y(e.alpha.toString(),18).add(ne).mul(a._oGLiq_36).div(ne).div(2);if(n===oe.SwapExactIn){const s=o.sub(a.tokenInReservesInNumeraire_36.toString());return _(yi(s,e.decimalsIn,e.tokenInLatestFXPrice,e.tokenInfxOracleDecimals).toString()).div(_(10).pow(e.decimalsIn))}else{const s=o.sub(a.tokenOutReservesInNumeraire_36);return _(yi(s,e.decimalsOut,e.tokenOutLatestFXPrice,e.tokenOutfxOracleDecimals).toString()).div(_(10).pow(e.decimalsOut))}}catch{return V}}updateTokenBalanceForPool(e,n){if(this.address==e)this.totalShares=n;else{const a=this.tokens.find(i=>Ie(i.address,e));if(!a)throw Error("Pool does not contain this token");a.balance=F(n,a.decimals)}}_exactTokenInForTokenOut(e,n){try{return this._inHigherPrecision(M2,n,e)}catch{return V}}_tokenInForExactTokenOut(e,n){try{return this._inHigherPrecision(C2,n,e)}catch{return V}}_spotPriceAfterSwapExactTokenInForTokenOut(e,n){try{return this._inHigherPrecision(Nc,e,n)}catch{return V}}_spotPriceAfterSwapTokenInForExactTokenOut(e,n){try{return this._inHigherPrecision(Lc,e,n)}catch{return V}}_derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,n){try{return this._inHigherPrecision(R2,n,e)}catch{return V}}_derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,n){try{return this._inHigherPrecision(N2,n,e)}catch{return V}}_inHigherPrecision(e,...n){const a=ze.config({}).DECIMAL_PLACES;ze.config({DECIMAL_PLACES:36});try{const i=e.apply(this,n);return ze.config({DECIMAL_PLACES:a}),i}catch(i){throw ze.config({DECIMAL_PLACES:a}),i}}}function Dc(t,e=0){if(!t.swapEnabled)return;let n;try{const a=t.poolType.toString().includes("Linear");if(!a&&!(t.poolType in Ni)){console.error(`Unsupported pool type: ${t.poolType} ${t.id}`);return}if(t.poolType==="Weighted"||t.poolType==="Investment")n=ci.fromPool(t,!1);else if(t.poolType==="LiquidityBootstrapping")n=ci.fromPool(t,!0);else if(t.poolType==="Stable")n=ga.fromPool(t);else if(t.poolType==="MetaStable")n=wa.fromPool(t);else if(t.poolType==="Element")n=Nl.fromPool(t),n.setCurrentBlockTimestamp(e);else if(a)n=Hi.fromPool(t);else if(t.poolType==="StablePhantom")n=_n.fromPool(t);else if(t.poolType==="ComposableStable")n=Xo.fromPool(t);else if(t.poolType==="Gyro2")n=Dl.fromPool(t);else if(t.poolType==="Gyro3")n=Ai.fromPool(t);else if(t.poolType==="GyroE")t.poolTypeVersion===2?n=ql.fromPool(t):n=Ul.fromPool(t);else if(t.poolType==="FX")n=Vl.fromPool(t);else{console.error(`Unknown pool type or type field missing: ${t.poolType} ${t.id}`);return}}catch(a){console.error(`parseNewPool: ${a.message}`);return}return n}function mi(t,e,n,a){return n===oe.SwapExactIn?e.poolType!==$e.Linear&&e.balanceIn.isZero()?V:t._exactTokenInForTokenOut(e,a):e.balanceOut.isZero()?V:Ae(a,e.decimalsOut).gte(e.balanceOut.toString())?nn:t._tokenInForExactTokenOut(e,a)}let Uc="0.00001";try{Uc={}.PRICE_ERROR_TOLERANCE||"0.00001"}catch(t){console&&console.log(t)}const L2=new ze(Uc),D2="0.01",U2=new ze(D2),q2=_("0.000000000000000001");function V2(t,e){if(t.length===0)return[];const n=[];for(let a=0;a<e;a++)if(a<t.length){const i=t[a].limitAmount;n.push(i)}return n}function W2(t,e,n,a,i,o){if(n.lt(U2))return Di(t,e,n);let s=qc(t,e,n,a);const r=_(F(o,i)).times(t.pools.length);return e===oe.SwapExactIn?(s=s.minus(r),n.div(s)):(n=n.plus(r),s.div(n))}function qc(t,e,n,a){if(n.gt(_(F(t.limitAmount,a))))return e===oe.SwapExactIn?V:nn;const i=Wl(t,e,n);return e===oe.SwapExactIn?i[i.length-1]:i[0]}function Wl(t,e,n){const a=t.pools,i=t.poolPairData,o=[n];if(e===oe.SwapExactIn)for(let s=0;s<a.length;s++)o.push(mi(a[s],i[s],e,o[o.length-1]));else{const s=a.length;for(let r=0;r<a.length;r++)o.unshift(mi(a[s-1-r],i[s-1-r],e,o[0]))}return o}function Vc(t,e,n){const a=t.pools,i=t.poolPairData,o=[_(1)],s=a.length;let r=0;e===oe.SwapExactOut&&(r=1);for(let l=0;l<a.length;l++)o.unshift(Wc(a[s-1-l],i[s-1-l],e,n[s-1-l+r]).times(o[0]));return o}function G2(t,e,n){if(e!==oe.SwapExactOut)return[_(0)];const a=t.pools,i=t.poolPairData,o=[_(1)];for(let s=0;s<a.length;s++)o.push(Wc(a[s],i[s],e,n[s+1]).times(o[o.length-1]));return o}function Di(t,e,n){const a=Wl(t,e,n);return Vc(t,e,a)[0]}function Wc(t,e,n,a){if(n===oe.SwapExactIn){if(e.balanceIn.isZero())return V}else{if(e.balanceOut.isZero())return V;if(Ae(a,e.decimalsOut).gte(e.balanceOut.toString()))return nn}return n===oe.SwapExactIn?t._spotPriceAfterSwapExactTokenInForTokenOut(e,a):t._spotPriceAfterSwapTokenInForExactTokenOut(e,a)}function H2(t,e,n){const a=t.poolPairData,i=t.pools,o=i.length,s=Wl(t,e,n),r=Vc(t,e,s);let l=_(0);if(e===oe.SwapExactIn)for(let p=0;p<o;p++){const u=Cp(i[p],a[p],e,s[p]).times(r[p+1]);l=l.plus(u)}else{const p=G2(t,e,s);for(let u=0;u<o;u++){let d=Cp(i[u],a[u],e,s[u+1]).times(r[u+1]);d=d.times(r[u+1]).times(p[u]),l=l.plus(d)}}return l.eq(_(0))&&(l=q2),l}function Cp(t,e,n,a){if(n===oe.SwapExactIn){if(e.balanceIn.isZero())return V}else{if(e.balanceOut.isZero())return V;if(Ae(a,e.decimalsOut).gte(e.balanceOut.toString()))return nn}return n===oe.SwapExactIn?t._derivativeSpotPriceAfterSwapExactTokenInForTokenOut(e,a):t._derivativeSpotPriceAfterSwapTokenInForExactTokenOut(e,a)}function Rp(t,e,n,a){e=t.parsePoolPairData(e.tokenIn,e.tokenOut);const{balanceIn:i,balanceOut:o,tokenIn:s,tokenOut:r}=e;let l;if(n===oe.SwapExactIn){if(e.poolType!==$e.Linear&&e.balanceIn.isZero())return V}else{if(e.balanceOut.isZero())return V;if(Ae(a,e.decimalsOut).gte(e.balanceOut.toString()))return nn}if(n===oe.SwapExactIn)if(t.poolType===$e.Element)l=mi(t,e,n,a);else if(t.poolType in $e)l=t._exactTokenInForTokenOut(e,a);else throw Error("Unsupported swap");else if(t.poolType===$e.Element)l=mi(t,e,n,a);else if(t.poolType in $e)l=t._tokenInForExactTokenOut(e,a);else throw Error("Unsupported swap");const p=n===oe.SwapExactIn?a:l,u=n===oe.SwapExactIn?l:a;return t.updateTokenBalanceForPool(s,i.add(H(p.dp(e.decimalsIn).toString(),e.decimalsIn))),t.updateTokenBalanceForPool(r,o.sub(H(u.dp(e.decimalsOut).toString(),e.decimalsOut))),l}const $2=(t,e,n,a,i,o,s,r,l,p)=>{let u=e===oe.SwapExactIn?nn.times(-1):nn,d=[],c=[],m=a.map(f=>_(F(f,o)));for(let f=r;f<=t.length;f++){if(f!=r){const b=F(n,o),T=ze.min.apply(null,[_(b).times(_(1/f)),F(i[f-1],o)]);m.forEach((w,B)=>{m[B]=w.times(Ge.minus(T.div(b)))}),T.isZero()||m.push(T)}const{paths:I,swapAmounts:v}=j2(t,e,n,m,o,s,p);m=v;const x=K2(I,e,m,o),C=I.reduce((b,T)=>b+T.swaps.length,0),j=F(p,s);let U=!1,z=V;const $=_(C).times(j);if(e===oe.SwapExactIn?(z=x.minus($),U=z.isGreaterThan(u)):(z=x.plus($),U=z.isLessThan(u)),!U||(d=[...m],c=[...I],u=z,C>=l))break}return c=c.filter((f,I)=>!d[I].isZero()),d=d.filter(f=>!f.isZero()),[c,d,u]},j2=(t,e,n,a,i,o,s)=>{let[r,l]=Np(t,e,a,i,o,s),p=a;if(a.length===1)return{swapAmounts:p,paths:r};const u=_(F(n,i));let d=r;const c=[];let m=JSON.stringify(d.map(({id:f})=>f).sort());for(;!c.includes(m)&&(c.push(m),r=d,[p,l]=X2(r,e,u,p,l),[d,l]=Np(t,e,p,i,o,s),d.length!==0);){const f=d.map(({id:I})=>I).sort();m=JSON.stringify(f)}return{swapAmounts:p,paths:r}},z2=(t,e,n,a)=>{const i=[];let o=a[0],s=t[0],r=V;if(t.forEach((p,u)=>{const d=a[u];d.gt(o)&&(o=d,s=p);const c=p.poolPairData,m=[],f=[];let I;const v=c.length;if(f.push(d),e===oe.SwapExactIn){for(let x=0;x<v;x++){f.push(Rp(p.pools[x],c[x],oe.SwapExactIn,f[f.length-1]));const C={pool:p.swaps[x].pool,tokenIn:p.swaps[x].tokenIn,tokenOut:p.swaps[x].tokenOut,swapAmount:f[x].toString(),tokenInDecimals:p.poolPairData[x].decimalsIn,tokenOutDecimals:p.poolPairData[x].decimalsOut,returnAmount:f[f.length-1].toString()};m.push(C)}I=f[v]}else{for(let x=0;x<v;x++){f.unshift(Rp(p.pools[v-1-x],c[v-1-x],oe.SwapExactOut,f[0]));const C={pool:p.swaps[v-1-x].pool,tokenIn:p.swaps[v-1-x].tokenIn,tokenOut:p.swaps[v-1-x].tokenOut,swapAmount:f[1].toString(),tokenInDecimals:p.poolPairData[v-1-x].decimalsIn,tokenOutDecimals:p.poolPairData[v-1-x].decimalsOut,returnAmount:f[0].toString()};m.unshift(C)}I=f[0]}i.push(m),r=r.plus(I)}),i.length>0){const p=a.reduce((d,c)=>d.plus(c),V),u=n.minus(p);if(e===oe.SwapExactIn)i[0][0].swapAmount=_(i[0][0].swapAmount).plus(u).toString();else{const d=t[0].swaps.length-1;i[0][d].swapAmount=_(i[0][d].swapAmount).plus(u).toString()}}if(r.eq(0))return[[],V,V];const l=Di(s,e,V);return[i,r,l]};function Np(t,e,n,a,i,o){const s=[],r=[],l=Xt(t);return[...n].sort((u,d)=>d.minus(u).toNumber()).forEach(u=>{let d=-1,c=nn;if(l.forEach((m,f)=>{if(_(F(m.limitAmount,a)).gte(u)){let I;_(F(m.limitAmount,a)).eq(u)?I=nn:I=W2(m,e,u,a,i,o),I.lte(c)&&(c=I,d=f)}}),d===-1){s.push({id:"",swaps:[],poolPairData:[],limitAmount:S.from("0"),pools:[]}),r.push(V);return}else s.push(l[d]),r.push(u.minus(_(F(l[d].limitAmount,a)))),l.splice(d,1)}),[s,r]}function X2(t,e,n,a,i){let o=Ge,s=[],r=0;for(;o.isGreaterThan(L2);){[s,a,i]=J2(t,e,n,a,i,r);const l=ze.max.apply(null,s),p=ze.min.apply(null,s);if(o=l.minus(p).div(p),r++,r>100)break}return[a,i]}function J2(t,e,n,a,i,o){let s=V,r=V;const l=[],p=[];a.forEach((f,I)=>{if(o==0&&f.gte(V)&&i[I].lte(V)||o!=0&&f.gt(V)&&i[I].lt(V)){const v=t[I],x=Di(v,e,f);l.push(x);const C=H2(v,e,f);p.push(C),s=s.plus(Ge.div(C)),r=r.plus(x.div(C))}else p.push(_("NaN")),l.push(_("NaN"))});const u=_(r.toNumber()/s.toNumber());for(a.forEach((f,I)=>{if(o==0&&f.gte(V)&&i[I].lte(V)||o!=0&&f.gt(V)&&i[I].lt(V)){const v=u.minus(l[I]).div(p[I]);a[I]=a[I].plus(v),i[I]=i[I].plus(v)}});ze.min.apply(null,a).lt(V)||ze.max.apply(null,i).gt(V);)[a,i]=Y2(a,i,p);const d=[];let c=V;a.forEach((f,I)=>{c=c.plus(f),(o==0&&f.gte(V)&&i[I].lte(V)||o!=0&&f.gt(V)&&i[I].lt(V))&&d.push(Di(t[I],e,f))});const m=n.minus(c);for(let f=0;f<a.length;++f)if(a[f].gt(V)&&i[f].lt(V)&&a[f].plus(m).gt(V)&&i[f].plus(m).lt(V)){a[f]=a[f].plus(m),i[f]=i[f].plus(m);break}return[d,a,i]}function Y2(t,e,n){let a=V,i=V,o=V,s=V;return t.forEach((r,l)=>{r.lte(V)?(s=s.plus(r),i=i.plus(Ge.div(n[l]))):e[l].gte(V)?(s=s.plus(e[l]),o=o.plus(Ge.div(n[l]))):a=a.plus(Ge.div(n[l]))}),t.forEach((r,l)=>{if(r.lte(V))t[l]=V,e[l]=e[l].minus(r);else if(e[l].gte(V))t[l]=t[l].minus(e[l]),e[l]=V;else{const p=s.times(Ge.div(n[l])).div(a);t[l]=t[l].plus(p),e[l]=e[l].plus(p)}}),a.isZero()&&(s.lt(V)?t.forEach((r,l)=>{if(e[l].isZero()){const p=s.times(Ge.div(n[l])).div(o);t[l]=t[l].plus(p),e[l]=e[l].plus(p)}}):t.forEach((r,l)=>{if(t[l].isZero()){const p=s.times(Ge.div(n[l])).div(i);t[l]=t[l].plus(p),e[l]=e[l].plus(p)}})),[t,e]}const K2=(t,e,n,a)=>{let i=new ze(0);return t.forEach((o,s)=>{i=i.plus(qc(o,e,n[s],a))}),i},Z2=(t,e,n,a,i,o,s)=>{if(t.length==0||n.isZero())return[[],V,V,V];const r=V2(t,o),l=r.reduce((C,j)=>(C.push(j.add(C[C.length-1]||ae)),C),[]);if(n.gt(l[l.length-1]))return[[],V,V,V];const p=l.findIndex(C=>n.lte(C))+1,u=r.slice(0,p),d=l[p-1].sub(n);u[u.length-1]=u[u.length-1].sub(d);const[c,m,f]=$2(t,e,n,u,r,a,i,p,o,s),[I,v,x]=z2(c,e,_(F(n,a)),m);return v.eq(0)?[[],V,V,V]:[I,v,x,f]};var Q2=[{inputs:[{internalType:"contract IAuthorizer",name:"authorizer",type:"address"},{internalType:"contract IWETH",name:"weth",type:"address"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"AuthorizerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ExternalBalanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"}],name:"InternalBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"liquidityProvider",type:"address"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"int256[]",name:"deltas",type:"int256[]"},{indexed:!1,internalType:"uint256[]",name:"protocolFeeAmounts",type:"uint256[]"}],name:"PoolBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"assetManager",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"cashDelta",type:"int256"},{indexed:!1,internalType:"int256",name:"managedDelta",type:"int256"}],name:"PoolBalanceManaged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"poolAddress",type:"address"},{indexed:!1,internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"relayer",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"RelayerApprovalChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"contract IERC20",name:"tokenIn",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"TokensDeregistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"TokensRegistered",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"batchSwap",outputs:[{internalType:"int256[]",name:"assetDeltas",type:"int256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"deregisterTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"exitPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"getInternalBalance",outputs:[{internalType:"uint256[]",name:"balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPool",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"enum IVault.PoolSpecialization",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"}],name:"getPoolTokenInfo",outputs:[{internalType:"uint256",name:"cash",type:"uint256"},{internalType:"uint256",name:"managed",type:"uint256"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"assetManager",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPoolTokens",outputs:[{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract ProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"relayer",type:"address"}],name:"hasApprovedRelayer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.PoolBalanceOpKind",name:"kind",type:"uint8"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct IVault.PoolBalanceOp[]",name:"ops",type:"tuple[]"}],name:"managePoolBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.UserBalanceOpKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct IVault.UserBalanceOp[]",name:"ops",type:"tuple[]"}],name:"manageUserBalance",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"}],name:"queryBatchSwap",outputs:[{internalType:"int256[]",name:"",type:"int256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"registerPool",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"registerTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"setAuthorizer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"relayer",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setRelayerApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"amountCalculated",type:"uint256"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];const di={tokenAddresses:[],swaps:[],swapAmount:ae,swapAmountForSwaps:ae,tokenIn:"",tokenInForSwaps:"",tokenOut:"",tokenOutFromSwaps:"",returnAmount:ae,returnAmountConsideringFees:ae,returnAmountFromSwaps:ae,marketSp:ae.toString()},E={Networks:[1,42],stETH:{1:"0xae7ab96520de3a18e5e111b5eaab095312d7fe84",42:"0x4803bb90d18a1cb7a2187344fe4feb0e07878d05"},wstETH:{1:"0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0",42:"0xa387b91e393cfb9356a460370842bc8dbb2f29af"},WETH:{1:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",42:"0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1"},DAI:{1:"0x6b175474e89094c44da98b954eedeac495271d0f",42:"0x04df6e4121c27713ed22341e7c7df330f56f289b"},USDC:{1:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",42:"0xc2569dd7d0fd715b054fbf16e75b001e5c0c1115"},USDT:{1:"0xdac17f958d2ee523a2206206994597c13d831ec7",42:"0xcc08220af469192c53295fdd34cfb8df29aa17ab"},StaticPools:{staBal:{1:"0x06df3b2bbb68adc8b0e302443692037ed9f91b42000000000000000000000063",42:"0x45f78862bd3aa5205e63141fa7f2d35f38eb87c30000000000000000000000fd"},wethDai:{1:"0x0b09dea16768f0799065c475be02919503cb2a3500020000000000000000001a",42:"0x3a19030ed746bd1c3f2b0f996ff9479af04c5f0a000200000000000000000004"},wstEthWeth:{1:"0x32296969ef14eb0c6d29669c550d4a0449130230000200000000000000000080",42:"0xe08590bde837eb9b2d42aa1196469d6e08fe96ec000200000000000000000101"}}},De={1:{},42:{}};De[1][`${E.DAI[1]}${E.wstETH[1]}0`]={name:"DAI/wstETH-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.wethDai[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.DAI[1]}0`]={name:"wstETH/DAI-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"}]};De[1][`${E.DAI[1]}${E.wstETH[1]}1`]={name:"DAI/wstETH-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.DAI[1]}1`]={name:"wstETH/DAI-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1]],swaps:[{poolId:E.StaticPools.wethDai[1],amount:"",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[1][`${E.USDC[1]}${E.wstETH[1]}0`]={name:"USDC/wstETH-SwapExactIn",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDC[1],E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.staBal[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[1][`${E.USDC[1]}${E.wstETH[1]}1`]={name:"USDC/wstETH-SwapExactOut",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDC[1],E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.USDC[1]}0`]={name:"wstETH/USDC-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1],E.USDC[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[1],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.USDC[1]}1`]={name:"wstETH/USDC-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1],E.USDC[1]],swaps:[{poolId:E.StaticPools.staBal[1],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[1][`${E.USDT[1]}${E.wstETH[1]}0`]={name:"USDT/wstETH-SwapExactIn",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDT[1],E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.staBal[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[1][`${E.USDT[1]}${E.wstETH[1]}1`]={name:"USDT/wstETH-SwapExactOut",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDT[1],E.DAI[1],E.WETH[1],E.wstETH[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.USDT[1]}0`]={name:"wstETH/USDT-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1],E.USDT[1]],swaps:[{poolId:E.StaticPools.wstEthWeth[1],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[1],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[1][`${E.wstETH[1]}${E.USDT[1]}1`]={name:"wstETH/USDT-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[1],E.WETH[1],E.DAI[1],E.USDT[1]],swaps:[{poolId:E.StaticPools.staBal[1],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[1],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[1],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.USDC[42]}${E.wstETH[42]}0`]={name:"USDC/wstETH-SwapExactIn",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.wethDai[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.USDC[42]}0`]={name:"wstETH/USDC-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"}]};De[42][`${E.USDC[42]}${E.wstETH[42]}1`]={name:"USDC/wstETH-SwapExactOut",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.USDC[42]}1`]={name:"wstETH/USDC-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42]],swaps:[{poolId:E.StaticPools.wethDai[42],amount:"",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.DAI[42]}${E.wstETH[42]}0`]={name:"DAI/wstETH-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.DAI[42],E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.staBal[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[42][`${E.DAI[42]}${E.wstETH[42]}1`]={name:"DAI/wstETH-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.DAI[42],E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.DAI[42]}0`]={name:"wstETH/DAI-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42],E.DAI[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[42],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.DAI[42]}1`]={name:"wstETH/DAI-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:18,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42],E.DAI[42]],swaps:[{poolId:E.StaticPools.staBal[42],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.USDT[42]}${E.wstETH[42]}0`]={name:"USDT/wstETH-SwapExactIn",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDT[42],E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.staBal[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[42][`${E.USDT[42]}${E.wstETH[42]}1`]={name:"USDT/wstETH-SwapExactOut",tokenInDecimals:6,tokenOutDecimals:18,tokenAddresses:[E.USDT[42],E.USDC[42],E.WETH[42],E.wstETH[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.USDT[42]}0`]={name:"wstETH/USDT-SwapExactIn",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42],E.USDT[42]],swaps:[{poolId:E.StaticPools.wstEthWeth[42],amount:"",assetInIndex:0,assetOutIndex:1,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.staBal[42],amount:"0",assetInIndex:2,assetOutIndex:3,userData:"0x"}]};De[42][`${E.wstETH[42]}${E.USDT[42]}1`]={name:"wstETH/USDT-SwapExactOut",tokenInDecimals:18,tokenOutDecimals:6,tokenAddresses:[E.wstETH[42],E.WETH[42],E.USDC[42],E.USDT[42]],swaps:[{poolId:E.StaticPools.staBal[42],amount:"",assetInIndex:2,assetOutIndex:3,userData:"0x"},{poolId:E.StaticPools.wethDai[42],amount:"0",assetInIndex:1,assetOutIndex:2,userData:"0x"},{poolId:E.StaticPools.wstEthWeth[42],amount:"0",assetInIndex:0,assetOutIndex:1,userData:"0x"}]};function eT(t,e,n){return E.Networks.includes(t)?(e=e.toLowerCase(),n=n.toLowerCase(),e===E.wstETH[t]&&n===E.DAI[t]||e===E.wstETH[t]&&n===E.USDC[t]||e===E.wstETH[t]&&n===E.USDT[t]||e===E.DAI[t]&&n===E.wstETH[t]||e===E.USDC[t]&&n===E.wstETH[t]||e===E.USDT[t]&&n===E.wstETH[t]||e===E.stETH[t]&&n===E.DAI[t]||e===E.stETH[t]&&n===E.USDC[t]||e===E.stETH[t]&&n===E.USDT[t]||e===E.DAI[t]&&n===E.stETH[t]||e===E.USDC[t]&&n===E.stETH[t]||e===E.USDT[t]&&n===E.stETH[t]):!1}async function tT(t,e,n,a){const i="0xBA12222222228d8Ba445958a75a0704d566BF2C8",o=new ce(i,Q2,a),s={sender:he,recipient:he,fromInternalBalance:!1,toInternalBalance:!1};try{const r=await o.callStatic.queryBatchSwap(t,e,n,s);return t===oe.SwapExactIn?r[n.length-1].mul(-1):r[0]}catch{return console.error("SOR - Lido Static Route QueryBatchSwap Error. No swaps."),ae}}function nT(t,e,n,a){const i=[];for(let o=0;o<e.length;o++){const s=e[o],r=a.filter(d=>d.id===s.poolId);if(r.length!==1)return _(0);const l=Dc(r[0]);if(!l)return _(0);const p=l.parsePoolPairData(n[s.assetInIndex],n[s.assetOutIndex]);let u;t===oe.SwapExactIn?u=l._spotPriceAfterSwapExactTokenInForTokenOut(p,V):u=l._spotPriceAfterSwapTokenInForExactTokenOut(p,V),i.push(u)}return i.reduce((o,s)=>o.times(s))}async function Lp(t,e){return await new ce(E.wstETH[e],["function tokensPerStEth() external view returns (uint256)"],t).tokensPerStEth()}async function aT(t,e,n,a,i,o,s){let r,l=!1;n===E.stETH[e]&&(n=E.wstETH[e],r=!0),a===E.stETH[e]&&(a=E.wstETH[e],l=!0);const p=Xt(di),u=De[e][`${n}${a}${i}`];return u?(p.tokenAddresses=u.tokenAddresses,p.swaps=u.swaps,p.swapAmount=o,p.swaps[0].amount=p.swapAmount.toString(),r?p.tokenIn=E.stETH[e]:p.tokenIn=n,l?p.tokenOut=E.stETH[e]:p.tokenOut=a,p.marketSp=nT(i,p.swaps,p.tokenAddresses,t).toString(),p.returnAmount=await tT(i,p.swaps,p.tokenAddresses,s),p.returnAmount.isZero()?Xt(di):(p.returnAmountConsideringFees=p.returnAmount,p)):p}const iT={Networks:[1],1:{"0xd46ba6d942050d489dbd938a2c909a5d5039a161":"0xedb171c18ce90b633db442f2a6f72874093b49ef","0x1e6bb68acec8fefbd87d192be09bb274170a0548":"0xF03387d8d0FF326ab586A58E0ab4121d106147DF"}};async function Dp(t,e){return new ce(e,["function underlyingToWrapper(uint256 amount) external view returns (uint256)"],t).underlyingToWrapper(R)}var rt;(function(t){t[t.None=0]="None",t[t.ETH=1]="ETH",t[t.stETH=2]="stETH",t[t.Unbutton=3]="Unbutton"})(rt||(rt={}));async function oT(t,e,n,a,i,o){n=n.toLowerCase(),a=a.toLowerCase();let s=o,r=n,l=rt.None,p=a,u=rt.None,d=R,c=R;if(n===he&&(r=i.weth.toLowerCase(),l=rt.ETH),a===he&&(p=i.weth.toLowerCase(),u=rt.ETH),n===E.stETH[i.chainId]){r=E.wstETH[i.chainId],l=rt.stETH;const f=await Lp(t,i.chainId);d=f,e===oe.SwapExactIn&&(s=o.mul(f).div(R))}if(a===E.stETH[i.chainId]){p=E.wstETH[i.chainId],u=rt.stETH;const f=await Lp(t,i.chainId);c=f,e===oe.SwapExactOut&&(s=o.mul(f).div(R))}const m=iT[i.chainId]||{};return m[n]&&(r=m[n],l=rt.Unbutton,d=await Dp(t,r),e===oe.SwapExactIn&&(s=o.mul(d).div(R))),m[a]&&(p=m[a],u=rt.Unbutton,c=await Dp(t,p),e===oe.SwapExactOut&&(s=o.mul(c).div(R))),{swapAmountOriginal:o,swapAmountForSwaps:s,tokenIn:{addressOriginal:n,addressForSwaps:r,wrapType:l,rate:d},tokenOut:{addressOriginal:a,addressForSwaps:p,wrapType:u,rate:c}}}function sT(t,e,n,a){if(t.swaps.length===0||(t.tokenIn=n.tokenIn.addressOriginal,t.tokenOut=n.tokenOut.addressOriginal,t.swapAmountForSwaps=t.swapAmount,t.returnAmountFromSwaps=t.returnAmount,t.tokenInForSwaps=n.tokenIn.addressForSwaps,t.tokenOutFromSwaps=n.tokenOut.addressForSwaps,n.tokenIn.wrapType===rt.None&&n.tokenOut.wrapType===rt.None))return t;(n.tokenIn.wrapType===rt.ETH||n.tokenOut.wrapType===rt.ETH)&&(t.tokenAddresses=t.tokenAddresses.map(o=>Ie(o,a.weth)?he:o));const i=o=>o===rt.stETH||o===rt.Unbutton;return(i(n.tokenIn.wrapType)&&e===oe.SwapExactIn||i(n.tokenOut.wrapType)&&e===oe.SwapExactOut)&&(t.swapAmount=n.swapAmountOriginal,t.swapAmountForSwaps=n.swapAmountForSwaps),e===oe.SwapExactIn&&i(n.tokenOut.wrapType)&&(t.returnAmount=t.returnAmount.mul(R).div(n.tokenOut.rate),t.returnAmountConsideringFees=t.returnAmountConsideringFees.mul(R).div(n.tokenOut.rate)),e===oe.SwapExactOut&&i(n.tokenIn.wrapType)&&(t.returnAmount=t.returnAmount.mul(R).div(n.tokenIn.rate),t.returnAmountConsideringFees=t.returnAmountConsideringFees.mul(R).div(n.tokenIn.rate)),t}const rT=t=>[...new Set(t.flatMap(n=>n.flatMap(a=>[a.tokenIn,a.tokenOut])))],lT=t=>t.reduce((e,{amount:n})=>e.add(n),ae),pT=(t,e,n)=>(t===oe.SwapExactOut&&(e=e.reverse()),e.map((a,i)=>{let o="0";if(i===0){const u=t===oe.SwapExactIn?a.tokenInDecimals:a.tokenOutDecimals;o=Ae(_(a.swapAmount),u).decimalPlaces(0,1).toString()}const s=t===oe.SwapExactIn?a.tokenOutDecimals:a.tokenInDecimals,r=Ae(_(a.returnAmount??"0"),s).decimalPlaces(0,1).toString(),l=n.indexOf(a.tokenIn),p=n.indexOf(a.tokenOut);return{poolId:a.pool,assetInIndex:l,assetOutIndex:p,amount:o,userData:"0x",returnAmount:r}}));function uT(t,e,n,a,i,o,s,r){if(t.length===0)return Xt(di);const l=Xt(t),p=rT(l),u=l.flatMap(m=>pT(e,m,p)),d=n.sub(lT(u));return d.gt(0)&&(u[0].amount=S.from(u[0].amount).add(d).toString()),{swapAmount:n,swapAmountForSwaps:n,returnAmount:o,returnAmountFromSwaps:o,returnAmountConsideringFees:s,swaps:u,tokenAddresses:p,tokenIn:a,tokenOut:i,marketSp:r}}class dT{constructor(e){this.poolDataService=e,this.pools=[],this._finishedFetching=!1}get finishedFetching(){return this._finishedFetching}getPools(e){const n=Xt(this.pools);if(e){for(const a of n)if(a.poolType==="Weighted"||a.poolType==="Investment"){const i={address:a.address,balance:a.totalShares,decimals:18,priceRate:"1",weight:"0"};a.tokens.push(i),a.tokensList.push(a.address)}}return n}async fetchPools(e,n){try{return this.pools=await this.poolDataService.getPools(e,n),this._finishedFetching=!0,!0}catch(a){return this._finishedFetching=!1,this.pools=[],console.error(`Error: fetchPools(): ${a}`),!1}}}const cT=7,yT=(t,e)=>e===Ni.All?t:t.filter(n=>n.poolType===e);function Up(t,e,n,a){const i={},o={},s={};return Object.keys(t).forEach(r=>{const l=t[r],p=new Set(l.tokensList),u=p.has(e.toLowerCase()),d=p.has(n.toLowerCase());if(u&&d){i[l.id]=l;return}if(a>1){if(u&&!d)for(const c of p)o[c]||(o[c]=new Set([])),o[c].add(l.id);else if(!u&&d)for(const c of[...p])s[c]||(s[c]=new Set([])),s[c].add(l.id)}}),[i,o,s]}function qp(t,e,n,a,i,o){const s=[];for(const r in n){const l=Cn([t,e],[o[r]]);s.push(l)}for(const r in a)if(i[r]){let l=V,p,u=V,d;for(const c of[...a[r]]){const m=o[c],f=m.parsePoolPairData(t,r),I=m.getNormalizedLiquidity(f);I.isGreaterThanOrEqualTo(l)&&(l=I,p=m.id)}for(const c of[...i[r]]){const m=o[c],f=m.parsePoolPairData(r,e),I=m.getNormalizedLiquidity(f);I.isGreaterThanOrEqualTo(u)&&(u=I,d=m.id)}if(p&&d){const c=Cn([t,r,e],[o[p],o[d]]);s.push(c)}}return s}function mT(t,e,n,a){const i=new Set,o=[],s=[],r=a.connectingTokens?a.connectingTokens.map(d=>d.address):[];for(const d in n){const c=n[d];c.poolType==$e.Linear?(o.push(c.address),i.add(c)):((c.tokensList.map(f=>f.toLowerCase()).includes(c.address)||c.poolType===$e.Weighted)&&s.push(c),a.lbpRaisingTokens&&c.isLBP&&IT(i,a.lbpRaisingTokens,c,t,e,r,n))}if(o.length==0)return{};for(const d of r)wo(t,d,n,i),wo(d,e,n,i);const l=new Set;for(const d of s)d.tokensList.some(c=>o.includes(c))&&(i.add(d),l.add(d.address));for(const d in n){const c=n[d];c.tokensList.some(m=>l.has(m))&&i.add(c)}a.wETHwstETH&&n[a.wETHwstETH.id]&&i.add(n[a.wETHwstETH.id]);const p=[...i];return bT(p)}function bT(t){const e={};for(const n of t){const a=n.tokensList.length;for(let i=0;i<a;i++){e[n.tokensList[i]]||(e[n.tokensList[i]]=[]);for(let o=0;o<a;o++){if(i==o)continue;const s=[n.id,n.tokensList[i],n.tokensList[o]];e[n.tokensList[i]].push(s)}}}return e}function Vp(t,e,n,a){const i=mT(t,e,n,a),o=[],r=[[{edge:["","",t],parentIndices:[-1,-1],visitedNodes:[]}]];let l=!0;for(;l;){const p=r.length,u=[];for(let d=0;d<r[p-1].length;d++){const c=r[p-1][d],m=c.edge[2],f=i[m];if(f)for(const I of f){if(c.visitedNodes.includes(I[2])||c.edge[0]==I[0])continue;I[2]==e&&o.push(fT(I,c,r));const v={edge:I,parentIndices:[p-1,d],visitedNodes:c.visitedNodes.concat(I[1])};u.push(v)}}u.length==0?l=!1:r.push(u),p==cT&&(l=!1)}return TT(o,n)}function fT(t,e,n){const a=[t];a.unshift(e.edge);let i=e.parentIndices;for(;i[0]!==-1;)a.unshift(n[i[0]][i[1]].edge),i=n[i[0]][i[1]].parentIndices;const o=a.map(r=>r[0]);return o.splice(0,1),[a.map(r=>r[2]),o]}function TT(t,e){const n=[];for(const a of t){const i=a[1].map(o=>e[o]);i.length>2&&n.push(Cn(a[0],i))}return n}function Cn(t,e){let n,a;const i=[],o=[];let s="";for(let l=0;l<e.length;l++){n=t[l],a=t[l+1];const p=e[l].parsePoolPairData(n,a);o.push(p),s=s+p.id;const u={pool:e[l].id,tokenIn:n,tokenOut:a,tokenInDecimals:p.decimalsIn,tokenOutDecimals:p.decimalsOut};i.push(u)}return{id:s,swaps:i,limitAmount:ae,poolPairData:o,pools:e}}function fa(t,e,n){let a=V,i=null;for(const o in n){const s=n[o],r=new Set(s.tokensList);if(!r.has(t.toLowerCase())||!r.has(e.toLowerCase()))continue;const l=s.parsePoolPairData(t,e),p=s.getNormalizedLiquidity(l);p.isGreaterThanOrEqualTo(a)&&(a=p,i=o)}return i}function Wp(t){let e="",n=[],a=[],i=[];for(const s of t)e+=s.id,n=n.concat(s.swaps),a=a.concat(s.poolPairData),i=i.concat(s.pools);return{id:e,swaps:n,poolPairData:a,limitAmount:ae,pools:i}}function hT(t,e,n,a,i){var u;const o=i.usdcConnectingPool;if(!o)return[];const s=n[o.id],r=(u=i.staBal3Pool)==null?void 0:u.address;if(!s||!r)return[];const l=fa(t,r,a),p=fa(r,e,a);if(l&&!p){const d=a[l],c=Cn([t,r,o.usdc],[d,s]),m=fa(o.usdc,e,a);if(m===null)return[];const f=a[m],I=Cn([o.usdc,e],[f]);return[Wp([c,I])]}if(!l&&p){const d=fa(t,o.usdc,a);if(d===null)return[];const c=a[p],m=a[d],f=Cn([o.usdc,r,e],[s,c]),I=Cn([t,o.usdc],[m]);return[Wp([I,f])]}return[]}function Gc(t,e){return Object.fromEntries(Xt(t).filter(n=>n.tokensList.length>0&&n.tokens[0].balance!=="0").map(n=>[n.id,Dc(n,e)]).filter(([,n])=>n!==void 0))}function Gp(t,e,n){let a;const i=t.tokensList;if(i.includes(n)&&!e.includes(n))for(let o=0;o<2;o++)i[o]==n&&(a=i[1-o]);return a}function IT(t,e,n,a,i,o,s){const r=e.map(u=>u.toLowerCase());if(r.length===0)return;const l=Gp(n,r,a),p=Gp(n,r,i);if(!(!l&&!p)){t.add(n);for(const u of o)l&&l!==u&&wo(l,u,s,t),p&&p!==u&&wo(u,p,s,t)}}function wo(t,e,n,a){const i=fa(t,e,n);i&&a.add(n[i])}function Hp(t,e){let n=ae;return t.forEach(i=>{i.limitAmount=gT(i,e),n=n.add(i.limitAmount)}),[t.sort((i,o)=>o.limitAmount.gt(i.limitAmount)?1:-1),n]}function gT(t,e){const n=t.poolPairData;let a;if(e===oe.SwapExactIn){a=t.pools[n.length-1].getLimitAmountSwap(n[n.length-1],oe.SwapExactIn);for(let o=n.length-2;o>=0;o--){const s=t.pools[o].getLimitAmountSwap(n[o],oe.SwapExactIn);if(t.pools[o].getLimitAmountSwap(n[o],oe.SwapExactOut).lte(a))a=s;else{const l=mi(t.pools[o],t.poolPairData[o],oe.SwapExactOut,a);a=ze.min(l,s)}}return a.isZero()?ae:H(a.dp(n[0].decimalsIn).toString(),n[0].decimalsIn)}else{a=t.pools[0].getLimitAmountSwap(n[0],oe.SwapExactOut);for(let i=1;i<n.length;i++){const o=t.pools[i].getLimitAmountSwap(n[i],oe.SwapExactIn),s=t.pools[i].getLimitAmountSwap(n[i],oe.SwapExactOut);if(o.lte(a))a=s;else{const r=mi(t.pools[i],t.poolPairData[i],oe.SwapExactIn,a);a=ze.min(r,s)}}return a.isZero()?ae:H(a.dp(n[n.length-1].decimalsOut).toString(),n[n.length-1].decimalsOut)}}function wT(t,e,n,a){const i=[];return a.forEach(o=>{const s=_T(t,e,n,o);i.push(...s)}),i}function _T(t,e,n,a){const i=PT(t,e,n,a);if(i===null)return[];const o=vT(t,e,n,i);return xT(t,e,o,i)}function xT(t,e,n,a){const i=[];return n.forEach((o,s)=>{const r=o.mostLiquidPoolIn;if(!r)return;[...n.slice(0,s),...n.slice(s+1)].forEach(p=>{if(!p.mostLiquidPoolOut)return;const u=[t,o.token,p.token,e],d=[r,a,p.mostLiquidPoolOut];i.push(Cn(u,d))})}),i}function vT(t,e,n,a){const i=a.tokensList.map(o=>({token:o,mostLiquidPoolIn:null,mostLiquidPoolOut:null}));return i.forEach(o=>{const s=fa(t,o.token,n),r=fa(o.token,e,n);o.mostLiquidPoolIn=s?n[s]:null,o.mostLiquidPoolOut=r?n[r]:null}),i}function PT(t,e,n,a){const i=n[a];return!i||i.tokensList.some(o=>o.toLowerCase()===t.toLowerCase()||o.toLowerCase()===e.toLowerCase())?null:i}class ET{constructor(e){this.config=e,this.cache={}}getCandidatePaths(e,n,a,i,o){if(e=e.toLowerCase(),n=n.toLowerCase(),i.length===0)return[];const s=this.cache[`${e}${n}${a}${o.timestamp}`];if(!o.forceRefresh&&s)return s.paths;const r=Gc(i,o.timestamp),[l,p,u]=Up(r,e,n,o.maxPools),d=qp(e,n,l,p,u,r),c=Vp(e,n,r,this.config),m=hT(e,n,r,r,this.config),f=wT(e,n,r,this.config.triPathMidPoolIds??[]),I=d.concat(...c).concat(...m).concat(...f),[v]=Hp(I,a);return this.cache[`${e}${n}${a}${o.timestamp}`]={paths:v},v}getCandidatePathsFromDict(e,n,a,i,o){if(e=e.toLowerCase(),n=n.toLowerCase(),Object.keys(i).length===0)return[];const[s,r,l]=Up(i,e,n,o),p=qp(e,n,s,r,l,i),u=Vp(e,n,i,this.config),d=p.concat(...u),[c]=Hp(d,a);return c}}class ST{constructor(e,n){this.tokenPriceService=n,this.tokenPriceCache={AddressZero:"1",[e.weth.toLowerCase()]:"1"}}async convertGasCostToToken(e,n,a,i=S.from("85000")){if(a.isZero()||i.isZero())return ae;const o=await this.getNativeAssetPriceInToken(e),s=S.from(Ae(_(o),n).dp(0).toString());return a.mul(i).mul(s).div(R)}setNativeAssetPriceInToken(e,n){this.tokenPriceCache[e.toLowerCase()]=n}async getNativeAssetPriceInToken(e){const n=this.tokenPriceCache[e.toLowerCase()];if(n)return n;try{const a=await this.tokenPriceService.getNativeAssetPriceInToken(e);return this.setNativeAssetPriceInToken(e,a),a}catch(a){return console.log("Error Getting Token Price. Defaulting to 0."),console.log(a),"0"}}}class Hc{constructor(e,n,a,i){this.provider=e,this.config=n,this.defaultSwapOptions={gasPrice:H("50",9),swapGas:S.from("85000"),poolTypeFilter:Ni.All,maxPools:4,timestamp:Math.floor(Date.now()/1e3),forceRefresh:!1},this.poolCacher=new dT(a),this.routeProposer=new ET(n),this.swapCostCalculator=new ST(n,i)}getPools(e){return this.poolCacher.getPools(e)}async fetchPools(e,n){return this.poolCacher.fetchPools(e,n)}async getSwaps(e,n,a,i,o,s=!1){if(!this.poolCacher.finishedFetching)return Xt(di);const r={...this.defaultSwapOptions,...o};this.useBpt!==s&&(r.forceRefresh=!0,this.useBpt=s);const l=this.poolCacher.getPools(s),p=yT(l,r.poolTypeFilter),u=await oT(this.provider,a,e,n,this.config,S.from(i));let d;return eT(this.config.chainId,e,n)?d=await aT(p,this.config.chainId,u.tokenIn.addressForSwaps,u.tokenOut.addressForSwaps,a,u.swapAmountForSwaps,this.provider):d=await this.processSwaps(u.tokenIn.addressForSwaps,u.tokenOut.addressForSwaps,a,u.swapAmountForSwaps,p,r),d.returnAmount.isZero()||(d=sT(d,a,u,this.config)),d}async getCostOfSwapInToken(e,n,a,i){return a.isZero()?ae:this.swapCostCalculator.convertGasCostToToken(e,n,a,i)}async processSwaps(e,n,a,i,o,s){if(o.length===0)return Xt(di);const r=this.routeProposer.getCandidatePaths(e,n,a,o,s);if(r.length==0)return Xt(di);let l,p;r[0].swaps.forEach(v=>{Ie(v.tokenIn,e)&&(l=v.tokenInDecimals),Ie(v.tokenOut,n)&&(p=v.tokenOutDecimals)});const u=await this.getCostOfSwapInToken(a===oe.SwapExactIn?n:e,a===oe.SwapExactIn?p:l,s.gasPrice,s.swapGas),[d,c,m,f]=this.getBestPaths(r,i,a,l,p,u,s.maxPools);return uT(d,a,i,e,n,c,f,m)}getBestPaths(e,n,a,i,o,s,r){const[l,p]=a===oe.SwapExactIn?[i,o]:[o,i],[u,d,c,m]=Z2(e,a,n,l,p,r,s);return[u,H(d.dp(p,ze.ROUND_FLOOR).toString(),p),c.toString(),H(m.dp(p,ze.ROUND_FLOOR).toString(),p)]}}var br={},kT={get exports(){return br},set exports(t){br=t}},_o={},AT={get exports(){return _o},set exports(t){_o=t}},$c=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}},OT=$c,Pa=Object.prototype.toString;function Gl(t){return Pa.call(t)==="[object Array]"}function fr(t){return typeof t>"u"}function BT(t){return t!==null&&!fr(t)&&t.constructor!==null&&!fr(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function FT(t){return Pa.call(t)==="[object ArrayBuffer]"}function MT(t){return typeof FormData<"u"&&t instanceof FormData}function CT(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function RT(t){return typeof t=="string"}function NT(t){return typeof t=="number"}function jc(t){return t!==null&&typeof t=="object"}function uo(t){if(Pa.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function LT(t){return Pa.call(t)==="[object Date]"}function DT(t){return Pa.call(t)==="[object File]"}function UT(t){return Pa.call(t)==="[object Blob]"}function zc(t){return Pa.call(t)==="[object Function]"}function qT(t){return jc(t)&&zc(t.pipe)}function VT(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function WT(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function GT(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Hl(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Gl(t))for(var n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Tr(){var t={};function e(i,o){uo(t[o])&&uo(i)?t[o]=Tr(t[o],i):uo(i)?t[o]=Tr({},i):Gl(i)?t[o]=i.slice():t[o]=i}for(var n=0,a=arguments.length;n<a;n++)Hl(arguments[n],e);return t}function HT(t,e,n){return Hl(e,function(i,o){n&&typeof i=="function"?t[o]=OT(i,n):t[o]=i}),t}function $T(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Nt={isArray:Gl,isArrayBuffer:FT,isBuffer:BT,isFormData:MT,isArrayBufferView:CT,isString:RT,isNumber:NT,isObject:jc,isPlainObject:uo,isUndefined:fr,isDate:LT,isFile:DT,isBlob:UT,isFunction:zc,isStream:qT,isURLSearchParams:VT,isStandardBrowserEnv:GT,forEach:Hl,merge:Tr,extend:HT,trim:WT,stripBOM:$T},ti=Nt;function $p(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xc=function(e,n,a){if(!n)return e;var i;if(a)i=a(n);else if(ti.isURLSearchParams(n))i=n.toString();else{var o=[];ti.forEach(n,function(l,p){l===null||typeof l>"u"||(ti.isArray(l)?p=p+"[]":l=[l],ti.forEach(l,function(d){ti.isDate(d)?d=d.toISOString():ti.isObject(d)&&(d=JSON.stringify(d)),o.push($p(p)+"="+$p(d))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},jT=Nt;function Yo(){this.handlers=[]}Yo.prototype.use=function(e,n,a){return this.handlers.push({fulfilled:e,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1};Yo.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Yo.prototype.forEach=function(e){jT.forEach(this.handlers,function(a){a!==null&&e(a)})};var zT=Yo,XT=Nt,JT=function(e,n){XT.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})},Jc=function(e,n,a,i,o){return e.config=n,a&&(e.code=a),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Ws,jp;function Yc(){if(jp)return Ws;jp=1;var t=Jc;return Ws=function(n,a,i,o,s){var r=new Error(n);return t(r,a,i,o,s)},Ws}var Gs,zp;function YT(){if(zp)return Gs;zp=1;var t=Yc();return Gs=function(n,a,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):a(t("Request failed with status code "+i.status,i.config,null,i.request,i))},Gs}var Hs,Xp;function KT(){if(Xp)return Hs;Xp=1;var t=Nt;return Hs=t.isStandardBrowserEnv()?function(){return{write:function(a,i,o,s,r,l){var p=[];p.push(a+"="+encodeURIComponent(i)),t.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),t.isString(s)&&p.push("path="+s),t.isString(r)&&p.push("domain="+r),l===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(a){var i=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Hs}var $s,Jp;function ZT(){return Jp||(Jp=1,$s=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),$s}var js,Yp;function QT(){return Yp||(Yp=1,js=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),js}var zs,Kp;function e6(){if(Kp)return zs;Kp=1;var t=ZT(),e=QT();return zs=function(a,i){return a&&!t(i)?e(a,i):i},zs}var Xs,Zp;function t6(){if(Zp)return Xs;Zp=1;var t=Nt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Xs=function(a){var i={},o,s,r;return a&&t.forEach(a.split(`
`),function(p){if(r=p.indexOf(":"),o=t.trim(p.substr(0,r)).toLowerCase(),s=t.trim(p.substr(r+1)),o){if(i[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},Xs}var Js,Qp;function n6(){if(Qp)return Js;Qp=1;var t=Nt;return Js=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),i;function o(s){var r=s;return n&&(a.setAttribute("href",r),r=a.href),a.setAttribute("href",r),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return i=o(window.location.href),function(r){var l=t.isString(r)?o(r):r;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Js}var Ys,eu;function Ko(){if(eu)return Ys;eu=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Ys=t,Ys}var Ks,tu;function nu(){if(tu)return Ks;tu=1;var t=Nt,e=YT(),n=KT(),a=Xc,i=e6(),o=t6(),s=n6(),r=Yc(),l=Zo(),p=Ko();return Ks=function(d){return new Promise(function(m,f){var I=d.data,v=d.headers,x=d.responseType,C;function j(){d.cancelToken&&d.cancelToken.unsubscribe(C),d.signal&&d.signal.removeEventListener("abort",C)}t.isFormData(I)&&delete v["Content-Type"];var U=new XMLHttpRequest;if(d.auth){var z=d.auth.username||"",$=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";v.Authorization="Basic "+btoa(z+":"+$)}var b=i(d.baseURL,d.url);U.open(d.method.toUpperCase(),a(b,d.params,d.paramsSerializer),!0),U.timeout=d.timeout;function T(){if(U){var B="getAllResponseHeaders"in U?o(U.getAllResponseHeaders()):null,A=!x||x==="text"||x==="json"?U.responseText:U.response,O={data:A,status:U.status,statusText:U.statusText,headers:B,config:d,request:U};e(function(k){m(k),j()},function(k){f(k),j()},O),U=null}}if("onloadend"in U?U.onloadend=T:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(T)},U.onabort=function(){U&&(f(r("Request aborted",d,"ECONNABORTED",U)),U=null)},U.onerror=function(){f(r("Network Error",d,null,U)),U=null},U.ontimeout=function(){var A=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",O=d.transitional||l.transitional;d.timeoutErrorMessage&&(A=d.timeoutErrorMessage),f(r(A,d,O.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",U)),U=null},t.isStandardBrowserEnv()){var w=(d.withCredentials||s(b))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;w&&(v[d.xsrfHeaderName]=w)}"setRequestHeader"in U&&t.forEach(v,function(A,O){typeof I>"u"&&O.toLowerCase()==="content-type"?delete v[O]:U.setRequestHeader(O,A)}),t.isUndefined(d.withCredentials)||(U.withCredentials=!!d.withCredentials),x&&x!=="json"&&(U.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&U.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&U.upload&&U.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(C=function(B){U&&(f(!B||B&&B.type?new p("canceled"):B),U.abort(),U=null)},d.cancelToken&&d.cancelToken.subscribe(C),d.signal&&(d.signal.aborted?C():d.signal.addEventListener("abort",C))),I||(I=null),U.send(I)})},Ks}var Zs,au;function Zo(){if(au)return Zs;au=1;var t=Nt,e=JT,n=Jc,a={"Content-Type":"application/x-www-form-urlencoded"};function i(l,p){!t.isUndefined(l)&&t.isUndefined(l["Content-Type"])&&(l["Content-Type"]=p)}function o(){var l;return(typeof XMLHttpRequest<"u"||typeof ki<"u"&&Object.prototype.toString.call(ki)==="[object process]")&&(l=nu()),l}function s(l,p,u){if(t.isString(l))try{return(p||JSON.parse)(l),t.trim(l)}catch(d){if(d.name!=="SyntaxError")throw d}return(u||JSON.stringify)(l)}var r={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(p,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(p)||t.isArrayBuffer(p)||t.isBuffer(p)||t.isStream(p)||t.isFile(p)||t.isBlob(p)?p:t.isArrayBufferView(p)?p.buffer:t.isURLSearchParams(p)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),p.toString()):t.isObject(p)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),s(p)):p}],transformResponse:[function(p){var u=this.transitional||r.transitional,d=u&&u.silentJSONParsing,c=u&&u.forcedJSONParsing,m=!d&&this.responseType==="json";if(m||c&&t.isString(p)&&p.length)try{return JSON.parse(p)}catch(f){if(m)throw f.name==="SyntaxError"?n(f,this,"E_JSON_PARSE"):f}return p}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(p){return p>=200&&p<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(p){r.headers[p]={}}),t.forEach(["post","put","patch"],function(p){r.headers[p]=t.merge(a)}),Zs=r,Zs}var a6=Nt,i6=Zo(),o6=function(e,n,a){var i=this||i6;return a6.forEach(a,function(s){e=s.call(i,e,n)}),e},Qs,iu;function Kc(){return iu||(iu=1,Qs=function(e){return!!(e&&e.__CANCEL__)}),Qs}var ou=Nt,er=o6,s6=Kc(),r6=Zo(),l6=Ko();function tr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new l6("canceled")}var p6=function(e){tr(e),e.headers=e.headers||{},e.data=er.call(e,e.data,e.headers,e.transformRequest),e.headers=ou.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ou.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||r6.adapter;return n(e).then(function(i){return tr(e),i.data=er.call(e,i.data,i.headers,e.transformResponse),i},function(i){return s6(i)||(tr(e),i&&i.response&&(i.response.data=er.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Bt=Nt,Zc=function(e,n){n=n||{};var a={};function i(u,d){return Bt.isPlainObject(u)&&Bt.isPlainObject(d)?Bt.merge(u,d):Bt.isPlainObject(d)?Bt.merge({},d):Bt.isArray(d)?d.slice():d}function o(u){if(Bt.isUndefined(n[u])){if(!Bt.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],n[u])}function s(u){if(!Bt.isUndefined(n[u]))return i(void 0,n[u])}function r(u){if(Bt.isUndefined(n[u])){if(!Bt.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,n[u])}function l(u){if(u in n)return i(e[u],n[u]);if(u in e)return i(void 0,e[u])}var p={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l};return Bt.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var c=p[d]||o,m=c(d);Bt.isUndefined(m)&&c!==l||(a[d]=m)}),a},nr,su;function Qc(){return su||(su=1,nr={version:"0.24.0"}),nr}var u6=Qc().version,$l={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){$l[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});var ru={};$l.transitional=function(e,n,a){function i(o,s){return"[Axios v"+u6+"] Transitional option '"+o+"'"+s+(a?". "+a:"")}return function(o,s,r){if(e===!1)throw new Error(i(s," has been removed"+(n?" in "+n:"")));return n&&!ru[s]&&(ru[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,r):!0}};function d6(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var a=Object.keys(t),i=a.length;i-- >0;){var o=a[i],s=e[o];if(s){var r=t[o],l=r===void 0||s(r,o,t);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+o)}}var c6={assertOptions:d6,validators:$l},ey=Nt,y6=Xc,lu=zT,pu=p6,Qo=Zc,ty=c6,ni=ty.validators;function zi(t){this.defaults=t,this.interceptors={request:new lu,response:new lu}}zi.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Qo(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&ty.assertOptions(n,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(c){typeof c.runWhen=="function"&&c.runWhen(e)===!1||(i=i&&c.synchronous,a.unshift(c.fulfilled,c.rejected))});var o=[];this.interceptors.response.forEach(function(c){o.push(c.fulfilled,c.rejected)});var s;if(!i){var r=[pu,void 0];for(Array.prototype.unshift.apply(r,a),r=r.concat(o),s=Promise.resolve(e);r.length;)s=s.then(r.shift(),r.shift());return s}for(var l=e;a.length;){var p=a.shift(),u=a.shift();try{l=p(l)}catch(d){u(d);break}}try{s=pu(l)}catch(d){return Promise.reject(d)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};zi.prototype.getUri=function(e){return e=Qo(this.defaults,e),y6(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ey.forEach(["delete","get","head","options"],function(e){zi.prototype[e]=function(n,a){return this.request(Qo(a||{},{method:e,url:n,data:(a||{}).data}))}});ey.forEach(["post","put","patch"],function(e){zi.prototype[e]=function(n,a,i){return this.request(Qo(i||{},{method:e,url:n,data:a}))}});var m6=zi,ar,uu;function b6(){if(uu)return ar;uu=1;var t=Ko();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var a;this.promise=new Promise(function(s){a=s});var i=this;this.promise.then(function(o){if(i._listeners){var s,r=i._listeners.length;for(s=0;s<r;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,r=new Promise(function(l){i.subscribe(l),s=l}).then(o);return r.cancel=function(){i.unsubscribe(s)},r},n(function(s){i.reason||(i.reason=new t(s),a(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]},e.prototype.unsubscribe=function(a){if(this._listeners){var i=this._listeners.indexOf(a);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var a,i=new e(function(s){a=s});return{token:i,cancel:a}},ar=e,ar}var ir,du;function f6(){return du||(du=1,ir=function(e){return function(a){return e.apply(null,a)}}),ir}var or,cu;function T6(){return cu||(cu=1,or=function(e){return typeof e=="object"&&e.isAxiosError===!0}),or}var yu=Nt,h6=$c,co=m6,I6=Zc,g6=Zo();function ny(t){var e=new co(t),n=h6(co.prototype.request,e);return yu.extend(n,co.prototype,e),yu.extend(n,e),n.create=function(i){return ny(I6(t,i))},n}var pn=ny(g6);pn.Axios=co;pn.Cancel=Ko();pn.CancelToken=b6();pn.isCancel=Kc();pn.VERSION=Qc().version;pn.all=function(e){return Promise.all(e)};pn.spread=f6();pn.isAxiosError=T6();AT.exports=pn;_o.default=pn;(function(t){t.exports=_o})(kT);const sn=Yb(br);var ay={},iy={},es={};Object.defineProperty(es,"__esModule",{value:!0});var w6=function(){function t(e){this.value=e}return t}();es.EnumType=w6;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});var _6=function(){function t(e){this.value=e}return t.prototype.toJSON=function(){return"$"+this.value},t}();ts.VariableType=_6;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=es,n=ts;t.configFields=["__args","__alias","__aliasFor","__variables","__directives","__on","__all_on","__typeName","__name"];function a(d){if(d instanceof e.EnumType)return d.value;if(d instanceof n.VariableType)return"$"+d.value;if(typeof d!="object"||d===null)return JSON.stringify(d);if(Array.isArray(d))return"["+d.map(function(m){return a(m)}).join(", ")+"]";var c=Object.keys(d).map(function(m){return m+": "+a(d[m])}).join(", ");return"{"+c+"}"}function i(d){var c=[];for(var m in d)c.push(m+": "+a(d[m]));return c.join(", ")}function o(d){var c=[];for(var m in d)c.push("$"+m+": "+d[m]);return c.join(", ")}function s(d){var c=Object.keys(d)[0],m=d[c];if(typeof m=="boolean"||typeof m=="object"&&Object.keys(m).length===0)return c;if(typeof m=="object"){var f=[];for(var I in m){var v=a(m[I]).replace(/"/g,"");f.push(I+": "+v)}return c+"("+f.join(", ")+")"}else throw new Error("Unsupported type for directive: "+typeof m+`. Types allowed: object, boolean.
`+("Offending object: "+JSON.stringify(d)))}function r(d){return Array(d*4+1).join(" ")}function l(d,c){return t.configFields.indexOf(d)==-1&&c.indexOf(d)==-1}function p(d,c,m,f){Object.keys(d).filter(function(I){return l(I,f.ignoreFields)}).forEach(function(I){var v=d[I];if(typeof v=="object"){if(Array.isArray(v)&&(v=v.find(function(O){return O&&typeof O=="object"}),!v)){m.push([""+I,c]);return}var x=Object.keys(v).filter(function(O){return l(O,f.ignoreFields)}).length,C=x>0,j=typeof v.__args=="object"&&Object.keys(v.__args).length>0,U=typeof v.__directives=="object",z=v.__all_on instanceof Array,$=typeof v.__on=="object",b=""+I;if(typeof v.__name=="string"&&(b=b+" "+v.__name),typeof v.__aliasFor=="string"&&(b=b+": "+v.__aliasFor),typeof v.__variables=="object"&&Object.keys(v.__variables).length>0)b=b+" ("+o(v.__variables)+")";else if(j||U){var T="",w="";U&&(w=Object.entries(v.__directives).map(function(O){var N;return"@"+s((N={},N[O[0]]=O[1],N))}).join(" ")),j&&(T="("+i(v.__args)+")");var B=U&&j?" ":"";b=b+" "+T+B+w}if(m.push([b+(C||$||z?" {":""),c]),p(v,c+1,m,f),z&&v.__all_on.forEach(function(O){m.push(["..."+O,c+1])}),$){var A=v.__on instanceof Array?v.__on:[v.__on];A.forEach(function(O){var N=O.__typeName;m.push(["... on "+N+" {",c+1]),p(O,c+2,m,f),m.push(["}",c+1])})}(C||$||z)&&m.push(["}",c])}else(f.includeFalsyKeys===!0||v)&&m.push([""+I,c])})}function u(d,c){if(c===void 0&&(c={}),!d||typeof d!="object")throw new Error("query object not specified");if(Object.keys(d).length==0)throw new Error("query object has no data");c.ignoreFields instanceof Array||(c.ignoreFields=[]);var m=[];p(d,0,m,c);var f="";return m.forEach(function(I){var v=I[0],x=I[1];c.pretty?(f&&(f+=`
`),f+=r(x)+v):(f&&(f+=" "),f+=v)}),f}t.jsonToGraphQLQuery=u})(iy);(function(t){function e(i){for(var o in i)t.hasOwnProperty(o)||(t[o]=i[o])}Object.defineProperty(t,"__esModule",{value:!0}),e(iy);var n=es;t.EnumType=n.EnumType;var a=ts;t.VariableType=a.VariableType})(ay);var hr,Oi,xo,Bi,xt,yt;(function(t){t[t.RECOVERY_MODE=255]="RECOVERY_MODE"})(hr||(hr={}));class Xi{}Xi.recoveryModeExit=t=>Pe.encode(["uint256","uint256"],[hr.RECOVERY_MODE,t]),function(t){t[t.INIT=0]="INIT",t[t.EXACT_TOKENS_IN_FOR_BPT_OUT=1]="EXACT_TOKENS_IN_FOR_BPT_OUT",t[t.TOKEN_IN_FOR_EXACT_BPT_OUT=2]="TOKEN_IN_FOR_EXACT_BPT_OUT"}(Oi||(Oi={})),function(t){t[t.INIT=0]="INIT",t[t.COLLECT_PROTOCOL_FEES=1]="COLLECT_PROTOCOL_FEES"}(xo||(xo={})),function(t){t[t.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT=0]="EXACT_BPT_IN_FOR_ONE_TOKEN_OUT",t[t.EXACT_BPT_IN_FOR_TOKENS_OUT=1]="EXACT_BPT_IN_FOR_TOKENS_OUT",t[t.BPT_IN_FOR_EXACT_TOKENS_OUT=2]="BPT_IN_FOR_EXACT_TOKENS_OUT"}(Bi||(Bi={}));class Ke{constructor(){}}Ke.joinInit=t=>Pe.encode(["uint256","uint256[]"],[Oi.INIT,t]),Ke.joinCollectProtocolFees=()=>Pe.encode(["uint256"],[xo.COLLECT_PROTOCOL_FEES]),Ke.joinExactTokensInForBPTOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[Oi.EXACT_TOKENS_IN_FOR_BPT_OUT,t,e]),Ke.joinTokenInForExactBPTOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[Oi.TOKEN_IN_FOR_EXACT_BPT_OUT,t,e]),Ke.exitExactBPTInForOneTokenOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[Bi.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT,t,e]),Ke.exitExactBPTInForTokensOut=t=>Pe.encode(["uint256","uint256"],[Bi.EXACT_BPT_IN_FOR_TOKENS_OUT,t]),Ke.exitBPTInForExactTokensOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[Bi.BPT_IN_FOR_EXACT_TOKENS_OUT,t,e]),function(t){t[t.INIT=0]="INIT",t[t.EXACT_TOKENS_IN_FOR_BPT_OUT=1]="EXACT_TOKENS_IN_FOR_BPT_OUT",t[t.TOKEN_IN_FOR_EXACT_BPT_OUT=2]="TOKEN_IN_FOR_EXACT_BPT_OUT",t[t.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT=3]="ALL_TOKENS_IN_FOR_EXACT_BPT_OUT"}(xt||(xt={})),function(t){t[t.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT=0]="EXACT_BPT_IN_FOR_ONE_TOKEN_OUT",t[t.EXACT_BPT_IN_FOR_TOKENS_OUT=1]="EXACT_BPT_IN_FOR_TOKENS_OUT",t[t.BPT_IN_FOR_EXACT_TOKENS_OUT=2]="BPT_IN_FOR_EXACT_TOKENS_OUT",t[t.MANAGEMENT_FEE_TOKENS_OUT=3]="MANAGEMENT_FEE_TOKENS_OUT"}(yt||(yt={}));class at{constructor(){}}at.joinInit=t=>Pe.encode(["uint256","uint256[]"],[xt.INIT,t]),at.joinExactTokensInForBPTOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[xt.EXACT_TOKENS_IN_FOR_BPT_OUT,t,e]),at.joinTokenInForExactBPTOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[xt.TOKEN_IN_FOR_EXACT_BPT_OUT,t,e]),at.joinAllTokensInForExactBPTOut=t=>Pe.encode(["uint256","uint256"],[xt.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT,t]),at.exitExactBPTInForOneTokenOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[yt.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT,t,e]),at.exitExactBPTInForTokensOut=t=>Pe.encode(["uint256","uint256"],[yt.EXACT_BPT_IN_FOR_TOKENS_OUT,t]),at.exitBPTInForExactTokensOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[yt.BPT_IN_FOR_EXACT_TOKENS_OUT,t,e]);function hI(t){if(t.length==100)return Array(100).fill(R.div(100));const e=t.reduce((i,o)=>i.add(o),ae);if(e.eq(R))return t;const n=[];let a=ae;for(let i=0;i<t.length;i++)i<t.length-1?(n[i]=t[i].mul(R).div(e),a=a.add(n[i])):n[i]=R.sub(a);return n}var Fi,ha;(function(t){t[t.INIT=0]="INIT",t[t.EXACT_TOKENS_IN_FOR_BPT_OUT=1]="EXACT_TOKENS_IN_FOR_BPT_OUT",t[t.TOKEN_IN_FOR_EXACT_BPT_OUT=2]="TOKEN_IN_FOR_EXACT_BPT_OUT"})(Fi||(Fi={})),function(t){t[t.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT=0]="EXACT_BPT_IN_FOR_ONE_TOKEN_OUT",t[t.BPT_IN_FOR_EXACT_TOKENS_OUT=1]="BPT_IN_FOR_EXACT_TOKENS_OUT",t[t.EXACT_BPT_IN_FOR_ALL_TOKENS_OUT=2]="EXACT_BPT_IN_FOR_ALL_TOKENS_OUT"}(ha||(ha={}));class bt{constructor(){}}bt.joinInit=t=>Pe.encode(["uint256","uint256[]"],[Fi.INIT,t]),bt.joinCollectProtocolFees=()=>Pe.encode(["uint256"],[xo.COLLECT_PROTOCOL_FEES]),bt.joinExactTokensInForBPTOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[Fi.EXACT_TOKENS_IN_FOR_BPT_OUT,t,e]),bt.joinTokenInForExactBPTOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[Fi.TOKEN_IN_FOR_EXACT_BPT_OUT,t,e]),bt.exitExactBPTInForOneTokenOut=(t,e)=>Pe.encode(["uint256","uint256","uint256"],[ha.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT,t,e]),bt.exitExactBPTInForAllTokensOut=t=>Pe.encode(["uint256","uint256"],[ha.EXACT_BPT_IN_FOR_ALL_TOKENS_OUT,t]),bt.exitBPTInForExactTokensOut=(t,e)=>Pe.encode(["uint256","uint256[]","uint256"],[ha.BPT_IN_FOR_EXACT_TOKENS_OUT,t,e]);var x6="Invariant failed";function oy(t,e){if(!t)throw new Error(x6)}const ns=t=>(oy(t.length===66),t.slice(0,42));var Q;(function(t){t[t.MAINNET=1]="MAINNET",t[t.GOERLI=5]="GOERLI",t[t.GÖRLI=5]="GÖRLI",t[t.OPTIMISM=10]="OPTIMISM",t[t.GNOSIS=100]="GNOSIS",t[t.POLYGON=137]="POLYGON",t[t.FANTOM=250]="FANTOM",t[t.ZKEVM=1101]="ZKEVM",t[t.ARBITRUM=42161]="ARBITRUM",t[t.AVALANCHE=43114]="AVALANCHE",t[t.SEPOLIA=11155111]="SEPOLIA",t[t.NEON_MAINNET=245022934]="NEON_MAINNET",t[t.NEON_DEVNET=245022926]="NEON_DEVNET",t[t.BASE=8453]="BASE",t[t.BASE_GOERLI=84531]="BASE_GOERLI"})(Q||(Q={}));Q.GOERLI+"",Q.MAINNET+"",Q.POLYGON+"",Q.ARBITRUM+"",Q.GNOSIS+"",Q.NEON_DEVNET+"",Q.NEON_MAINNET+"",Q.BASE+"",Q.BASE_GOERLI+"";var mu,vo,Po,bu,fu,Tu,te;(function(t){t.Id="id",t.Address="address",t.PoolId="poolId"})(mu||(mu={})),function(t){t.Balance="balance",t.Id="id",t.PoolId="poolId",t.UserAddress="userAddress"}(vo||(vo={})),function(t){t.Id="id",t.UserAddress="user",t.GaugeId="gauge",t.Balance="balance"}(Po||(Po={})),function(t){t[t.GeneralPool=0]="GeneralPool",t[t.MinimalSwapInfoPool=1]="MinimalSwapInfoPool",t[t.TwoTokenPool=2]="TwoTokenPool"}(bu||(bu={})),function(t){t[t.DepositInternal=0]="DepositInternal",t[t.WithdrawInternal=1]="WithdrawInternal",t[t.TransferInternal=2]="TransferInternal",t[t.TransferExternal=3]="TransferExternal"}(fu||(fu={})),function(t){t[t.Withdraw=0]="Withdraw",t[t.Deposit=1]="Deposit",t[t.Update=2]="Update"}(Tu||(Tu={})),function(t){t.Weighted="Weighted",t.Investment="Investment",t.Stable="Stable",t.ComposableStable="ComposableStable",t.MetaStable="MetaStable",t.StablePhantom="StablePhantom",t.LiquidityBootstrapping="LiquidityBootstrapping",t.Element="Element",t.Gyro2="Gyro2",t.Gyro3="Gyro3",t.GyroE="GyroE",t.Managed="Managed",t.AaveLinear="AaveLinear",t.Linear="Linear",t.EulerLinear="EulerLinear",t.ERC4626Linear="ERC4626Linear",t.BeefyLinear="BeefyLinear",t.GearboxLinear="GearboxLinear",t.MidasLinear="MidasLinear",t.ReaperLinear="ReaperLinear",t.SiloLinear="SiloLinear",t.TetuLinear="TetuLinear",t.YearnLinear="YearnLinear",t.FX="FX"}(te||(te={}));class Le{constructor(){this.enableLogging=!0}static getInstance(){return Le.instance||(Le.instance=new Le),Le.instance}setLoggingEnabled(e){this.enableLogging=e}info(e){this.enableLogging}warn(e){this.enableLogging&&console.warn(`[WARN] ${e}`)}error(e){this.enableLogging&&console.error(`[ERROR] ${e}`)}time(e){this.enableLogging}timeEnd(e){this.enableLogging}}const hu=t=>t[0].map((e,n)=>t.map(a=>a[n]));class Je{constructor(e){this.ETH=he,this.isETH=n=>Je.isEqual(n,this.ETH),this.isWETH=n=>Je.isEqual(n,this.WETH),this.translateToERC20=n=>this.isETH(n)?this.WETH:n,this.WETH=de(e)}sortTokens(e,...n){n.forEach(r=>oy(e.length===r.length));const a=e.map(this.translateToERC20),i=hu([a,...n]).sort(([r],[l])=>((p,u)=>p.toLowerCase()>u.toLowerCase()?1:-1)(r,l)),[o,...s]=hu(i);return[e.includes(this.ETH)?o.map(r=>this.isWETH(r)?this.ETH:r):o,...s]}}Je.isEqual=(t,e)=>de(t)===de(e);async function v6(t){if(typeof t=="string")return t;if(d0.isSigner(t))return t.getAddress();if(t.address)return t.address;throw new Error("Could not read account address")}var ma;(function(t){t.JoinPool="JoinPool",t.ExitPool="ExitPool",t.Swap="Swap",t.BatchSwap="BatchSwap",t.SetRelayerApproval="SetRelayerApproval"})(ma||(ma={}));class gt{constructor(){}}gt.encodeCalldataAuthorization=(t,e,n)=>{const a=xp(vp(e),32).slice(2),{v:i,r:o,s}=Pb(n);return`${t}${a}${xp(vp(i),32).slice(2)}${o.slice(2)}${s.slice(2)}`},gt.signJoinAuthorization=(t,e,n,a,i,o)=>gt.signAuthorizationFor(ma.JoinPool,t,e,n,a,i,o),gt.signExitAuthorization=(t,e,n,a,i,o)=>gt.signAuthorizationFor(ma.ExitPool,t,e,n,a,i,o),gt.signSwapAuthorization=(t,e,n,a,i,o)=>gt.signAuthorizationFor(ma.Swap,t,e,n,a,i,o),gt.signBatchSwapAuthorization=(t,e,n,a,i,o)=>gt.signAuthorizationFor(ma.BatchSwap,t,e,n,a,i,o),gt.signSetRelayerApprovalAuthorization=(t,e,n,a,i,o)=>gt.signAuthorizationFor(ma.SetRelayerApproval,t,e,n,a,i,o),gt.signAuthorizationFor=async(t,e,n,a,i,o=Do,s)=>{const{chainId:r}=await e.provider.getNetwork();if(!s){const d=await n.getAddress();s=await e.getNextNonce(d)}const l={name:"Balancer V2 Vault",version:"1",chainId:r,verifyingContract:e.address},p={[t]:[{name:"calldata",type:"bytes"},{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},u={calldata:i,sender:await v6(a),nonce:s.toString(),deadline:o.toString()};return n._signTypedData(l,p,u)};const Oe=BigInt(0),pa=BigInt(1),Wt=BigInt("1000000000000000000"),_t=(t,e)=>{if(!t)throw new Error(e)};function sy(t){const e=BigInt(18)-t;return Wt*BigInt(10)**e}function jl(t,e){return ge.mulDownFixed(t,e)}function Ea(t,e){const n=new Array(t.length);for(let a=0;a<t.length;++a)n[a]=ge.mulDownFixed(t[a],e[a]);return n}function as(t,e){return ge.divDownFixed(t,e)}function is(t,e){const n=new Array(t.length);for(let a=0;a<t.length;++a)n[a]=ge.divDownFixed(t[a],e[a]);return n}class ge{static add(e,n){const a=e+n;return _t(n>=0&&a>=e||n<0&&a<e,"Errors.ADD_OVERFLOW"),a}static sub(e,n){return _t(n<=e,"Errors.SUB_OVERFLOW"),e-n}static max(e){if(e.length===0)throw new Error("Errors.EMPTY_ARRAY");return e.length===1?e[0]:e.reduce((n,a)=>a>n?a:n)}static min(e,n){return e<n?e:n}static mul(e,n){const a=e*n;return _t(e==Oe||a/e==n,"Errors.MUL_OVERFLOW"),a}static div(e,n,a){return a?this.divUp(e,n):this.divDown(e,n)}static divDown(e,n){return _t(n!=Oe,"Errors.ZERO_DIVISION"),e/n}static divUp(e,n){return _t(n!=Oe,"Errors.ZERO_DIVISION"),e==Oe?Oe:pa+(e-pa)/n}static mulUpFixed(e,n){const a=e*n;return _t(e==Oe||a/e==n,"Errors.MUL_OVERFLOW"),a==Oe?Oe:(a-pa)/Wt+pa}static divDownFixed(e,n){return _t(n!=Oe,"Errors.ZERO_DIVISION"),e==Oe?Oe:e*Wt/n}static divUpFixed(e,n){if(_t(n!=Oe,"Errors.ZERO_DIVISION"),e==Oe)return Oe;{const a=e*Wt;return _t(a/e==Wt,"Errors.DIV_INTERNAL"),(a-pa)/n+pa}}static powUpFixed(e,n){const a=xe.pow(e,n),i=this.add(this.mulUpFixed(a,this.MAX_POW_RELATIVE_ERROR),pa);return this.add(a,i)}static complementFixed(e){return e<Wt?Wt-e:Oe}static mulDownFixed(e,n){const a=e*n;return _t(e==Oe||a/e==n,"Errors.MUL_OVERFLOW"),a/Wt}}ge.MAX_POW_RELATIVE_ERROR=BigInt(1e4);class xe{static pow(e,n){if(n===Oe)return this.ONE_18;if(e==Oe)return Oe;_t(e<BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819968"),"Errors.X_OUT_OF_BOUNDS");const a=e;_t(n<this.MILD_EXPONENT_BOUND,"Errors.Y_OUT_OF_BOUNDS");const i=n;let o;if(this.LN_36_LOWER_BOUND<a&&a<this.LN_36_UPPER_BOUND){const s=this._ln_36(a);o=s/this.ONE_18*i+s%this.ONE_18*i/this.ONE_18}else o=this._ln(a)*i;return o/=this.ONE_18,_t(this.MIN_NATURAL_EXPONENT<=o&&o<=this.MAX_NATURAL_EXPONENT,"Errors.PRODUCT_OUT_OF_BOUNDS"),this.exp(o)}static exp(e){if(_t(e>=this.MIN_NATURAL_EXPONENT&&e<=this.MAX_NATURAL_EXPONENT,"Errors.INVALID_EXPONENT"),e<0)return this.ONE_18*this.ONE_18/this.exp(BigInt(-1)*e);let n;e>=this.x0?(e-=this.x0,n=this.a0):e>=this.x1?(e-=this.x1,n=this.a1):n=BigInt(1),e*=BigInt(100);let a=this.ONE_20;e>=this.x2&&(e-=this.x2,a=a*this.a2/this.ONE_20),e>=this.x3&&(e-=this.x3,a=a*this.a3/this.ONE_20),e>=this.x4&&(e-=this.x4,a=a*this.a4/this.ONE_20),e>=this.x5&&(e-=this.x5,a=a*this.a5/this.ONE_20),e>=this.x6&&(e-=this.x6,a=a*this.a6/this.ONE_20),e>=this.x7&&(e-=this.x7,a=a*this.a7/this.ONE_20),e>=this.x8&&(e-=this.x8,a=a*this.a8/this.ONE_20),e>=this.x9&&(e-=this.x9,a=a*this.a9/this.ONE_20);let i,o=this.ONE_20;return i=e,o+=i,i=i*e/this.ONE_20/BigInt(2),o+=i,i=i*e/this.ONE_20/BigInt(3),o+=i,i=i*e/this.ONE_20/BigInt(4),o+=i,i=i*e/this.ONE_20/BigInt(5),o+=i,i=i*e/this.ONE_20/BigInt(6),o+=i,i=i*e/this.ONE_20/BigInt(7),o+=i,i=i*e/this.ONE_20/BigInt(8),o+=i,i=i*e/this.ONE_20/BigInt(9),o+=i,i=i*e/this.ONE_20/BigInt(10),o+=i,i=i*e/this.ONE_20/BigInt(11),o+=i,i=i*e/this.ONE_20/BigInt(12),o+=i,a*o/this.ONE_20*n/BigInt(100)}static _ln_36(e){const n=((e*=this.ONE_18)-this.ONE_36)*this.ONE_36/(e+this.ONE_36),a=n*n/this.ONE_36;let i=n,o=i;return i=i*a/this.ONE_36,o+=i/BigInt(3),i=i*a/this.ONE_36,o+=i/BigInt(5),i=i*a/this.ONE_36,o+=i/BigInt(7),i=i*a/this.ONE_36,o+=i/BigInt(9),i=i*a/this.ONE_36,o+=i/BigInt(11),i=i*a/this.ONE_36,o+=i/BigInt(13),i=i*a/this.ONE_36,o+=i/BigInt(15),o*BigInt(2)}static _ln(e){if(e<this.ONE_18)return BigInt(-1)*this._ln(this.ONE_18*this.ONE_18/e);let n=Oe;e>=this.a0*this.ONE_18&&(e/=this.a0,n+=this.x0),e>=this.a1*this.ONE_18&&(e/=this.a1,n+=this.x1),n*=BigInt(100),(e*=BigInt(100))>=this.a2&&(e=e*this.ONE_20/this.a2,n+=this.x2),e>=this.a3&&(e=e*this.ONE_20/this.a3,n+=this.x3),e>=this.a4&&(e=e*this.ONE_20/this.a4,n+=this.x4),e>=this.a5&&(e=e*this.ONE_20/this.a5,n+=this.x5),e>=this.a6&&(e=e*this.ONE_20/this.a6,n+=this.x6),e>=this.a7&&(e=e*this.ONE_20/this.a7,n+=this.x7),e>=this.a8&&(e=e*this.ONE_20/this.a8,n+=this.x8),e>=this.a9&&(e=e*this.ONE_20/this.a9,n+=this.x9),e>=this.a10&&(e=e*this.ONE_20/this.a10,n+=this.x10),e>=this.a11&&(e=e*this.ONE_20/this.a11,n+=this.x11);const a=(e-this.ONE_20)*this.ONE_20/(e+this.ONE_20),i=a*a/this.ONE_20;let o=a,s=o;return o=o*i/this.ONE_20,s+=o/BigInt(3),o=o*i/this.ONE_20,s+=o/BigInt(5),o=o*i/this.ONE_20,s+=o/BigInt(7),o=o*i/this.ONE_20,s+=o/BigInt(9),o=o*i/this.ONE_20,s+=o/BigInt(11),s*=BigInt(2),(n+s)/BigInt(100)}}xe.ONE_18=BigInt("1000000000000000000"),xe.ONE_20=BigInt("100000000000000000000"),xe.ONE_36=BigInt("1000000000000000000000000000000000000"),xe.MAX_NATURAL_EXPONENT=BigInt("130000000000000000000"),xe.MIN_NATURAL_EXPONENT=BigInt("-41000000000000000000"),xe.LN_36_LOWER_BOUND=BigInt(xe.ONE_18)-BigInt("100000000000000000"),xe.LN_36_UPPER_BOUND=BigInt(xe.ONE_18)+BigInt("100000000000000000"),xe.MILD_EXPONENT_BOUND=BigInt(2)**BigInt(254)/xe.ONE_20,xe.x0=BigInt("128000000000000000000"),xe.a0=BigInt("38877084059945950922200000000000000000000000000000000000"),xe.x1=BigInt("64000000000000000000"),xe.a1=BigInt("6235149080811616882910000000"),xe.x2=BigInt("3200000000000000000000"),xe.a2=BigInt("7896296018268069516100000000000000"),xe.x3=BigInt("1600000000000000000000"),xe.a3=BigInt("888611052050787263676000000"),xe.x4=BigInt("800000000000000000000"),xe.a4=BigInt("298095798704172827474000"),xe.x5=BigInt("400000000000000000000"),xe.a5=BigInt("5459815003314423907810"),xe.x6=BigInt("200000000000000000000"),xe.a6=BigInt("738905609893065022723"),xe.x7=BigInt("100000000000000000000"),xe.a7=BigInt("271828182845904523536"),xe.x8=BigInt("50000000000000000000"),xe.a8=BigInt("164872127070012814685"),xe.x9=BigInt("25000000000000000000"),xe.a9=BigInt("128402541668774148407"),xe.x10=BigInt("12500000000000000000"),xe.a10=BigInt("113314845306682631683"),xe.x11=BigInt("6250000000000000000"),xe.a11=BigInt("106449445891785942956");const je=(t,e,n)=>{var a;let i=n?t.tokens.map(z=>z.address===e?he:z.address):t.tokens.map(z=>z.address),o=t.tokens.map(z=>{var $;return($=z.decimals)!==null&&$!==void 0?$:18}),s=t.tokens.map(z=>H(z.balance,z.decimals).toBigInt()),r=t.tokens.map(z=>{var $;return H(($=z.weight)!==null&&$!==void 0?$:"1",18).toBigInt()}),l=t.tokens.map(z=>{var $;return H(($=z.priceRate)!==null&&$!==void 0?$:"1",18).toBigInt()}),p=o.map(z=>sy(BigInt(z))),u=p.map((z,$)=>ge.mulDownFixed(z,l[$])),d=Ea(s,u);e&&([i,o,u,p,s,d,r,l]=new Je(e).sortTokens(i,o,u,p,s,d,r,l));const c=H((a=t.amp)!==null&&a!==void 0?a:"1",3).toBigInt(),m=d.indexOf(ge.max(d)),f=[...u],I=[...p],v=[...i],x=[...s],C=[...l],j=[...d],U=i.indexOf(t.address);return U!==-1&&(f.splice(U,1),I.splice(U,1),v.splice(U,1),x.splice(U,1),C.splice(U,1),j.splice(U,1)),{bptIndex:U,higherBalanceTokenIndex:m,ampWithPrecision:c,balancesEvm:s,balancesEvmWithoutBpt:x,priceRates:l,priceRatesWithoutBpt:C,swapFeeEvm:H(t.swapFee,18).toBigInt(),poolTokens:i,poolTokensWithoutBpt:v,weights:r,scalingFactors:u,scalingFactorsWithoutBpt:f,scalingFactorsRaw:p,scalingFactorsRawWithoutBpt:I,upScaledBalances:d,upScaledBalancesWithoutBpt:j,totalSharesEvm:H(t.totalShares||"0",18).toBigInt()}},P6={Popular:{Symbols:["WBTC","DAI","USDC","BAL","AAVE","WETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",WETH:"0x0000000000000000000000000000000000000000",BAL:"0x0000000000000000000000000000000000000000"}},Iu={[Q.GOERLI]:{Popular:{Symbols:["WBTC","DAI","USDC","BAL","USDT","WETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0xdFCeA9088c8A88A76FF74892C1457C17dfeef9C1",WETH:"0xdFCeA9088c8A88A76FF74892C1457C17dfeef9C1",BAL:"0xfA8449189744799aD2AcE7e0EBAC8BB7575eff47",bbaUSD:"0x13ACD41C585d7EbB4a9460f7C8f50BE60DC080Cd"},PriceChainMap:{"0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","0x37f03a12241e9fd3658ad6777d289c3fb8512bc9":"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599","0xfa8449189744799ad2ace7e0ebac8bb7575eff47":"0xba100000625a3754423978a60c9317c58a424e3d","0xe0c9275e44ea80ef17579d33c55136b7da269aeb":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x8c9e6c40d3402480ace624730524facc5482798c":"0x6b175474e89094c44da98b954eedeac495271d0f","0x1f1f156e0317167c11aa412e3d1435ea29dc3cce":"0xdac17f958d2ee523a2206206994597c13d831ec7","0x4cb1892fddf14f772b2e39e299f44b2e5da90d04":"0x3ed3b47dd13ec9a98b44e6204a523e766b225811","0x811151066392fd641fe74a9b55a712670572d161":"0xbcca60bb61934080951369a648fb03df4f96263c","0x89534a24450081aa267c79b07411e9617d984052":"0x028171bca77440897b824ca71d1c56cac55b68a3","0x829f35cebbcd47d3c120793c12f7a232c903138b":"0x956f47f50a910163d8bf957cf5846d573e7f87ca","0xff386a3d08f80ac38c77930d173fa56c6286dc8b":"0x6810e776880c02933d47db1b9fc05908e5386b96"}},[Q.MAINNET]:{Popular:{Symbols:["WBTC","DAI","USDC","BAL","AAVE","WETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",WETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",BAL:"0xba100000625a3754423978a60c9317c58a424e3d",bbaUSD:"0x7B50775383d3D6f0215A8F290f2C9e2eEBBEceb2",bbaUSDv2:"0xA13a9247ea42D743238089903570127DdA72fE44"}},[Q.POLYGON]:{Popular:{Symbols:["WBTC","DAI","USDC","BAL","AAVE","WETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",WETH:"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619",BAL:"0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3"}},[Q.ARBITRUM]:{Popular:{Symbols:["WBTC","DAI","USDC","BAL","AAVE","WETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",WETH:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",BAL:"0x040d1EdC9569d4Bab2D15287Dc5A4F10F56a56B8"}},[Q.GNOSIS]:{Popular:{Symbols:["xDAI","WXDAI","WETH","BAL"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",WETH:"0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1",BAL:"0x7eF541E2a22058048904fE5744f9c7E4C57AF717"}},[Q.NEON_DEVNET]:{Popular:{Symbols:["ETH","wNEON","wSOL","USDC","AAVE"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x11adC2d986E334137b9ad0a0F290771F31e9517F",WETH:"0x46E986B5b0f87F1026ff52Ce20340467199F891D",BAL:"0x0000000000000000000000000000000000000000"}},[Q.NEON_MAINNET]:{Popular:{Symbols:["ETH","wNEON","wSOL","USDC"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x202C35e517Fa803B537565c40F0a6965D7204609",WETH:"0xcFFd84d468220c11be64dc9dF64eaFE02AF60e8A",BAL:"0x0000000000000000000000000000000000000000"}},[Q.BASE]:{Popular:{Symbols:["ETH","DAI","cbETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x4200000000000000000000000000000000000006",WETH:"0x4200000000000000000000000000000000000006",BAL:"0x0000000000000000000000000000000000000000"}},[Q.BASE_GOERLI]:{Popular:{Symbols:["ETH","DAI","cbETH"]},Addresses:{nativeAsset:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",wNativeAsset:"0x4200000000000000000000000000000000000006",WETH:"0x4200000000000000000000000000000000000006",BAL:"0x0000000000000000000000000000000000000000"}}};function ry(t){return Iu[t]?Iu[t]:P6}let gu=!1,wu=!1;const yo={debug:1,default:2,info:2,warning:3,error:4,off:5};let _u=yo.default,sr=null;const xu=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Ir,zt;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Ir||(Ir={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(zt||(zt={}));const vu="0123456789abcdef";class Ue{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const a=e.toLowerCase();yo[a]==null&&this.throwArgumentError("invalid log level name","logLevel",e),_u>yo[a]||console.log.apply(console,n)}debug(...e){this._log(Ue.levels.DEBUG,e)}info(...e){this._log(Ue.levels.INFO,e)}warn(...e){this._log(Ue.levels.WARNING,e)}makeError(e,n,a){if(wu)return this.makeError("censored error",n,{});n||(n=Ue.errors.UNKNOWN_ERROR),a||(a={});const i=[];Object.keys(a).forEach(l=>{const p=a[l];try{if(p instanceof Uint8Array){let u="";for(let d=0;d<p.length;d++)u+=vu[p[d]>>4],u+=vu[15&p[d]];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(p))}catch{i.push(l+"="+JSON.stringify(a[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case zt.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case zt.CALL_EXCEPTION:case zt.INSUFFICIENT_FUNDS:case zt.MISSING_NEW:case zt.NONCE_EXPIRED:case zt.REPLACEMENT_UNDERPRICED:case zt.TRANSACTION_REPLACED:case zt.UNPREDICTABLE_GAS_LIMIT:s=n}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const r=new Error(e);return r.reason=o,r.code=n,Object.keys(a).forEach(function(l){r[l]=a[l]}),r}throwError(e,n,a){throw this.makeError(e,n,a)}throwArgumentError(e,n,a){return this.throwError(e,Ue.errors.INVALID_ARGUMENT,{argument:n,value:a})}assert(e,n,a,i){e||this.throwError(n,a,i)}assertArgument(e,n,a,i){e||this.throwArgumentError(n,a,i)}checkNormalize(e){xu&&this.throwError("platform missing String.prototype.normalize",Ue.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xu})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,a){a=a?": "+a:"",e<n&&this.throwError("missing argument"+a,Ue.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+a,Ue.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){e!==Object&&e!=null||this.throwError("missing new",Ue.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Ue.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&e!=null||this.throwError("missing new",Ue.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return sr||(sr=new Ue("logger/5.7.0")),sr}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gu){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}wu=!!e,gu=!!n}static setLogLevel(e){const n=yo[e.toLowerCase()];n!=null?_u=n:Ue.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ue(e)}}Ue.errors=zt,Ue.levels=Ir;const E6=new Ue("units/5.7.0"),ly=["wei","kwei","mwei","gwei","szabo","finney","ether"];function lt(t,e){if(typeof e=="string"){const n=ly.indexOf(e);n!==-1&&(e=3*n)}return F(t,e??18)}function py(t,e){if(typeof t!="string"&&E6.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=ly.indexOf(e);n!==-1&&(e=3*n)}return H(t,e??18)}const da={[Q.MAINNET]:{waUSDT:"0xf8fd466f12e236f4c96f7cce6c79eadb819abf58",waUSDC:"0xd093fa4fb80d09bb30817fdcd442d4d02ed3e5de",waDAI:"0x02d60b84491589974263d922d9cc7a3152618ef6"},[Q.POLYGON]:{wamDAI:"0xee029120c72b0607344f35b17cdd90025e647b00",wamUSDC:"0x221836a597948dce8f3568e044ff123108acc42a",wamUSDT:"0x19c60a251e525fa88cd6f3768416a8024e98fc19"}},ro={[Q.MAINNET]:{[da[Q.MAINNET].waUSDT]:{aToken:"0x3ed3b47dd13ec9a98b44e6204a523e766b225811",underlying:"0xdac17f958d2ee523a2206206994597c13d831ec7"},[da[Q.MAINNET].waUSDC]:{aToken:"0xbcca60bb61934080951369a648fb03df4f96263c",underlying:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"},[da[Q.MAINNET].waDAI]:{aToken:"0x028171bca77440897b824ca71d1c56cac55b68a3",underlying:"0x6b175474e89094c44da98b954eedeac495271d0f"}},[Q.POLYGON]:{[da[Q.POLYGON].wamUSDT]:{aToken:"0x60d55f02a771d515e077c9c2403a1ef324885cec",underlying:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f"},[da[Q.POLYGON].wamUSDC]:{aToken:"0x1a13f4ca1d028320a707d99520abfefca3998b7f",underlying:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174"},[da[Q.POLYGON].wamDAI]:{aToken:"0x27f8d03b3a2196956ed754badc28d73be8830a6e",underlying:"0x8f3cf7ad23cd3cadbd9735aff958023239c6a063"}}},S6=new ue(["function rate() view returns (uint256)"]);class k6{constructor(e,n){this.multicall=e,this.network=n}async fetch(e){const n=Object.values(da[e]),a=n.map(o=>({target:o,callData:S6.encodeFunctionData("rate",[])})),[,i]=await this.multicall.callStatic.aggregate(a);return n.reduce((o,s,r)=>(o[s]||(o[s]=i[r]=="0x"?0:parseFloat(lt(i[r],27))),o),{})}async getRate(e){return 1}}function Eo(t,e){let n=t.toLowerCase();return n=A6(n,e),n=O6(n,e),n}const A6=(t,e)=>{const n=ry(e).PriceChainMap;return n&&n[t.toLowerCase()]||t},O6=(t,e)=>{const n=t.toLocaleLowerCase(),a=e;return ro[a]!=null&&ro[a]!=null&&Object.keys(ro[a]).includes(n)?ro[a][n].aToken:n},Ui=(t,e)=>{const n=e.filter((a,i)=>t[i]===he);return n[0]?S.from(n[0]):S.from(0)};class uy{constructor(e,n=200,a=100){this.fn=e,this.wait=n,this.limit=a,this.requestSets=[],this.promisedCalls=[],this.promisedCount=0,this.debounceCancel=()=>{}}fetch(e){var n,a;return(n=this.requestSets)[a=this.promisedCount]||(n[a]=new Set),e&&this.requestSets[this.promisedCount].add(e),this.requestSets[this.promisedCount].size>=this.limit?this.execute(0):this.promisedCalls[this.promisedCount]?this.promisedCalls[this.promisedCount].promise:this.execute(this.wait)}execute(e=0){this.promisedCalls[this.promisedCount]||(this.promisedCalls[this.promisedCount]=(()=>{let s=()=>{},r=()=>{};return{promise:new Promise((l,p)=>{[s,r]=[l,p]}),reject:r,resolve:s}})());const{promise:n,resolve:a,reject:i}=this.promisedCalls[this.promisedCount];this.timeout&&clearTimeout(this.timeout);const o=()=>{const s=[...this.requestSets[this.promisedCount]];this.promisedCount++,this.fn(s).then(r=>{a(r),this.debounceCancel=()=>{}}).catch(r=>{r.response&&r.response.data&&r.response.data.error&&(r=r.response.data.error),i(r)})};return e>0?this.timeout=setTimeout(o.bind(this),e):o(),this.debounceCancel=()=>{this.timeout&&clearTimeout(this.timeout),i("Cancelled"),delete this.promisedCalls[this.promisedCount]},n}}function Re(t,e){const n=new RegExp(`[0-9]+\\.?[0-9]{0,${e}}`),a=t.match(n);let i=t;return a&&(i=a[0]),H(i,e)}function zl(t,e){return F(t,e).replace(/(.0$)/,"")}const B6=S.from("10000"),dy=(t,e)=>t.mul(e).div(B6),st=(t,e)=>{const n=dy(t,e);return t.sub(n)},Xl=(t,e)=>{const n=dy(t,e);return t.add(n)},it=(t,e)=>de(t)===de(e);function Mi(t,e,n){return e<0||e>t.length?t:[...t.slice(0,e),n,...t.slice(e)]}function Pu(t,e,n){return e<0||e>=t.length?t:[...t.slice(0,e),n,...t.slice(e+1)]}function Ei(t,e){const n=[...t];return e<0||e>=t.length||n.splice(e,1),n}function F6(t,e,...n){if(t.length!==e.length||n.some(o=>o.length!==e.length))throw new Error("Array length mismatch");const a=t.map(o=>e.indexOf(o));if(a.indexOf(-1)>=0)throw new Error("Invalid reference or original array");const i=[];return a.forEach((o,s)=>{n.forEach((r,l)=>{i[l]||(i[l]=[]),i[l][s]=r[o]})}),i}function cy(t){const e=Object.values(te);return!(!t.includes("Linear")||!e.includes(t))}const Jl=({receipt:t,to:e,contractInterface:n,logName:a})=>{const i=t.logs.filter(o=>it(o.address,e)).map(o=>{try{return n.parseLog(o)}catch(s){return Le.getInstance().warn(s),null}}).find(o=>(o==null?void 0:o.name)===a);if(!i)throw new Error("Event not found in logs");return i},Yl=()=>`0x${Array(8).fill(null).map(()=>Math.random().toString(16).slice(2,10)).join("")}`;class M6{format(e){return e}}class gr{constructor(){this.operatorMap={gt:"_gt",lt:"_lt",eq:"",in:"_in",not_in:"_not_in",contains:"_contains"}}format(e){const n={};return e.where&&Object.entries(e.where).forEach(([a,i])=>{Object.entries(i).forEach(([o,s])=>{n[`${a}${this.operatorMap[o]}`]=s})}),{...e,where:n}}}class bi{constructor(e){this.args=e}merge(e){const n=Qe.mergeWith(this.args,e.args,(a,i)=>{if(Array.isArray(a))return a.concat(i)});return new bi(n)}format(e){return e.format(this.args)}}const wr=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"address",name:"assetManager",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],internalType:"struct AaveLinearPool.ConstructorArgs",name:"args",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class yy{static createInterface(){return new ue(wr)}static connect(e,n){return new ce(e,wr,n)}}yy.abi=wr;const _r=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"contract IBalancerQueries",name:"queries",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"},{internalType:"uint256",name:"initialPauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"uint256",name:"protocolId",type:"uint256"}],name:"AaveLinearPoolCreated",type:"event"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"protocolId",type:"uint256"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"contract AaveLinearPool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastCreatedPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Kl{static createInterface(){return new ue(_r)}static connect(e,n){return new ce(e,_r,n)}}Kl.abi=_r;const xr=[{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approveVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IStaticATokenLM",name:"staticToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"toUnderlying",type:"bool"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapAaveStaticToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStaticATokenLM",name:"staticToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"fromUnderlying",type:"bool"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapAaveDynamicToken",outputs:[],stateMutability:"payable",type:"function"}];class C6{static createInterface(){return new ue(xr)}static connect(e,n){return new ce(e,xr,n)}}C6.abi=xr;const vr=[{inputs:[{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"actionId",type:"bytes32"},{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"",type:"address"}],name:"canPerform",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address",name:"account",type:"address"}],name:"grantRoles",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address[]",name:"accounts",type:"address[]"}],name:"grantRolesToMany",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address",name:"account",type:"address"}],name:"revokeRoles",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address[]",name:"accounts",type:"address[]"}],name:"revokeRolesFromMany",outputs:[],stateMutability:"nonpayable",type:"function"}];class R6{static createInterface(){return new ue(vr)}static connect(e,n){return new ce(e,vr,n)}}R6.abi=vr;const Pr=[{inputs:[{internalType:"contract IVault",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"}];class my{static createInterface(){return new ue(Pr)}static connect(e,n){return new ce(e,Pr,n)}}my.abi=Pr;const Er=[{inputs:[{internalType:"contract IBalancerTokenAdmin",name:"tokenAdmin",type:"address"},{internalType:"contract IGaugeController",name:"gaugeController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"address",name:"gauge",type:"address"},{indexed:!1,internalType:"uint256",name:"minted",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"bool",name:"approval",type:"bool"}],name:"MinterApprovalSet",type:"event"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"allowed_to_mint_for",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalancerToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalancerTokenAdmin",outputs:[{internalType:"contract IBalancerTokenAdmin",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGaugeController",outputs:[{internalType:"contract IGaugeController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getMinterApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"gauge",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"gauge",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"mintFor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"gauges",type:"address[]"}],name:"mintMany",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"gauges",type:"address[]"},{internalType:"address",name:"user",type:"address"}],name:"mintManyFor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"gauge",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"mint_for",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[8]",name:"gauges",type:"address[8]"}],name:"mint_many",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"gauge",type:"address"}],name:"minted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"bool",name:"approval",type:"bool"}],name:"setMinterApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"bool",name:"approval",type:"bool"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"setMinterApprovalWithSignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"toggle_approve_mint",outputs:[],stateMutability:"nonpayable",type:"function"}];class N6{static createInterface(){return new ue(Er)}static connect(e,n){return new ce(e,Er,n)}}N6.abi=Er;const Sr=[{inputs:[{internalType:"contract IVault",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getAmpForPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getInRecoveryModeForPools",outputs:[{internalType:"bool[]",name:"",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getIsPausedForPools",outputs:[{internalType:"bool[]",name:"",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getLinearTargetsForPools",outputs:[{internalType:"uint256[][]",name:"",type:"uint256[][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getNormalizedWeightsForPools",outputs:[{internalType:"uint256[][]",name:"",type:"uint256[][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"poolIds",type:"bytes32[]"},{components:[{internalType:"bool",name:"loadTokenBalanceUpdatesAfterBlock",type:"bool"},{internalType:"bool",name:"loadTotalSupply",type:"bool"},{internalType:"bool",name:"loadSwapFees",type:"bool"},{internalType:"bool",name:"loadLinearWrappedTokenRates",type:"bool"},{internalType:"bool",name:"loadLinearTargets",type:"bool"},{internalType:"bool",name:"loadNormalizedWeights",type:"bool"},{internalType:"bool",name:"loadScalingFactors",type:"bool"},{internalType:"bool",name:"loadAmps",type:"bool"},{internalType:"bool",name:"loadRates",type:"bool"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum TotalSupplyType[]",name:"totalSupplyTypes",type:"uint8[]"},{internalType:"enum SwapFeeType[]",name:"swapFeeTypes",type:"uint8[]"},{internalType:"uint256[]",name:"linearPoolIdxs",type:"uint256[]"},{internalType:"uint256[]",name:"weightedPoolIdxs",type:"uint256[]"},{internalType:"uint256[]",name:"scalingFactorPoolIdxs",type:"uint256[]"},{internalType:"uint256[]",name:"ampPoolIdxs",type:"uint256[]"},{internalType:"uint256[]",name:"ratePoolIdxs",type:"uint256[]"}],internalType:"struct PoolDataQueryConfig",name:"config",type:"tuple"}],name:"getPoolData",outputs:[{internalType:"uint256[][]",name:"balances",type:"uint256[][]"},{internalType:"uint256[]",name:"totalSupplies",type:"uint256[]"},{internalType:"uint256[]",name:"swapFees",type:"uint256[]"},{internalType:"uint256[]",name:"linearWrappedTokenRates",type:"uint256[]"},{internalType:"uint256[][]",name:"linearTargets",type:"uint256[][]"},{internalType:"uint256[][]",name:"weights",type:"uint256[][]"},{internalType:"uint256[][]",name:"scalingFactors",type:"uint256[][]"},{internalType:"uint256[]",name:"amps",type:"uint256[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"ignoreIdxs",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"poolIds",type:"bytes32[]"},{components:[{internalType:"bool",name:"loadInRecoveryMode",type:"bool"},{internalType:"bool",name:"loadIsPaused",type:"bool"}],internalType:"struct PoolStatusQueryConfig",name:"config",type:"tuple"}],name:"getPoolStatus",outputs:[{internalType:"bool[]",name:"isPaused",type:"bool[]"},{internalType:"bool[]",name:"inRecoveryMode",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"poolIds",type:"bytes32[]"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPoolTokenBalancesWithUpdatesAfterBlock",outputs:[{internalType:"uint256[][]",name:"",type:"uint256[][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getRateForPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getScalingFactorsForPools",outputs:[{internalType:"uint256[][]",name:"",type:"uint256[][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"},{internalType:"enum SwapFeeType[]",name:"swapFeeTypes",type:"uint8[]"}],name:"getSwapFeePercentageForPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"},{internalType:"enum TotalSupplyType[]",name:"totalSupplyTypes",type:"uint8[]"}],name:"getTotalSupplyForPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"poolAddresses",type:"address[]"}],name:"getWrappedTokenRateForLinearPools",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"}];class L6{static createInterface(){return new ue(Sr)}static connect(e,n){return new ce(e,Sr,n)}}L6.abi=Sr;const kr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"address",name:"libraryAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getLibrary",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class Ji{static createInterface(){return new ue(kr)}static connect(e,n){return new ce(e,kr,n)}}Ji.abi=kr;const Ar=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IERC20",name:"wstETH",type:"address"},{internalType:"contract IBalancerMinter",name:"minter",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approveVault",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{components:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"key",type:"uint256"}],internalType:"struct VaultActions.OutputReference[]",name:"outputReferences",type:"tuple[]"}],name:"batchSwap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum VaultActions.PoolKind",name:"kind",type:"uint8"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"},{components:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"key",type:"uint256"}],internalType:"struct VaultActions.OutputReference[]",name:"outputReferences",type:"tuple[]"}],name:"exitPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStakingLiquidityGauge[]",name:"gauges",type:"address[]"}],name:"gaugeClaimRewards",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStakingLiquidityGauge",name:"gauge",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"gaugeDeposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"gauges",type:"address[]"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"gaugeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"approval",type:"bool"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"gaugeSetMinterApproval",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStakingLiquidityGauge",name:"gauge",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"gaugeWithdraw",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getEntrypoint",outputs:[{internalType:"contract IBalancerRelayer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum VaultActions.PoolKind",name:"kind",type:"uint8"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.UserBalanceOpKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct IVault.UserBalanceOp[]",name:"ops",type:"tuple[]"},{internalType:"uint256",name:"value",type:"uint256"}],name:"manageUserBalance",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"ref",type:"uint256"}],name:"peekChainedReferenceValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"relayer",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{internalType:"bytes",name:"authorisation",type:"bytes"}],name:"setRelayerApproval",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"stakeETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"stakeETHAndWrap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStaticATokenLM",name:"staticToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"toUnderlying",type:"bool"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapAaveStaticToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract ICToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapCompoundV2",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC4626",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapERC4626",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IEulerToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapEuler",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IGearboxDieselToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"dieselAmount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapGearbox",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IReaperTokenVault",name:"vaultToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapReaperVaultToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IShareToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapShareToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract ITetuSmartVault",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapTetu",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IUnbuttonToken",name:"wrapperToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapUnbuttonToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapWstETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IYearnTokenVault",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"unwrapYearn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC20Permit",name:"token",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"vaultPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC20PermitDAI",name:"token",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"bool",name:"allowed",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"vaultPermitDAI",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IStaticATokenLM",name:"staticToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"fromUnderlying",type:"bool"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapAaveDynamicToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract ICToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapCompoundV2",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC4626",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapERC4626",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IEulerToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"eulerProtocol",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapEuler",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IGearboxDieselToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"mainAmount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapGearbox",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IReaperTokenVault",name:"vaultToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapReaperVaultToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IShareToken",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapShareToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapStETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract ITetuSmartVault",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapTetu",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IUnbuttonToken",name:"wrapperToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"uAmount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapUnbuttonToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IYearnTokenVault",name:"wrappedToken",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"outputReference",type:"uint256"}],name:"wrapYearn",outputs:[],stateMutability:"payable",type:"function"}];class Zl{static createInterface(){return new ue(Ar)}static connect(e,n){return new ce(e,Ar,n)}}Zl.abi=Ar;const Or=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"uint256[]",name:"tokenRateCacheDurations",type:"uint256[]"},{internalType:"bool[]",name:"exemptFromYieldProtocolFeeFlags",type:"bool[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct ComposableStablePool.NewPoolParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"AmpUpdateStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"currentValue",type:"uint256"}],name:"AmpUpdateStopped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"feeType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"protocolFeePercentage",type:"uint256"}],name:"ProtocolFeePercentageCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"}],name:"TokenRateCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!0,internalType:"contract IRateProvider",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"cacheDuration",type:"uint256"}],name:"TokenRateProviderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DELEGATE_PROTOCOL_SWAP_FEES_SENTINEL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAmplificationParameter",outputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bool",name:"isUpdating",type:"bool"},{internalType:"uint256",name:"precision",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastJoinExitData",outputs:[{internalType:"uint256",name:"lastJoinExitAmplification",type:"uint256"},{internalType:"uint256",name:"lastPostJoinExitInvariant",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinimumBpt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"feeType",type:"uint256"}],name:"getProtocolFeePercentageCache",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolSwapFeeDelegation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRateProviders",outputs:[{internalType:"contract IRateProvider[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"getTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"getTokenRateCache",outputs:[{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"oldRate",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"expires",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"isTokenExemptFromYieldProtocolFee",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"setTokenRateCacheDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"rawEndValue",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"startAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateProtocolFeePercentageCache",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"updateTokenRateCache",outputs:[],stateMutability:"nonpayable",type:"function"}];class by{static createInterface(){return new ue(Or)}static connect(e,n){return new ce(e,Or,n)}}by.abi=Or;const Br=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"uint256[]",name:"tokenRateCacheDurations",type:"uint256[]"},{internalType:"bool[]",name:"exemptFromYieldProtocolFeeFlags",type:"bool[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"contract ComposableStablePool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class So{static createInterface(){return new ue(Br)}static connect(e,n){return new ce(e,Br,n)}}So.abi=Br;const Fr=[{inputs:[{internalType:"contract IERC20",name:"_underlying",type:"address"},{internalType:"contract IERC20",name:"_bond",type:"address"},{internalType:"uint256",name:"_expiration",type:"uint256"},{internalType:"uint256",name:"_unitSeconds",type:"uint256"},{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"uint256",name:"_percentFee",type:"uint256"},{internalType:"uint256",name:"_percentFeeGov",type:"uint256"},{internalType:"address",name:"_governance",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"collectedBase",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collectedBond",type:"uint256"},{indexed:!1,internalType:"uint256",name:"remainingBase",type:"uint256"},{indexed:!1,internalType:"uint256",name:"remainingBond",type:"uint256"}],name:"FeeCollection",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_BOUND",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bond",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bondDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expiration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feesBond",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"feesUnderlying",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"governance",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"increaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"currentBalances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"protocolSwapFee",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"currentBalances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"protocolSwapFee",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256",name:"currentBalanceTokenIn",type:"uint256"},{internalType:"uint256",name:"currentBalanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"percentFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"percentFeeGov",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountX",type:"uint256"},{internalType:"uint256",name:"reserveX",type:"uint256"},{internalType:"uint256",name:"reserveY",type:"uint256"},{internalType:"bool",name:"out",type:"bool"}],name:"solveTradeInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlying",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"unitSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class D6{static createInterface(){return new ue(Fr)}static connect(e,n){return new ce(e,Fr,n)}}D6.abi=Fr;const Mr=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];class fy{static createInterface(){return new ue(Mr)}static connect(e,n){return new ce(e,Mr,n)}}fy.abi=Mr;const Cr=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"address",name:"assetManager",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],internalType:"struct ERC4626LinearPool.ConstructorArgs",name:"args",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Ty{static createInterface(){return new ue(Cr)}static connect(e,n){return new ce(e,Cr,n)}}Ty.abi=Cr;const Rr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"contract IBalancerQueries",name:"queries",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"},{internalType:"uint256",name:"initialPauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"uint256",name:"protocolId",type:"uint256"}],name:"Erc4626LinearPoolCreated",type:"event"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"protocolId",type:"uint256"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"contract LinearPool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastCreatedPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Ql{static createInterface(){return new ue(Rr)}static connect(e,n){return new ce(e,Rr,n)}}Ql.abi=Rr;const Nr=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"address",name:"assetManager",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],internalType:"struct EulerLinearPool.ConstructorArgs",name:"args",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class hy{static createInterface(){return new ue(Nr)}static connect(e,n){return new ce(e,Nr,n)}}hy.abi=Nr;const Lr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"contract IBalancerQueries",name:"queries",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"},{internalType:"uint256",name:"initialPauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"_eulerProtocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"uint256",name:"protocolId",type:"uint256"}],name:"EulerLinearPoolCreated",type:"event"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"protocolId",type:"uint256"}],name:"create",outputs:[{internalType:"contract LinearPool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"eulerProtocol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastCreatedPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class ep{static createInterface(){return new ue(Lr)}static connect(e,n){return new ce(e,Lr,n)}}ep.abi=Lr;const Dr=[{inputs:[{internalType:"address[]",name:"_assetsToRegister",type:"address[]"},{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"uint256",name:"_protocolPercentFee",type:"uint256"},{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"numeraire",type:"address"},{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"uint256",name:"weight",type:"uint256"}],name:"AssetIncluded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"derivative",type:"address"},{indexed:!0,internalType:"address",name:"numeraire",type:"address"},{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"assimilator",type:"address"}],name:"AssimilatorIncluded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newCollector",type:"address"}],name:"ChangeCollectorAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isEmergency",type:"bool"}],name:"EmergencyAlarm",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"lptAmountBurned",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"amountsWithdrawn",type:"uint256[]"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"feesCollected",type:"uint256"}],name:"FeesAccrued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feesCollected",type:"uint256"}],name:"FeesCollected",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"lptAmountBurned",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"amountsWithdrawn",type:"uint256[]"}],name:"OnExitPool",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"lptAmountMinted",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"amountsDeposited",type:"uint256[]"}],name:"OnJoinPool",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"alpha",type:"uint256"},{indexed:!1,internalType:"uint256",name:"beta",type:"uint256"},{indexed:!1,internalType:"uint256",name:"delta",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epsilon",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lambda",type:"uint256"}],name:"ParametersSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"updater",type:"address"},{indexed:!1,internalType:"uint256",name:"newProtocolPercentage",type:"uint256"}],name:"ProtocolFeeShareUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"trader",type:"address"},{indexed:!0,internalType:"address",name:"origin",type:"address"},{indexed:!0,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"uint256",name:"originAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"targetAmount",type:"uint256"}],name:"Trade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_derivative",type:"address"}],name:"assimilator",outputs:[{internalType:"address",name:"assimilator_",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectorAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"curve",outputs:[{internalType:"int128",name:"alpha",type:"int128"},{internalType:"int128",name:"beta",type:"int128"},{internalType:"int128",name:"delta",type:"int128"},{internalType:"int128",name:"epsilon",type:"int128"},{internalType:"int128",name:"lambda",type:"int128"},{internalType:"uint256",name:"cap",type:"uint256"},{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"address",name:"fxPoolAddress",type:"address"},{internalType:"bytes32",name:"poolId",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"derivatives",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergency",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_assets",type:"address[]"},{internalType:"uint256[]",name:"_assetWeights",type:"uint256[]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint256",name:"total_",type:"uint256"},{internalType:"uint256[]",name:"individual_",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"numeraires",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocolPercentFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"reserves",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_cap",type:"uint256"}],name:"setCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collectorAddress",type:"address"}],name:"setCollectorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_emergency",type:"bool"}],name:"setEmergency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_alpha",type:"uint256"},{internalType:"uint256",name:"_beta",type:"uint256"},{internalType:"uint256",name:"_feeAtHalt",type:"uint256"},{internalType:"uint256",name:"_epsilon",type:"uint256"},{internalType:"uint256",name:"_lambda",type:"uint256"}],name:"setParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_protocolPercentFee",type:"uint256"}],name:"setProtocolPercentFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnclaimedFeesInNumeraire",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"totalDepositNumeraire",type:"uint256"}],name:"viewDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"viewParameters",outputs:[{internalType:"uint256",name:"alpha_",type:"uint256"},{internalType:"uint256",name:"beta_",type:"uint256"},{internalType:"uint256",name:"delta_",type:"uint256"},{internalType:"uint256",name:"epsilon_",type:"uint256"},{internalType:"uint256",name:"lambda_",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_curvesToBurn",type:"uint256"}],name:"viewWithdraw",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"}];class U6{static createInterface(){return new ue(Dr)}static connect(e,n){return new ce(e,Dr,n)}}U6.abi=Dr;const Ur=[{inputs:[],name:"CLAIM_FREQUENCY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IRewardsOnlyGauge",name:"gauge",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"claimRewardsFromGauge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IRewardsOnlyGauge[]",name:"gauges",type:"address[]"},{internalType:"address",name:"user",type:"address"}],name:"claimRewardsFromGauges",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IRewardsOnlyGauge",name:"gauge",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"getPendingRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class Iy{static createInterface(){return new ue(Ur)}static connect(e,n){return new ce(e,Ur,n)}}Iy.abi=Ur;const qr=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"address",name:"assetManager",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],internalType:"struct GearboxLinearPool.ConstructorArgs",name:"args",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class gy{static createInterface(){return new ue(qr)}static connect(e,n){return new ce(e,qr,n)}}gy.abi=qr;const Vr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"contract IBalancerQueries",name:"queries",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"},{internalType:"uint256",name:"initialPauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"uint256",name:"protocolId",type:"uint256"}],name:"GearboxLinearPoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"protocolId",type:"uint256"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"contract GearboxLinearPool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastCreatedPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class tp{static createInterface(){return new ue(Vr)}static connect(e,n){return new ce(e,Vr,n)}}tp.abi=Vr;const Wr=[{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"key",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"previousValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"ConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"key",type:"bytes32"}],name:"ConfigFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"key",type:"bytes32"}],name:"ConfigUnset",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newGovernor",type:"address"}],name:"GovernorChangeRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldGovernor",type:"address"},{indexed:!1,internalType:"address",name:"newGovernor",type:"address"}],name:"GovernorChanged",type:"event"},{inputs:[],name:"acceptGovernance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newGovernor",type:"address"}],name:"changeGovernor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"freeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"address",name:"defaultValue",type:"address"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"getConfigMeta",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"getUint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"governor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"hasKey",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_governor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"listKeys",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingGovernor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"address",name:"newValue",type:"address"}],name:"setAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"uint256",name:"newValue",type:"uint256"}],name:"setUint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"unset",outputs:[],stateMutability:"nonpayable",type:"function"}];class ko{static createInterface(){return new ue(Wr)}static connect(e,n){return new ce(e,Wr,n)}}ko.abi=Wr;const Gr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IwstETH",name:"wstETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"batchSwap",outputs:[{internalType:"int256[]",name:"swapAmounts",type:"int256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"exitPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getStETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWstETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"swapAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class wy{static createInterface(){return new ue(Gr)}static connect(e,n){return new ce(e,Gr,n)}}wy.abi=Gr;const Hr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class q6{static createInterface(){return new ue(Hr)}static connect(e,n){return new ce(e,Hr,n)}}q6.abi=Hr;const $r=[{name:"Deposit",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Withdraw",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"UpdateLiquidityLimit",inputs:[{name:"user",type:"address",indexed:!0},{name:"original_balance",type:"uint256",indexed:!1},{name:"original_supply",type:"uint256",indexed:!1},{name:"working_balance",type:"uint256",indexed:!1},{name:"working_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_spender",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"minter",type:"address"},{name:"veBoostProxy",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"},{name:"_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"},{name:"_addr",type:"address"},{name:"_claim_rewards",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[{name:"_value",type:"uint256"},{name:"_claim_rewards",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[{name:"_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[{name:"_addr",type:"address"},{name:"_receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"transferFrom",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"transfer",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"approve",inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"permit",inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_deadline",type:"uint256"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"increaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_added_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"decreaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_subtracted_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"user_checkpoint",inputs:[{name:"addr",type:"address"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"set_rewards_receiver",inputs:[{name:"_receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"kick",inputs:[{name:"addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit_reward_token",inputs:[{name:"_reward_token",type:"address"},{name:"_amount",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"add_reward",inputs:[{name:"_reward_token",type:"address"},{name:"_distributor",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_reward_distributor",inputs:[{name:"_reward_token",type:"address"},{name:"_distributor",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_killed",inputs:[{name:"_is_killed",type:"bool"}],outputs:[]},{stateMutability:"view",type:"function",name:"claimed_reward",inputs:[{name:"_addr",type:"address"},{name:"_token",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"claimable_reward",inputs:[{name:"_user",type:"address"},{name:"_reward_token",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"claimable_reward_write",inputs:[{name:"_addr",type:"address"},{name:"_token",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"claimable_tokens",inputs:[{name:"addr",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_checkpoint",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_epoch_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"inflation_rate",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"version",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"allowance",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"initialize",inputs:[{name:"_lp_token",type:"address"}],outputs:[]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32"}]},{stateMutability:"view",type:"function",name:"nonces",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"lp_token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"is_killed",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"reward_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"reward_data",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"tuple",components:[{name:"token",type:"address"},{name:"distributor",type:"address"},{name:"period_finish",type:"uint256"},{name:"rate",type:"uint256"},{name:"last_update",type:"uint256"},{name:"integral",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"rewards_receiver",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"reward_integral_for",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"working_balances",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"working_supply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_inv_supply_of",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_checkpoint_of",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_fraction",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"period",inputs:[],outputs:[{name:"",type:"int128"}]},{stateMutability:"view",type:"function",name:"reward_tokens",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"period_timestamp",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_inv_supply",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}];class _y{static createInterface(){return new ue($r)}static connect(e,n){return new ce(e,$r,n)}}_y.abi=$r;const jr=[{constant:!1,inputs:[{components:[{name:"target",type:"address"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}],payable:!1,stateMutability:"nonpayable",type:"function"}];class xy{static createInterface(){return new ue(jr)}static connect(e,n){return new ce(e,jr,n)}}xy.abi=jr;const zr=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3[]",name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3Value[]",name:"calls",type:"tuple[]"}],name:"aggregate3Value",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBasefee",outputs:[{internalType:"uint256",name:"basefee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"chainid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}];class vy{static createInterface(){return new ue(zr)}static connect(e,n){return new ce(e,zr,n)}}vy.abi=zr;const Xr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"AmpUpdateStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"currentValue",type:"uint256"}],name:"AmpUpdateStopped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAmplificationParameter",outputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bool",name:"isUpdating",type:"bool"},{internalType:"uint256",name:"precision",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"rawEndValue",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"startAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class V6{static createInterface(){return new ue(Xr)}static connect(e,n){return new ce(e,Xr,n)}}V6.abi=Xr;const Jr=[{inputs:[{internalType:"contract IStaticAToken",name:"_waToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"waToken",outputs:[{internalType:"contract IStaticAToken",name:"",type:"address"}],stateMutability:"view",type:"function"}];class W6{static createInterface(){return new ue(Jr)}static connect(e,n){return new ce(e,Jr,n)}}W6.abi=Jr;const Yr=[{inputs:[{internalType:"contract IAuthorizer",name:"authorizer",type:"address"},{internalType:"contract IWETH",name:"weth",type:"address"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"AuthorizerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ExternalBalanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"}],name:"InternalBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"liquidityProvider",type:"address"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"int256[]",name:"deltas",type:"int256[]"},{indexed:!1,internalType:"uint256[]",name:"protocolFeeAmounts",type:"uint256[]"}],name:"PoolBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"assetManager",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"cashDelta",type:"int256"},{indexed:!1,internalType:"int256",name:"managedDelta",type:"int256"}],name:"PoolBalanceManaged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"poolAddress",type:"address"},{indexed:!1,internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"relayer",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"RelayerApprovalChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"contract IERC20",name:"tokenIn",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"TokensDeregistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"TokensRegistered",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"batchSwap",outputs:[{internalType:"int256[]",name:"assetDeltas",type:"int256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"deregisterTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"exitPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"getInternalBalance",outputs:[{internalType:"uint256[]",name:"balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPool",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"enum IVault.PoolSpecialization",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"}],name:"getPoolTokenInfo",outputs:[{internalType:"uint256",name:"cash",type:"uint256"},{internalType:"uint256",name:"managed",type:"uint256"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"assetManager",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPoolTokens",outputs:[{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract ProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"relayer",type:"address"}],name:"hasApprovedRelayer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.PoolBalanceOpKind",name:"kind",type:"uint8"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct IVault.PoolBalanceOp[]",name:"ops",type:"tuple[]"}],name:"managePoolBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.UserBalanceOpKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct IVault.UserBalanceOp[]",name:"ops",type:"tuple[]"}],name:"manageUserBalance",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"}],name:"queryBatchSwap",outputs:[{internalType:"int256[]",name:"",type:"int256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"registerPool",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"registerTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"setAuthorizer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"relayer",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setRelayerApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"amountCalculated",type:"uint256"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class kt{static createInterface(){return new ue(Yr)}static connect(e,n){return new ce(e,Yr,n)}}kt.abi=Yr;const Kr=[{inputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"normalizedWeights",type:"uint256[]"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"address[]",name:"assetManagers",type:"address[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],internalType:"struct WeightedPool.NewPoolParams",name:"params",type:"tuple"},{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"feeType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"protocolFeePercentage",type:"uint256"}],name:"ProtocolFeePercentageCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DELEGATE_PROTOCOL_SWAP_FEES_SENTINEL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getATHRateProduct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastPostJoinExitInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"feeType",type:"uint256"}],name:"getProtocolFeePercentageCache",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolSwapFeeDelegation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRateProviders",outputs:[{internalType:"contract IRateProvider[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateProtocolFeePercentageCache",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Py{static createInterface(){return new ue(Kr)}static connect(e,n){return new ce(e,Kr,n)}}Py.abi=Kr;const Zr=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"normalizedWeights",type:"uint256[]"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Ao{static createInterface(){return new ue(Zr)}static connect(e,n){return new ce(e,Zr,n)}}Ao.abi=Zr;const Qr=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"address",name:"assetManager",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"version",type:"string"}],internalType:"struct YearnLinearPool.ConstructorArgs",name:"args",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"RecoveryModeStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"lowerTarget",type:"uint256"},{indexed:!1,internalType:"uint256",name:"upperTarget",type:"uint256"}],name:"TargetsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableRecoveryMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBptIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMainToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract IProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTargets",outputs:[{internalType:"uint256",name:"lowerTarget",type:"uint256"},{internalType:"uint256",name:"upperTarget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWrappedTokenRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFees",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newLowerTarget",type:"uint256"},{internalType:"uint256",name:"newUpperTarget",type:"uint256"}],name:"setTargets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class Ey{static createInterface(){return new ue(Qr)}static connect(e,n){return new ce(e,Qr,n)}}Ey.abi=Qr;const el=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IProtocolFeePercentagesProvider",name:"protocolFeeProvider",type:"address"},{internalType:"contract IBalancerQueries",name:"queries",type:"address"},{internalType:"string",name:"factoryVersion",type:"string"},{internalType:"string",name:"poolVersion",type:"string"},{internalType:"uint256",name:"initialPauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"FactoryDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"uint256",name:"protocolId",type:"uint256"}],name:"YearnLinearPoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"mainToken",type:"address"},{internalType:"contract IERC20",name:"wrappedToken",type:"address"},{internalType:"uint256",name:"upperTarget",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"protocolId",type:"uint256"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"create",outputs:[{internalType:"contract LinearPool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastCreatedPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeePercentagesProvider",outputs:[{internalType:"contract IProtocolFeePercentagesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDisabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class np{static createInterface(){return new ue(el)}static connect(e,n){return new ce(e,el,n)}}np.abi=el;const tl=[{inputs:[{components:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"token0",type:"address"},{internalType:"contract IERC20",name:"token1",type:"address"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct ExtensibleWeightedPool2Tokens.NewPoolParams",name:"baseParams",type:"tuple"},{components:[{internalType:"int256",name:"alpha",type:"int256"},{internalType:"int256",name:"beta",type:"int256"},{internalType:"int256",name:"c",type:"int256"},{internalType:"int256",name:"s",type:"int256"},{internalType:"int256",name:"lambda",type:"int256"}],internalType:"struct GyroECLPMath.Params",name:"eclpParams",type:"tuple"},{components:[{components:[{internalType:"int256",name:"x",type:"int256"},{internalType:"int256",name:"y",type:"int256"}],internalType:"struct GyroECLPMath.Vector2",name:"tauAlpha",type:"tuple"},{components:[{internalType:"int256",name:"x",type:"int256"},{internalType:"int256",name:"y",type:"int256"}],internalType:"struct GyroECLPMath.Vector2",name:"tauBeta",type:"tuple"},{internalType:"int256",name:"u",type:"int256"},{internalType:"int256",name:"v",type:"int256"},{internalType:"int256",name:"w",type:"int256"},{internalType:"int256",name:"z",type:"int256"},{internalType:"int256",name:"dSq",type:"int256"}],internalType:"struct GyroECLPMath.DerivedParams",name:"derivedEclpParams",type:"tuple"},{internalType:"address",name:"rateProvider0",type:"address"},{internalType:"address",name:"rateProvider1",type:"address"},{internalType:"address",name:"capManager",type:"address"},{components:[{internalType:"bool",name:"capEnabled",type:"bool"},{internalType:"uint120",name:"perAddressCap",type:"uint120"},{internalType:"uint128",name:"globalCap",type:"uint128"}],internalType:"struct ICappedLiquidity.CapParams",name:"capParams",type:"tuple"},{internalType:"address",name:"pauseManager",type:"address"}],internalType:"struct GyroECLPPool.GyroParams",name:"params",type:"tuple"},{internalType:"address",name:"configAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"capManager",type:"address"}],name:"CapManagerUpdated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"bool",name:"capEnabled",type:"bool"},{internalType:"uint120",name:"perAddressCap",type:"uint120"},{internalType:"uint128",name:"globalCap",type:"uint128"}],indexed:!1,internalType:"struct ICappedLiquidity.CapParams",name:"params",type:"tuple"}],name:"CapParamsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"derivedParamsValidated",type:"bool"}],name:"ECLPDerivedParamsValidated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paramsValidated",type:"bool"}],name:"ECLPParamsValidated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"invariantAfterJoin",type:"uint256"}],name:"InvariantAterInitializeJoin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldInvariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newInvariant",type:"uint256"}],name:"InvariantOldAndNew",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"OracleEnabledChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oracleUpdatedIndex",type:"uint256"}],name:"OracleIndexUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldPauseManager",type:"address"},{indexed:!1,internalType:"address",name:"newPauseManager",type:"address"}],name:"PauseManagerChanged",type:"event"},{anonymous:!1,inputs:[],name:"PausedLocally",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[]",name:"balances",type:"uint256[]"},{components:[{internalType:"int256",name:"x",type:"int256"},{internalType:"int256",name:"y",type:"int256"}],indexed:!1,internalType:"struct GyroECLPMath.Vector2",name:"invariant",type:"tuple"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"SwapParams",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"UnpausedLocally",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_dSq",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_paramsAlpha",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_paramsBeta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_paramsC",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_paramsLambda",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_paramsS",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_tauAlphaX",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_tauAlphaY",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_tauBetaX",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_tauBetaY",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_u",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_v",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_w",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_z",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"capManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"capParams",outputs:[{components:[{internalType:"bool",name:"capEnabled",type:"bool"},{internalType:"uint120",name:"perAddressCap",type:"uint120"},{internalType:"uint128",name:"globalCap",type:"uint128"}],internalType:"struct ICappedLiquidity.CapParams",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pauseManager",type:"address"}],name:"changePauseManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startIndex",type:"uint256"},{internalType:"uint256",name:"endIndex",type:"uint256"}],name:"dirtyUninitializedOracleSamples",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getECLPParams",outputs:[{components:[{internalType:"int256",name:"alpha",type:"int256"},{internalType:"int256",name:"beta",type:"int256"},{internalType:"int256",name:"c",type:"int256"},{internalType:"int256",name:"s",type:"int256"},{internalType:"int256",name:"lambda",type:"int256"}],internalType:"struct GyroECLPMath.Params",name:"params",type:"tuple"},{components:[{components:[{internalType:"int256",name:"x",type:"int256"},{internalType:"int256",name:"y",type:"int256"}],internalType:"struct GyroECLPMath.Vector2",name:"tauAlpha",type:"tuple"},{components:[{internalType:"int256",name:"x",type:"int256"},{internalType:"int256",name:"y",type:"int256"}],internalType:"struct GyroECLPMath.Vector2",name:"tauBeta",type:"tuple"},{internalType:"int256",name:"u",type:"int256"},{internalType:"int256",name:"v",type:"int256"},{internalType:"int256",name:"w",type:"int256"},{internalType:"int256",name:"z",type:"int256"},{internalType:"int256",name:"dSq",type:"int256"}],internalType:"struct GyroECLPMath.DerivedParams",name:"d",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLargestSafeQueryWindow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"}],name:"getLatest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMiscData",outputs:[{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"logTotalSupply",type:"int256"},{internalType:"uint256",name:"oracleSampleCreationTimestamp",type:"uint256"},{internalType:"uint256",name:"oracleIndex",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAccumulatorQuery[]",name:"queries",type:"tuple[]"}],name:"getPastAccumulators",outputs:[{internalType:"int256[]",name:"results",type:"int256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPrice",outputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getSample",outputs:[{internalType:"int256",name:"logPairPrice",type:"int256"},{internalType:"int256",name:"accLogPairPrice",type:"int256"},{internalType:"int256",name:"logBptPrice",type:"int256"},{internalType:"int256",name:"accLogBptPrice",type:"int256"},{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"accLogInvariant",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"secs",type:"uint256"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAverageQuery[]",name:"queries",type:"tuple[]"}],name:"getTimeWeightedAverage",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenRates",outputs:[{internalType:"uint256",name:"rate0",type:"uint256"},{internalType:"uint256",name:"rate1",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalSamples",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"gyroConfig",outputs:[{internalType:"contract IGyroConfig",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"rateProvider0",outputs:[{internalType:"contract IRateProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rateProvider1",outputs:[{internalType:"contract IRateProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_capManager",type:"address"}],name:"setCapManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"capEnabled",type:"bool"},{internalType:"uint120",name:"perAddressCap",type:"uint120"},{internalType:"uint128",name:"globalCap",type:"uint128"}],internalType:"struct ICappedLiquidity.CapParams",name:"params",type:"tuple"}],name:"setCapParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}];class G6{static createInterface(){return new ue(tl)}static connect(e,n){return new ce(e,tl,n)}}G6.abi=tl;const nl=[{name:"Deposit",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1},{name:"locktime",type:"uint256",indexed:!0},{name:"type",type:"int128",indexed:!1},{name:"ts",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Withdraw",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1},{name:"ts",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Supply",inputs:[{name:"prevSupply",type:"uint256",indexed:!1},{name:"supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"token_addr",type:"address"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_authorizer_adaptor",type:"address"}],outputs:[]},{stateMutability:"view",type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"nonpayable",type:"function",name:"commit_smart_wallet_checker",inputs:[{name:"addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_smart_wallet_checker",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"get_last_user_slope",inputs:[{name:"addr",type:"address"}],outputs:[{name:"",type:"int128"}]},{stateMutability:"view",type:"function",name:"user_point_history__ts",inputs:[{name:"_addr",type:"address"},{name:"_idx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"locked__end",inputs:[{name:"_addr",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"checkpoint",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit_for",inputs:[{name:"_addr",type:"address"},{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"create_lock",inputs:[{name:"_value",type:"uint256"},{name:"_unlock_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"increase_amount",inputs:[{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"increase_unlock_time",inputs:[{name:"_unlock_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"addr",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"addr",type:"address"},{name:"_t",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balanceOfAt",inputs:[{name:"addr",type:"address"},{name:"_block",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[{name:"t",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupplyAt",inputs:[{name:"_block",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"supply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"locked",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"tuple",components:[{name:"amount",type:"int128"},{name:"end",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"epoch",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"point_history",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"bias",type:"int128"},{name:"slope",type:"int128"},{name:"ts",type:"uint256"},{name:"blk",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"user_point_history",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"bias",type:"int128"},{name:"slope",type:"int128"},{name:"ts",type:"uint256"},{name:"blk",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"user_point_epoch",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"slope_changes",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"int128"}]},{stateMutability:"view",type:"function",name:"future_smart_wallet_checker",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"smart_wallet_checker",inputs:[],outputs:[{name:"",type:"address"}]}];class Sy{static createInterface(){return new ue(nl)}static connect(e,n){return new ce(e,nl,n)}}Sy.abi=nl;const al=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IERC20",name:"votingEscrow",type:"address"},{internalType:"contract IVeDelegation",name:"delegation",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newImplementation",type:"address"}],name:"DelegationImplementationUpdated",type:"event"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"adjustedBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"adjusted_balance_of",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelegationImplementation",outputs:[{internalType:"contract IVeDelegation",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingEscrow",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"killDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IVeDelegation",name:"delegation",type:"address"}],name:"setDelegation",outputs:[],stateMutability:"nonpayable",type:"function"}];class ky{static createInterface(){return new ue(al)}static connect(e,n){return new ce(e,al,n)}}ky.abi=al;var Ce;function H6(t,e,n,a,i,o){const s=new Array(i.length).fill(ae);return i.forEach((r,l)=>{if(t.some(p=>it(r,p))){const p=S.from(o).add(R);s[l]=n===Ce.SwapExactOut?s[l].add(S.from(a[l]).mul(p).div(R)):s[l].add(a[l])}if(e.some(p=>it(r,p))){const p=R.sub(S.from(o));s[l]=n===Ce.SwapExactIn?s[l].add(S.from(a[l]).mul(p).div(R)):s[l].add(a[l])}}),s}(function(t){t[t.SwapExactIn=0]="SwapExactIn",t[t.SwapExactOut=1]="SwapExactOut"})(Ce||(Ce={}));var Ee={1:{contracts:{aaveLinearPoolFactory:"0x0b576c1245f479506e7c8bbc4db4db07c1cd31f9",arbitrumRootGauge:"0x6337949cbc4825bbd09242c811770f6f6fee9ffc",arbitrumRootGaugeFactory:"0x1c99324edc771c82a0dccb780cc7dda0045e50e7",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x8f42adbba1b16eaae3bb5754915e0d06059add75",authorizerAdaptorEntrypoint:"0xf5decdb1f3d1ee384908fbe16d2f0348ae43a9ea",authorizerWithAdaptorValidation:"0x6048a8c631fb7e77eca533cf9c29784e482391e7",avalancheRootGauge:"0xc57b4be50bf6bbe5f6a4fe379da342b32b37bf2f",avalancheRootGaugeFactory:"0x10f3e79911a490aa5b5d5cda6f111029c4eab5ac",bal:"0xba100000625a3754423978a60c9317c58a424e3d",balancerHelpers:"0x5addcca35b7a0d07c74063c48700c8590e87864e",balancerMinter:"0x239e55f427d44c3cc793f49bfb507ebe76638a2b",balancerQueries:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",balancerRelayer:"0xfea793aa415061c483d2390414275ad314b3f621",balancerTokenAdmin:"0xf302f9f50958c5593770fdf4d4812309ff77414f",balTokenHolderFactory:"0xb848f50141f3d4255b37ac288c25c109104f2158",batchRelayerLibrary:"0xf77018c0d817da22cadbdf504c00c0d32ce1e5c2",circuitBreakerLib:"0x4967b3353cdf9e5c67421a3890d35f2f3bb50527",composableStablePoolFactory:"0xfada0f4547ab2de89d1304a668c39b3e09aa7c76",distributionScheduler:"0xbd35248f8325dd1cb2bbf9d01e80a6bb99a792dd",doubleEntrypointFixRelayer:"0xca96c4f198d343e251b1a01f3eba061ef3da73c1",erc4626LinearPoolFactory:"0x813ee7a840ce909e7fea2117a44a90b8063bd4fd",eulerLinearPoolFactory:"0x5f43fba61f63fa6bff101a0a0458cea917f6b347",externalWeightedMath:"0x3db89f0ca3b388f2bcdbccd2ff8e13c22459cf75",feeDistributor:"0xd3cf852898b21fc233251427c2dc93d3d604f3bb",gaugeAdder:"0x5dbad78818d4c8958eff2d5b95b28385a22113cd",gaugeController:"0xc128468b7ce63ea702c1f104d55a2566b13d3abd",gaugeWorkingBalanceHelper:"0xdab2583911e872a00a851fb80dcc78a4b46ba57c",gearboxLinearPoolFactory:"0x39a79eb449fc05c92c39aa6f0e9bfac03be8de5b",gnosisRootGauge:"0x05277ce7d1e365d660624612d8b8b9b55bfd4518",gnosisRootGaugeFactory:"0x2a18b396829bc29f66a1e59fadd7a0269a6605e8",l2GaugeCheckpointer:"0x343688c5cb92115a52ca485af7f62b4b7a2e9ccc",liquidityGaugeFactory:"0xf1665e19bc105be4edd3739f88315cc699cc5b65",liquidityGaugeV5:"0xe5f96070ca00cd54795416b1a4b4c2403231c548",managedPoolAddRemoveTokenLib:"0x4148bf5b0688ed0a87f317c6534cb841f503349e",managedPoolAmmLib:"0xb37646acbb1a91287721b2cdbe01ba0dba5e57a2",managedPoolFactory:"0xbf904f9f340745b4f0c4702c7b6ab1e808ea6b93",merkleOrchard:"0xe3881627b8deebccf9c23b291430a549fc0be5f7",mockAaveLendingPool:"0x28fa1e40011adf98898e8243b2a48bb21ebf0c29",mockAaveLinearPool:"0x4ce277df0feb5b4d07a0ca2adcf5326e4005239d",mockComposableStablePool:"0x5537f945d8c3fcfdc1b8deceebd220fad26afda8",mockErc4626LinearPool:"0x9516a2d25958edb8da246a320f2c7d94a0dbe25d",mockErc4626Token:"0xb99edc4b289b0f2284fcf3f66884191bdce29624",mockEulerLinearPool:"0xdec02e6642e2c999af429f5ce944653cad15e093",mockEulerToken:"0xc101dca301a4011c1f925e9622e749e550a1b667",mockGearboxDieselToken:"0xb7a32b67aadb3866cc5c2fabc6c6ab8a9027c3c1",mockGearboxLinearPool:"0x0d05aac44ac7dd3c7ba5d50be93eb884a057d234",mockGearboxVault:"0xc7b779ab638b7a59f490ac95199502343a81e006",mockManagedPool:"0xd0cbf6765997b7ca7be6440f5e305b2ec7b96065",mockShareToken:"0x192e67544694a7baa2dea94f9b1df58bb3395a12",mockSilo:"0x66c94ae8d795e98f69ca65ffac87b38b17be3ca2",mockSiloLinearPool:"0x74cbfaf94a3577c539a9dcee9870a6349a33b34f",mockSiloRepository:"0x8e2dfc5e111dbe14e9d725210b9342688dd51c6c",mockStaticAToken:"0x1f3c910c416ed2340150281c5eb93325c38817a1",mockWeightedPool:"0x8055b8c947de30130bc1ec750c8f345a50006b23",mockYearnLinearPool:"0xac5b4ef7ede2f2843a704e96dcaa637f4ba3dc3f",mockYearnTokenVault:"0x806e02dea8d4a0882cad9fa3fa75b212328692de",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x0f3e0c4218b7b0108a3643cfe9d3ec0d4f57c54e",omniVotingEscrowAdaptor:"0x96484f2abf5e58b15176dbf1a799627b53f13b6d",optimismRootGauge:"0xbc230b1a66a138cd9cfc7b352390025978dfadde",optimismRootGaugeFactory:"0x866d4b65694c66fbfd15dd6fa933d0a6b3940a36",polygonRootGauge:"0xfeb1a24c2752e53576133cdb718f25bc64ebdd52",polygonRootGaugeFactory:"0xa98bce70c92ad2ef3288dbcd659bc0d6b62f8f13",polygonZkEvmRootGauge:"0x45bf48d996d22afc9bc150df7fb4d13a49088602",polygonZkEvmRootGaugeFactory:"0x9bf951848288ccd87d06fac426150262cd3447de",poolRecoveryHelper:"0x1b300c86980a5195bcf49bd419a068d98dc133db",preseededVotingEscrowDelegation:"0xb496ff44746a8693a060fafd984da41b253f6790",protocolFeePercentagesProvider:"0x97207b095e4d5c9a6e4cfbfcd2c3358e03b90c4a",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x5ef4c5352882b10893b70dbcaa0c000965bd23c5",protocolIdRegistry:"0xc3ccace87f6d3a81724075adcb5ddd85a8a1bb68",recoveryModeHelper:"0x7827108af2fd9910ea7cf361d9b827941fa7d809",siloLinearPoolFactory:"0x4e11aeec21baf1660b1a46472963cb3da7811c89",singleRecipientGauge:"0xb2007b8b7e0260042517f635cfd8e6dd2dd7f007",singleRecipientGaugeFactory:"0x4fb47126fa83a8734991e41b942ac29a3266c968",smartWalletChecker:"0x7869296efd0a76872fee62a058c8fbca5c1c826c",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0x67f8df125b796b05895a6dc8ecf944b9556ecb0b",votingEscrow:"0xc128a9954e6c874ea3d62ce62b468ba073093f25",votingEscrowDelegation:"0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647",votingEscrowDelegationProxy:"0x6f5a2ee11e7a772aeb5114a20d0d7c0ff61eb8a0",votingEscrowRemapper:"0x83e443ef4f9963c77bd860f94500075556668cb8",weightedPoolFactory:"0x897888115ada5773e02aa29f775430bfb5f34c51",weth:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",wstEthRateProvider:"0x72d07d7dca67b8a406ad1ec34ce969c90bfee768",yearnLinearPoolFactory:"0x5f5222ffa40f2aed6380d022184d6ea67c776ee0"},tokens:{AAVE:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",aFEI:"0x683923db55fead99a79fa01a27eec3cb19679cc3",aFRAX:"0xd4937682df3c8aef4fe912a96a74121c0829e664",ALCX:"0xdbdb4d16eda451d0503b854cf79d55697f90c8df",alUSD:"0xbc6da0fe9ad5f3b0d58160288917aa56653660e9",ANGLE:"0x31429d1856ad1377a8a0079410b297e1a9e214c2",AURA:"0xc0c293ce456ff0ed870add98a0828dd4d2903dbf",AURABAL:"0x616e8bfa43f920657b3497dbf40d6b1a02d4608d",aUSDC:"0xbcca60bb61934080951369a648fb03df4f96263c",aUSDT:"0x3ed3b47dd13ec9a98b44e6204a523e766b225811",aWBTC:"0x9ff58f4ffb29fa2266ab25e75e2a8b3503311656",BADGER:"0x3472a5a71965499acd81997a54bba8d852c6e53d",BAL:"0xba100000625a3754423978a60c9317c58a424e3d",BalWeth8020:"0x5c6ee304399dbdb9c8ef030ab642b10820db8f56",bb_a_usd:"0xa13a9247ea42d743238089903570127dda72fe44",cDAI:"0x5d3a536e4d6dbd6114cc1ead35777bab948e3643",cETH:"0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5",COMP:"0xc00e94cb662c3520282e6f5717214004a7f26888",CRV:"0xd533a949740bb3306d119cc777fa900ba034cd52",cUSDC:"0x39aa39c021dfbae8fac545936693ac917d5e7563",CVX:"0x4e3fbd56cd56c3e72c1403e103b45db9da5b9d2b",cvxCRV:"0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",DAI:"0x6b175474e89094c44da98b954eedeac495271d0f",DIGG:"0x798d1be841a82a273720ce31c822c61a67a601c3",DUSD:"0x5bc25f649fc4e26069ddf4cf4010f9f706c23831",ENS:"0xc18360217d8f7ab5e7c516566761ea12ce7f9d72",EURS:"0xdb25f211ab05b1c97d595516f45794528a807ad8",FARM:"0xa0246c9032bc3a600820415ae600c6388619a14d",FEI:"0x956f47f50a910163d8bf957cf5846d573e7f87ca",FRAX:"0x853d955acef822db058eb8505911ed77f175b99e",FTM:"0x4e15361fd6b4bb609fa63c81a2be19d873717870",FXS:"0x3432b6a60d23ca0dfca7761b7ab56459d9c964d0",GEAR:"0xba3335588d9403515223f109edc4eb7269a9ab5d",GTC:"0xde30da39c46104798bb5aa3fe8b9e0e1f348163f",LINK:"0x514910771af9ca656af840dff83e8264ecf986ca",MIM:"0x99d8a9c45b2eca8864373a26d1459e3dff1e17f3",renBTC:"0xeb4c2781e4eba804ce9a9803c67d0893436bb27d",RETH:"0xae78736cd615f374d3085123a210448e74fc6393",sBTC:"0xfe18be6b3bd88a2d2a7f928d00292e7a9963cfc6",SPELL:"0x090185f2135308bad17527004364ebcc2d37e5f6",stkAAVE:"0x4da27a545c0c5b758a6ba100e3a049001de870f5",SUSHI:"0x6b3595068778dd592e39a122f4f5a5cf09c90fe2",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7",WBTC:"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",xSUSHI:"0x8798249c2e607446efb7ad49ec89dd1865ff4272"}},4:{contracts:{authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",balancerHelpers:"0x5addcca35b7a0d07c74063c48700c8590e87864e",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x41b953164995c11c81da73d212ed8af25741b7ac",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8"},tokens:{}},5:{contracts:{authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x5d90225de345ee24d1d2b6f45de90b056f5265a1",authorizerAdaptorEntrypoint:"0xacaac3e6d6df918bf3c809dfc7d42de0e4a72d4c",authorizerWithAdaptorValidation:"0x8ea89804145c007e7d226001a96955ad53836087",bal:"0xfa8449189744799ad2ace7e0ebac8bb7575eff47",balancerHelpers:"0x5addcca35b7a0d07c74063c48700c8590e87864e",balancerMinter:"0xdf0399539a72e2689b8b2dd53c3c2a0883879fdd",balancerQueries:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",balancerRelayer:"0x03f1ab8b19bce21eb06c364aec9e40322572a1e9",balancerTokenAdmin:"0x0f32d7d830e20809bcb9071581a696135dd472b7",balTokenHolderFactory:"0x45e617b07021b97407367624648d1a0a358a751a",batchRelayerLibrary:"0x45ffd460cc6642b8d8fb12373dfd77ceb0f4932b",childChainGauge:"0x6b5da774890db7b7b96c6f44e6a4b0f657399e2e",childChainGaugeFactory:"0x7ba29fe8e83dd6097a7298075c4affdbda3121cc",childChainGaugeRewardHelper:"0xc128a9954e6c874ea3d62ce62b468ba073093f25",childChainGaugeTokenAdder:"0x55b18f514d7f0c6c886d0c23ac72df5d3b5f8850",childChainLiquidityGaugeFactory:"0x393b918cc2ffa238732e83dd4ee52343f57d767b",childChainStreamer:"0x5b5b72d76b68f4bb1d2a10ef0fc77711f8ec7ed0",circuitBreakerLib:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",composableStablePoolFactory:"0x1802953277fd955f9a254b80aa0582f193cf1d77",distributionScheduler:"0x05a0bf0540f346b6dac25550738343beb51c0f65",doubleEntrypointFixRelayer:"0xbe9458ab5b6f289e524410141c8d5e20a6b035fe",eulerLinearPoolFactory:"0x813ee7a840ce909e7fea2117a44a90b8063bd4fd",externalWeightedMath:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",feeDistributor:"0x42b67611b208e2e9b4cc975f6d74c87b865ae066",gaugeAdder:"0x3f170631ed9821ca51a59d996ab095162438dc10",gaugeController:"0xbb1ce49b16d55a1f2c6e88102f32144c7334b116",gaugeWorkingBalanceHelper:"0xa7d524046ef89de9f8e4f2d7b029f66ccb738d48",l2BalancerPseudoMinter:"0x81cfae226343b24ba12ec6521db2c79e7aeeb310",l2LayerZeroBridgeForwarder:"0xef44d6786b2b4d544b7850fe67ce6381626bf2d6",liquidityGaugeFactory:"0x3b8ca519122cdd8efb272b0d3085453404b25bd0",liquidityGaugeV5:"0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647",managedPoolAddRemoveTokenLib:"0xacf05be5134d64d150d153818f8c67ee36996650",managedPoolAmmLib:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",managedPoolFactory:"0x03f3fb107e74f2eac9358862e91ad3c692712054",merkleOrchard:"0x5cf4928a3205728bd12830e1840f7db85c62a4b9",mockComposableStablePool:"0x5d343d374a769d1ab102e0418a516dadb08a86e4",mockEulerLinearPool:"0x43fa2c00419f60e18966aa043debd4701cb91b6d",mockEulerToken:"0xb99edc4b289b0f2284fcf3f66884191bdce29624",mockManagedPool:"0xff79b51ec2934dd1810a8e0325e3b08708720b26",mockShareToken:"0xb8bdcbf8ccf443d055d5ffe1d8154fac8187fc94",mockSilo:"0xa7a7e22398622bf71ff31dae5355ec7843b13806",mockSiloLinearPool:"0xbbb66a4fff47701ec6c528db615f5e7bf1abdaaf",mockSiloRepository:"0x7153de1a6d71360f07017838c28deca0d6c03e2a",mockWeightedPool:"0x072ed560cc042d7ab1c080a9e4fa8c6f4858deb3",noProtocolFeeLiquidityBootstrappingPoolFactory:"0xb0c726778c3ae4b3454d85557a48e8fa502bdd6a",nullVotingEscrow:"0xa523f47a933d5020b23629ddf689695aa94612dc",omniVotingEscrowAdaptor:"0x83e443ef4f9963c77bd860f94500075556668cb8",poolRecoveryHelper:"0x1cbbe6cea5e4fe7d69c586b4e362a646deef105d",preseededVotingEscrowDelegation:"0x7af980bdbc36d21ce228efabcca35707566a2be5",protocolFeePercentagesProvider:"0x0f3e0c4218b7b0108a3643cfe9d3ec0d4f57c54e",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x85153b639a35d6e6cf8b291aca237fbe67377154",protocolIdRegistry:"0x4fb47126fa83a8734991e41b942ac29a3266c968",recoveryModeHelper:"0x300ab2038eac391f26d9f895dc61f8f66a548833",rewardsOnlyGauge:"0x40bd3faef4268ea40f4c372d7f0a44c3efaaa6b1",siloLinearPoolFactory:"0x30fd8a0f7009f50616afdab4af91a0a2ef4eae49",singleRecipientGauge:"0x0e9addc34f93bccb45d1f744b9f9301285c5b48f",singleRecipientGaugeFactory:"0xe3881627b8deebccf9c23b291430a549fc0be5f7",smartWalletChecker:"0x1b6df1ff5db99f8a8a04d38f7478bab056fa35a7",testBalancerToken:"0xfa8449189744799ad2ace7e0ebac8bb7575eff47",timelockAuthorizer:"0x70e26f740bad6a2cdd762e2478496268882c21d4",timelockAuthorizerMigrator:"0x7159c4b96bfcfca232355b55778e85cf9e245192",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0xd13afc362f619b840c8f4aac1d957ce219ef37ca",votingEscrow:"0x33a99dcc4c85c014cf12626959111d5898bbcabf",votingEscrowDelegation:"0xcff73979321788d59a6170ff012730db2087f31c",votingEscrowDelegationProxy:"0x6817149cb753bf529565b4d023d7507ed2ff4bc0",votingEscrowRemapper:"0x5dbad78818d4c8958eff2d5b95b28385a22113cd",weightedPoolFactory:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",weth:"0xdfcea9088c8a88a76ff74892c1457c17dfeef9c1",wstEthRateProvider:"0x80a94f458491ca88f09767e58a92fd23cbf1196f"},tokens:{}},10:{contracts:{aaveLinearPoolFactory:"0x7396f99b48e7436b152427bfa3dd6aa8c7c6d05b",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x8f42adbba1b16eaae3bb5754915e0d06059add75",authorizerAdaptorEntrypoint:"0xed86ff0c507d3af5f35d3523b77c17415fcffacb",authorizerWithAdaptorValidation:"0xacf05be5134d64d150d153818f8c67ee36996650",bal:"0xfe8b128ba8c78aabc59d4c64cee7ff28e9379921",balancerHelpers:"0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9",balancerQueries:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",balancerRelayer:"0x03f1ab8b19bce21eb06c364aec9e40322572a1e9",batchRelayerLibrary:"0x45ffd460cc6642b8d8fb12373dfd77ceb0f4932b",childChainGauge:"0x81cfae226343b24ba12ec6521db2c79e7aeeb310",childChainGaugeFactory:"0xa523f47a933d5020b23629ddf689695aa94612dc",childChainGaugeRewardHelper:"0x8ab784368a1883da90d8513b48801e2db1cb2d5d",childChainGaugeTokenAdder:"0x6f5a2ee11e7a772aeb5114a20d0d7c0ff61eb8a0",childChainLiquidityGaugeFactory:"0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647",childChainStreamer:"0x239e55f427d44c3cc793f49bfb507ebe76638a2b",circuitBreakerLib:"0x2498a2b0d6462d2260eac50ae1c3e03f4829ba95",composableStablePoolFactory:"0x1802953277fd955f9a254b80aa0582f193cf1d77",doubleEntrypointFixRelayer:"0x3b8ca519122cdd8efb272b0d3085453404b25bd0",erc4626LinearPoolFactory:"0x7adbdabaa80f654568421887c12f09e0c7bd9629",externalWeightedMath:"0x8df317a729fcaa260306d7de28888932cb579b88",gaugeWorkingBalanceHelper:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",l2BalancerPseudoMinter:"0x4fb47126fa83a8734991e41b942ac29a3266c968",l2LayerZeroBridgeForwarder:"0xbef13d1e54d0c79da8b0ad704883e1cea7eb2100",managedPoolAddRemoveTokenLib:"0x59562f93c447656f6e4799fc1fc7c3d977c3324f",managedPoolAmmLib:"0xded7fef7d8ecdcb74f22f0169e1a9ec696e6695d",managedPoolFactory:"0x4c32a8a8fda4e24139b51b456b42290f51d6a1c4",mockAaveLendingPool:"0x533a16f90e7d3ca31dbc608e5ec54967710f0d2a",mockAaveLinearPool:"0x45d37982784f022a9864748b4e8750e1e7019604",mockComposableStablePool:"0x11a4cf51bb0bb4d925cadfda61fcda952d64889c",mockErc4626LinearPool:"0x2da61ef3cdcb97efb0f7099c02527fabfe94dee5",mockErc4626Token:"0x4be0e4d6184348c5ba845a4010528cfc779610b8",mockManagedPool:"0xb4af4fdd49da2a2ba9522eadcf86d407a69f19c8",mockStaticAToken:"0x8b7854708c0c54f9d7d1ff351d4f84e6de0e134c",mockWeightedPool:"0x62f5f9a446d198e8e4c84ee56e5217416720edaf",mockYearnLinearPool:"0x34557ef500bfc060b8e3f2da58ef725bb7d32202",mockYearnTokenVault:"0xb15608d28eb43378a7e7780add3fe9bc132baf40",noProtocolFeeLiquidityBootstrappingPoolFactory:"0xf302f9f50958c5593770fdf4d4812309ff77414f",nullVotingEscrow:"0xc3ccace87f6d3a81724075adcb5ddd85a8a1bb68",poolRecoveryHelper:"0x26743984e3357efc59f2fd6c1afdc310335a61c9",protocolFeePercentagesProvider:"0xacaac3e6d6df918bf3c809dfc7d42de0e4a72d4c",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0xc128a9954e6c874ea3d62ce62b468ba073093f25",protocolIdRegistry:"0x9805dcfd25e6de36bad8fe9d3fe2c9b44b764102",recoveryModeHelper:"0x3b1eb8eb7b43882b385ab30533d9a2bef9052a98",rewardsOnlyGauge:"0xc128468b7ce63ea702c1f104d55a2566b13d3abd",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0x6817149cb753bf529565b4d023d7507ed2ff4bc0",votingEscrowDelegationProxy:"0x9da18982a33fd0c7051b19f0d7c76f2d5e7e017c",weightedPoolFactory:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",weth:"0x4200000000000000000000000000000000000006",yearnLinearPoolFactory:"0x19dfef0a828eec0c85fbb335aa65437417390b85"},tokens:{}},42:{contracts:{authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x97207b095e4d5c9a6e4cfbfcd2c3358e03b90c4a",balancerHelpers:"0x94905e703fead7f0fd0eee355d267ee909784e6d",balancerMinter:"0x1bbfa323155526f54eec458571bb5a75e0c41507",balancerTokenAdmin:"0xab093cd16e765b5b23d34030aafaf026558e0a19",balTokenHolderFactory:"0xa98bce70c92ad2ef3288dbcd659bc0d6b62f8f13",childChainLiquidityGaugeFactory:"0xf9ac7b9df2b3454e841110cce5550bd5ac6f875f",childChainStreamer:"0x4de578134995bea8480d7696946217f356339ab8",gaugeController:"0x35c425234dc42e7402f54cc54573f77842963a56",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x1b57f637ce3408f1f834b0b70f9a595b062daea7",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",rewardsOnlyGauge:"0x868543bb787317632f94fcfe8eb85406b123590c",testBalancerToken:"0xa2d801064652a269d92ee2a59f3261155ec66830",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",votingEscrow:"0x16ba924752ef283c7946db8a122a6742aa35c1dc",votingEscrowDelegation:"0xdc6d62ae091ea77331542042a72e5e38b188837c",votingEscrowDelegationProxy:"0x98d0d0a65cbeccaa647a5a95cf27cf2f00e1231c",wstEthRateProvider:"0xd7fad3bd59d6477cbe1be7f646f7f1ba25b230f8"},tokens:{}},100:{contracts:{aaveLinearPoolFactory:"0x62aab12865d7281048c337d53a4dde9d770321e6",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x5addcca35b7a0d07c74063c48700c8590e87864e",authorizerAdaptorEntrypoint:"0x8f42adbba1b16eaae3bb5754915e0d06059add75",authorizerWithAdaptorValidation:"0x03f3fb107e74f2eac9358862e91ad3c692712054",bal:"0x7ef541e2a22058048904fe5744f9c7e4c57af717",balancerHelpers:"0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9",balancerQueries:"0x0f3e0c4218b7b0108a3643cfe9d3ec0d4f57c54e",balancerRelayer:"0x3536fd480ca495ac91e698a703248a8915c137a3",batchRelayerLibrary:"0xb9ad3466cdd42015cc05d4804dc68d562b6a2065",childChainGauge:"0x96484f2abf5e58b15176dbf1a799627b53f13b6d",childChainGaugeFactory:"0x83e443ef4f9963c77bd860f94500075556668cb8",childChainGaugeRewardHelper:"0xf7d5dce55e6d47852f054697bab6a1b48a00ddbd",childChainGaugeTokenAdder:"0x1802953277fd955f9a254b80aa0582f193cf1d77",childChainLiquidityGaugeFactory:"0x809b79b53f18e9bc08a961ed4678b901ac93213a",childChainStreamer:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",circuitBreakerLib:"0x54f8f9d28e26fa5864cfa80f50a5df95fd85f46a",composableStablePoolFactory:"0xd87f44df0159dc78029ab9ca7d7e57e7249f5acd",externalWeightedMath:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",gaugeWorkingBalanceHelper:"0x682f0ddbfd41d1272982f64a499fb62d80e27589",l2BalancerPseudoMinter:"0xa8920455934da4d853faac1f94fe7bef72943ef1",l2LayerZeroBridgeForwarder:"0xeb151668006cd04dadd098afd0a82e78f77076c3",managedPoolAddRemoveTokenLib:"0x4c32a8a8fda4e24139b51b456b42290f51d6a1c4",managedPoolAmmLib:"0xacf05be5134d64d150d153818f8c67ee36996650",managedPoolFactory:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",mockAaveLendingPool:"0x040dba12bb3d5c0a73ddfe84c220be3ddba06966",mockAaveLinearPool:"0x1ac55c31dac78ca943cb8ebfca5945ce09e036e2",mockComposableStablePool:"0xf3678a0b54c61ccd88ce321c2e07f87ac75f08b9",mockManagedPool:"0xc061361fda32ff5b65f7d98acc9a87349d3f0768",mockStaticAToken:"0x35d8f4a4c0e95f3d925cb4cbbbf513a0172ed8a4",mockWeightedPool:"0xd8752f9b0a2c2813796abd2be212a32ffd656ef1",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x85a80afee867adf27b50bdb7b76da70f1e853062",nullVotingEscrow:"0x013d4382f291be5688afbcc741ee8a24c66b2c92",poolRecoveryHelper:"0xc3ccace87f6d3a81724075adcb5ddd85a8a1bb68",protocolFeePercentagesProvider:"0x41b953164995c11c81da73d212ed8af25741b7ac",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0xdae7e32adc5d490a43ccba1f0c736033f2b4efca",protocolIdRegistry:"0x6b5da774890db7b7b96c6f44e6a4b0f657399e2e",recoveryModeHelper:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",rewardsOnlyGauge:"0x45ffd460cc6642b8d8fb12373dfd77ceb0f4932b",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0x5dbad78818d4c8958eff2d5b95b28385a22113cd",votingEscrowDelegationProxy:"0x7a2535f5fb47b8e44c02ef5d9990588313fe8f05",weightedPoolFactory:"0x6cad2ea22bfa7f4c14aae92e47f510cd5c509bc7",weth:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d"},tokens:{}},137:{contracts:{aaveLinearPoolFactory:"0xab2372275809e15198a7968c7f324053867cdb0c",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0xc128468b7ce63ea702c1f104d55a2566b13d3abd",authorizerAdaptorEntrypoint:"0xab093cd16e765b5b23d34030aafaf026558e0a19",authorizerWithAdaptorValidation:"0x020301b0a99efb6816b41007765fb577259ec418",bal:"0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3",balancerHelpers:"0x239e55f427d44c3cc793f49bfb507ebe76638a2b",balancerQueries:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",balancerRelayer:"0xd18d5d377eb23362e54fa496597d7e962d56c554",batchRelayerLibrary:"0x4271de2595c3d85d2d455c5778adf2d7ad54322c",childChainGauge:"0xc9b36096f5201ea332db35d6d195774ea0d5988f",childChainGaugeFactory:"0x22625eedd92c81a219a83e1dc48f88d54786b017",childChainGaugeRewardHelper:"0xaeb406b0e430bf5ea2dc0b9fe62e4e53f74b3a33",childChainGaugeTokenAdder:"0x1554ee754707d5c93b7934af404747aba521aaf2",childChainLiquidityGaugeFactory:"0x3b8ca519122cdd8efb272b0d3085453404b25bd0",childChainStreamer:"0x6f5a2ee11e7a772aeb5114a20d0d7c0ff61eb8a0",circuitBreakerLib:"0xedfd0a7005a7c72c44ff13bea370c86a9d11bee1",composableStablePoolFactory:"0x6ab5549bbd766a43afb687776ad8466f8b42f777",doubleEntrypointFixRelayer:"0x79d0011892fe558fc5a4ec7d4ca5db59069f460f",erc4626LinearPoolFactory:"0x5c5fcf8fbd4cd563ced27e7d066b88ee20e1867a",externalWeightedMath:"0x72ebafddc4c7d3eb702c81295d90a8b29f008a03",gaugeWorkingBalanceHelper:"0x08fd003d8f1892d4ec684e6c3ee0128081be461b",l2BalancerPseudoMinter:"0x47b489bf5836f83abd928c316f8e39bc0587b020",l2LayerZeroBridgeForwarder:"0xb98f54a74590a6e681ff664b2fa22ebffe1a929e",managedPoolAddRemoveTokenLib:"0xf553bf40db86c35f3058434039d51aad29c6180b",managedPoolAmmLib:"0xcefd59eedafa9ee8ccda1aaf944088e68b5bd890",managedPoolFactory:"0xb8dfa4fd0f083de2b7edc0d5eed5e684e54ba45d",merkleOrchard:"0xc3ccace87f6d3a81724075adcb5ddd85a8a1bb68",mockAaveLendingPool:"0x0df6bb26533eb86f371b1f70eecdd955420523c6",mockAaveLinearPool:"0x0889b240a5876aae745ac19f1771853671dc5d36",mockComposableStablePool:"0x0f25823cf786b78696b16536e2f2b9835289ab51",mockErc4626LinearPool:"0xc55ec796a4debe625d95436a3531f4950b11bdcf",mockErc4626Token:"0x19dfef0a828eec0c85fbb335aa65437417390b85",mockManagedPool:"0x074efd7806e6c28e8b6611075b1aa62c6c408090",mockStaticAToken:"0xe72b2780d3c57f781bd4e8572e200cd7e9a447c2",mockWeightedPool:"0xb77e03655ee894aade216a83d05511a9f9895126",mockYearnLinearPool:"0xdae301690004946424e41051ace1791083be42a1",mockYearnTokenVault:"0x28fa1e40011adf98898e8243b2a48bb21ebf0c29",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x41b953164995c11c81da73d212ed8af25741b7ac",nullVotingEscrow:"0x1311fbc9f60359639174c1e7cc2032dbdb5cc4d1",poolRecoveryHelper:"0x495f696430f4a51f7fcb98fbe68a9cb7a07fb1ba",protocolFeePercentagesProvider:"0x42ac0e6fa47385d55aff070d79ef0079868c48a6",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0xef44d6786b2b4d544b7850fe67ce6381626bf2d6",protocolIdRegistry:"0xa523f47a933d5020b23629ddf689695aa94612dc",recoveryModeHelper:"0x1eb79551ca0e83ec145608bc39a0c7f10ca21aa5",rewardsOnlyGauge:"0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0xd961e30156c2e0d0d925a0de45f931cb7815e970",votingEscrowDelegationProxy:"0x0f08eef2c785aa5e7539684af04755dec1347b7c",weightedPoolFactory:"0xfc8a407bba312ac761d8bfe04ce1201904842b76",weth:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",yearnLinearPoolFactory:"0x0b576c1245f479506e7c8bbc4db4db07c1cd31f9"},tokens:{BAL:"0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3",USDC:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",WBTC:"0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",WETH:"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619",WMATIC:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270"}},1101:{contracts:{aaveLinearPoolFactory:"0x4b7b369989e613ff2c65768b7cf930cc927f901e",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0xdcdbf71a870cc60c6f9b621e28a7d3ffd6dd4965",authorizerAdaptorEntrypoint:"0xb9ad3466cdd42015cc05d4804dc68d562b6a2065",authorizerWithAdaptorValidation:"0x8df317a729fcaa260306d7de28888932cb579b88",bal:"0x120ef59b80774f02211563834d8e3b72cb1649d6",balancerHelpers:"0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9",balancerQueries:"0x809b79b53f18e9bc08a961ed4678b901ac93213a",balancerRelayer:"0x4678731dc41142a902a114ac5b2f77b63f4a259d",batchRelayerLibrary:"0x54f8f9d28e26fa5864cfa80f50a5df95fd85f46a",childChainGauge:"0x59562f93c447656f6e4799fc1fc7c3d977c3324f",childChainGaugeFactory:"0x2498a2b0d6462d2260eac50ae1c3e03f4829ba95",circuitBreakerLib:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",composableStablePoolFactory:"0x8ea89804145c007e7d226001a96955ad53836087",erc4626LinearPoolFactory:"0x6b1da720be2d11d95177ccfc40a917c2688f396c",externalWeightedMath:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",gaugeWorkingBalanceHelper:"0xef454a7b3f965d3f6723e462405246f8cd865425",gearboxLinearPoolFactory:"0x687b8c9b41e01be8b591725fac5d5f52d0564d79",l2BalancerPseudoMinter:"0x475d18169be8a89357a9ee3ab00ca386d20fa229",l2LayerZeroBridgeForwarder:"0xded7fef7d8ecdcb74f22f0169e1a9ec696e6695d",managedPoolAddRemoveTokenLib:"0xacf05be5134d64d150d153818f8c67ee36996650",managedPoolAmmLib:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",managedPoolFactory:"0xaf779e58dafb4307b998c7b3c9d3f788dfc80632",mockAaveLendingPool:"0x161f4014c27773840ccb4ec1957113e6dd028846",mockAaveLinearPool:"0xbfd65c6160cfd638a85c645e6e6d8acac5dac935",mockComposableStablePool:"0x6f5f794a3cef904b8517c4c311de2fa837ff24a0",mockErc4626LinearPool:"0xac4b72c01072a52b73ca71105504f1372efcce0d",mockErc4626Token:"0x0c6052254551eae3ecac77b01dfcf1025418828f",mockGearboxDieselToken:"0x698caed853be9cea96c268f565e2b61d3b2bcda4",mockGearboxLinearPool:"0x32f03464fdf909fdf3798f87ff3712b10c59bd86",mockGearboxVault:"0x88ed12a90142fdbfe2a28f7d5b48927254c7e760",mockLiquidityBootstrappingPool:"0x3c87ff3e9307dbebfae720e04c6439e49f79bf9b",mockManagedPool:"0x522ee506a2f63d0ae1d79d6f5dbd9d0bca32c866",mockStaticAToken:"0x4638ab64022927c9bd5947607459d13f57f1551c",mockWeightedPool:"0x78385153d2f356c87001f09bb5424137c618d38b",mockYearnLinearPool:"0x02c9dcb975262719a61f9b40bdf0987ead9add3a",mockYearnTokenVault:"0xdbf7b9f1d2bfba14e42709f84dda3187ee410e38",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x3b1eb8eb7b43882b385ab30533d9a2bef9052a98",nullVotingEscrow:"0xd87f44df0159dc78029ab9ca7d7e57e7249f5acd",poolRecoveryHelper:"0xf7d5dce55e6d47852f054697bab6a1b48a00ddbd",protocolFeePercentagesProvider:"0x1802953277fd955f9a254b80aa0582f193cf1d77",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",protocolIdRegistry:"0x6cad2ea22bfa7f4c14aae92e47f510cd5c509bc7",recoveryModeHelper:"0x300ab2038eac391f26d9f895dc61f8f66a548833",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",votingEscrowDelegationProxy:"0xc7e5ed1054a24ef31d827e6f86caa58b3bc168d7",weightedPoolFactory:"0x03f3fb107e74f2eac9358862e91ad3c692712054",weth:"0x4f9a0e7fd2bf6067db6994cf12e4495df938e6e9",yearnLinearPoolFactory:"0x44d33798dddcdabc93fe6a40c80588033dc502d3"},tokens:{}},8453:{contracts:{aaveLinearPoolFactory:"0x687b8c9b41e01be8b591725fac5d5f52d0564d79",authorizer:"0x809b79b53f18e9bc08a961ed4678b901ac93213a",authorizerAdaptor:"0x6cad2ea22bfa7f4c14aae92e47f510cd5c509bc7",authorizerAdaptorEntrypoint:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",authorizerWithAdaptorValidation:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",bal:"0x4158734d47fc9692176b5085e0f52ee0da5d47f1",balancerHelpers:"0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9",balancerQueries:"0x300ab2038eac391f26d9f895dc61f8f66a548833",balancerRelayer:"0x76f7204b62f554b79d444588edac9dfa7032c71a",batchRelayerLibrary:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",childChainGauge:"0x59562f93c447656f6e4799fc1fc7c3d977c3324f",childChainGaugeFactory:"0x2498a2b0d6462d2260eac50ae1c3e03f4829ba95",circuitBreakerLib:"0xef454a7b3f965d3f6723e462405246f8cd865425",composableStablePoolFactory:"0x8df317a729fcaa260306d7de28888932cb579b88",erc4626LinearPoolFactory:"0x161f4014c27773840ccb4ec1957113e6dd028846",externalWeightedMath:"0x7920bfa1b2041911b354747ca7a6cdd2dfc50cfd",gaugeWorkingBalanceHelper:"0xa7d524046ef89de9f8e4f2d7b029f66ccb738d48",gearboxLinearPoolFactory:"0x9dd32684176638d977883448a4c914311c07bd62",l2BalancerPseudoMinter:"0xc7e5ed1054a24ef31d827e6f86caa58b3bc168d7",l2LayerZeroBridgeForwarder:"0x8ea89804145c007e7d226001a96955ad53836087",managedPoolAddRemoveTokenLib:"0xb19382073c7a0addbb56ac6af1808fa49e377b75",managedPoolAmmLib:"0x7d2248f194755dca9a1887099394f39476d28c9a",managedPoolFactory:"0x9a62c91626d39d0216b3959112f9d4678e20134d",mockAaveLendingPool:"0x88ed12a90142fdbfe2a28f7d5b48927254c7e760",mockAaveLinearPool:"0x712e23a9b91aa30ee7997d1c7a1a285d4c7912d1",mockComposableStablePool:"0x7f6e9d6a4093af9d09bae92d24bfe42fc5369ae6",mockErc4626LinearPool:"0x1cc2e10c486ffb7228810b9c7c183d0cd92cdf44",mockErc4626Token:"0x4638ab64022927c9bd5947607459d13f57f1551c",mockGearboxDieselToken:"0xb521dd5c8e13fe202626cac98873fea2b7760ce4",mockGearboxLinearPool:"0x3c28a59356b473847aaa5e0b6f561636079213a6",mockGearboxVault:"0x79e435875ccee3cd9e8da23fe34f9a011d05ea6c",mockLiquidityBootstrappingPool:"",mockManagedPool:"0xe50ad96af9370d05d3c1ce85f17c31557b29c4ee",mockStaticAToken:"0x698caed853be9cea96c268f565e2b61d3b2bcda4",mockWeightedPool:"0xd9dbbfaa703f3c33838365ae00fe4eb22cdf8d46",mockYearnLinearPool:"0x369877467fc3b6774de4e11e0c0abbde70eb40fd",mockYearnTokenVault:"0xdbf7b9f1d2bfba14e42709f84dda3187ee410e38",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x0c6052254551eae3ecac77b01dfcf1025418828f",nullVotingEscrow:"0x475d18169be8a89357a9ee3ab00ca386d20fa229",poolRecoveryHelper:"0x03f3fb107e74f2eac9358862e91ad3c692712054",protocolFeePercentagesProvider:"0xded7fef7d8ecdcb74f22f0169e1a9ec696e6695d",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0xacf05be5134d64d150d153818f8c67ee36996650",protocolIdRegistry:"0x682f0ddbfd41d1272982f64a499fb62d80e27589",recoveryModeHelper:"0x313a8d36b1d90a4cba3a505fdc3480c3870be053",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",votingEscrowDelegationProxy:"0xd87f44df0159dc78029ab9ca7d7e57e7249f5acd",weightedPoolFactory:"0x4c32a8a8fda4e24139b51b456b42290f51d6a1c4",weth:"0x4200000000000000000000000000000000000006",yearnLinearPoolFactory:"0x44d33798dddcdabc93fe6a40c80588033dc502d3"},tokens:{}},42161:{contracts:{aaveLinearPoolFactory:"0x7396f99b48e7436b152427bfa3dd6aa8c7c6d05b",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0x0f3e0c4218b7b0108a3643cfe9d3ec0d4f57c54e",authorizerAdaptorEntrypoint:"0x97207b095e4d5c9a6e4cfbfcd2c3358e03b90c4a",authorizerWithAdaptorValidation:"0x6b1da720be2d11d95177ccfc40a917c2688f396c",bal:"0x040d1edc9569d4bab2d15287dc5a4f10f56a56b8",balancerHelpers:"0x77d46184d22ca6a3726a2f500c776767b6a3d6ab",balancerQueries:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",balancerRelayer:"0x598ce0f1ab64b27256759ef99d883ee51138b9bd",batchRelayerLibrary:"0xd87f44df0159dc78029ab9ca7d7e57e7249f5acd",childChainGauge:"0xa523f47a933d5020b23629ddf689695aa94612dc",childChainGaugeFactory:"0x6817149cb753bf529565b4d023d7507ed2ff4bc0",childChainGaugeRewardHelper:"0xa0dabebaad1b243bbb243f933013d560819eb66f",childChainGaugeTokenAdder:"0xbfd9769b061e57e478690299011a028194d66e3c",childChainLiquidityGaugeFactory:"0xb08e16cfc07c684daa2f93c70323badb2a6cbfd2",childChainStreamer:"0xd7fad3bd59d6477cbe1be7f646f7f1ba25b230f8",circuitBreakerLib:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",composableStablePoolFactory:"0x2498a2b0d6462d2260eac50ae1c3e03f4829ba95",doubleEntrypointFixRelayer:"0x8e5698dc4897dc12243c8642e77b4f21349db97c",erc4626LinearPoolFactory:"0x7adbdabaa80f654568421887c12f09e0c7bd9629",externalWeightedMath:"0x03f3fb107e74f2eac9358862e91ad3c692712054",gaugeWorkingBalanceHelper:"0xea924b45a3fcdaadf4e5cfb1665823b8f8f2039b",l2BalancerPseudoMinter:"0xc3ccace87f6d3a81724075adcb5ddd85a8a1bb68",l2LayerZeroBridgeForwarder:"0x12ca9de662a7bf5dc89e034a5083ef751b08ede7",managedPoolAddRemoveTokenLib:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",managedPoolAmmLib:"0x300ab2038eac391f26d9f895dc61f8f66a548833",managedPoolFactory:"0x8ea89804145c007e7d226001a96955ad53836087",merkleOrchard:"0x9805dcfd25e6de36bad8fe9d3fe2c9b44b764102",mockAaveLendingPool:"0x533a16f90e7d3ca31dbc608e5ec54967710f0d2a",mockAaveLinearPool:"0x19b1c92631405a0a9495ccba0becf4f2e8e908bd",mockComposableStablePool:"0xff7e6b102516e071dcda763ee9d02c1515481db5",mockErc4626LinearPool:"0x3f53a862919ccfa023cb6ace91378a79fb0f6bf5",mockErc4626Token:"0x4be0e4d6184348c5ba845a4010528cfc779610b8",mockManagedPool:"0xf5a71257b331c02da1eae52151c3d600f16b76f0",mockStaticAToken:"0x8b7854708c0c54f9d7d1ff351d4f84e6de0e134c",mockWeightedPool:"0x129c6402ff88611aa59bf2e14b39e091822e2c9c",mockYearnLinearPool:"0x1fa7f727934226aedab636d62a084931b97d366b",mockYearnTokenVault:"0xb15608d28eb43378a7e7780add3fe9bc132baf40",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x1802953277fd955f9a254b80aa0582f193cf1d77",nullVotingEscrow:"0x9da18982a33fd0c7051b19f0d7c76f2d5e7e017c",poolRecoveryHelper:"0xb5e56cc3d2e38e53b1166175c59e921a37cdc1e2",protocolFeePercentagesProvider:"0x5ef4c5352882b10893b70dbcaa0c000965bd23c5",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x70bbd023481788e443472e123ab963e5ebf58d06",protocolIdRegistry:"0x5cf4928a3205728bd12830e1840f7db85c62a4b9",recoveryModeHelper:"0x682f0ddbfd41d1272982f64a499fb62d80e27589",rewardsOnlyGauge:"0x41b953164995c11c81da73d212ed8af25741b7ac",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0x6b5da774890db7b7b96c6f44e6a4b0f657399e2e",votingEscrowDelegationProxy:"0x81cfae226343b24ba12ec6521db2c79e7aeeb310",weightedPoolFactory:"0xc7e5ed1054a24ef31d827e6f86caa58b3bc168d7",weth:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",yearnLinearPoolFactory:"0x19dfef0a828eec0c85fbb335aa65437417390b85"},tokens:{BADGER:"0xbfa641051ba0a0ad1b0acf549a89536a0d76472e",CRV:"0x11cdb42b0eb46d95f990bedd4695a6e3fa034978",LDO:"0x13ad51ed4f1b7e9dc168d8a00cb3f4ddd85efa60",renBTC:"0xdbf31df14b66535af65aac99c32e9ea844e14501",SUSHI:"0xd4d42f0b6def4ce0383636770ef773390d85c61a",USDC:"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8",USDT:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",WBTC:"0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",WETH:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1"}},43114:{contracts:{aaveLinearPoolFactory:"0x6caf662b573f577de01165d2d38d1910bba41f8a",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0xdae7e32adc5d490a43ccba1f0c736033f2b4efca",authorizerAdaptorEntrypoint:"0x4e7bbd911cf1efa442bc1b2e9ea01ffe785412ec",authorizerWithAdaptorValidation:"0x8df317a729fcaa260306d7de28888932cb579b88",bal:"0xe15bcb9e0ea69e6ab9fa080c4c4a5632896298c3",balancerHelpers:"0x8e9aa87e45e92bad84d5f8dd1bff34fb92637de9",balancerQueries:"0xc128468b7ce63ea702c1f104d55a2566b13d3abd",balancerRelayer:"0x03f1ab8b19bce21eb06c364aec9e40322572a1e9",batchRelayerLibrary:"0x45ffd460cc6642b8d8fb12373dfd77ceb0f4932b",childChainGauge:"0x4b7b369989e613ff2c65768b7cf930cc927f901e",childChainGaugeFactory:"0x161f4014c27773840ccb4ec1957113e6dd028846",childChainGaugeRewardHelper:"0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647",childChainGaugeTokenAdder:"0xf302f9f50958c5593770fdf4d4812309ff77414f",childChainLiquidityGaugeFactory:"0xb08e16cfc07c684daa2f93c70323badb2a6cbfd2",childChainStreamer:"0xd7fad3bd59d6477cbe1be7f646f7f1ba25b230f8",circuitBreakerLib:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",composableStablePoolFactory:"0x3b1eb8eb7b43882b385ab30533d9a2bef9052a98",distributionScheduler:"0xc128a9954e6c874ea3d62ce62b468ba073093f25",erc4626LinearPoolFactory:"0x4507d91cd2c0d51d9b4f30bf0b93afc938a70ba5",externalWeightedMath:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",gaugeWorkingBalanceHelper:"0x687b8c9b41e01be8b591725fac5d5f52d0564d79",l2BalancerPseudoMinter:"0xea924b45a3fcdaadf4e5cfb1665823b8f8f2039b",l2LayerZeroBridgeForwarder:"0x4638ab64022927c9bd5947607459d13f57f1551c",managedPoolAddRemoveTokenLib:"0xacf05be5134d64d150d153818f8c67ee36996650",managedPoolAmmLib:"0xa69e0ccf150a29369d8bbc0b3f510849db7e8eee",managedPoolFactory:"0x03f3fb107e74f2eac9358862e91ad3c692712054",mockAaveLendingPool:"0x57ea28a99394978d060e483477c0fd9fb9afa96c",mockAaveLinearPool:"0xa826a114b0c7db4d1ff4a4be845a78998c64564c",mockComposableStablePool:"0xea4643102dfc03d5e382e7827bf767f6587e9965",mockErc4626LinearPool:"0xed3e2f496cbcd8e212192fb8d1499842f04a0d19",mockErc4626Token:"0x2ebe41e1aa44d61c206a94474932dadc7d3fd9e3",mockManagedPool:"0x3fb81f6fb0dd94c6fc7e138887f1ca4cdb5e2999",mockStaticAToken:"0xd8b6b96c88ad626eb6209c4876e3b14f45f8803a",mockWeightedPool:"0xb2b5b452d53401391155ea48c4451f6e9b0dd058",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x0f3e0c4218b7b0108a3643cfe9d3ec0d4f57c54e",nullVotingEscrow:"0x6b1da720be2d11d95177ccfc40a917c2688f396c",poolRecoveryHelper:"0x3b8ca519122cdd8efb272b0d3085453404b25bd0",protocolFeePercentagesProvider:"0x239e55f427d44c3cc793f49bfb507ebe76638a2b",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x8f42adbba1b16eaae3bb5754915e0d06059add75",recoveryModeHelper:"0x300ab2038eac391f26d9f895dc61f8f66a548833",rewardsOnlyGauge:"0x41b953164995c11c81da73d212ed8af25741b7ac",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",votingEscrowDelegationProxy:"0x0c6052254551eae3ecac77b01dfcf1025418828f",weightedPoolFactory:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",weth:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7"},tokens:{}},11155111:{contracts:{aaveLinearPoolFactory:"0xdf9b5b00ef9bca66e9902bd813db14e4343be025",authorizer:"0xa331d84ec860bf466b4cdccfb4ac09a1b43f3ae6",authorizerAdaptor:"0xdcdbf71a870cc60c6f9b621e28a7d3ffd6dd4965",authorizerAdaptorEntrypoint:"0xb9ad3466cdd42015cc05d4804dc68d562b6a2065",authorizerWithAdaptorValidation:"0xb521dd5c8e13fe202626cac98873fea2b7760ce4",bal:"0xb19382073c7a0addbb56ac6af1808fa49e377b75",balancerHelpers:"0xdae7e32adc5d490a43ccba1f0c736033f2b4efca",balancerMinter:"0x1783cd84b3d01854a96b4ed5843753c2ccbd574a",balancerQueries:"0x1802953277fd955f9a254b80aa0582f193cf1d77",balancerRelayer:"0x6d5342d716c13d9a3f072a2b11498624ade27f90",balancerTokenAdmin:"0x7d2248f194755dca9a1887099394f39476d28c9a",balTokenHolderFactory:"0xef454a7b3f965d3f6723e462405246f8cd865425",batchRelayerLibrary:"0x5f6848976c2914403b425f18b589a65772f082e3",childChainGauge:"0xc49ca921c4cd1117162eaeec0ee969649997950c",childChainGaugeFactory:"0xc370cd86d5488c1788b62f11b09adb0c47f47440",circuitBreakerLib:"0x4c0c450bedb9282a7a54fcb316c285e85a8c0265",composableStablePoolFactory:"0xa3fd20e29358c056b727657e83dfd139abbc9924",erc4626LinearPoolFactory:"0x59562f93c447656f6e4799fc1fc7c3d977c3324f",externalWeightedMath:"0x8246e571d88acd1346179cc3641de87fe3544d7a",feeDistributor:"0xa6971317fb06c76ef731601c64433a4846fca707",gaugeAdder:"0xe42ffa682a26ef8f25891db4882932711d42e467",gaugeController:"0x577e5993b9cc480f07f98b5ebd055604bd9071c4",gaugeWorkingBalanceHelper:"0x2e4abed3362a622c5f712bb183005a476b146bd3",gearboxLinearPoolFactory:"0x8df317a729fcaa260306d7de28888932cb579b88",l2BalancerPseudoMinter:"0xb51f7ffc97cedfb6922e8b9bbf3ef7575fafd630",l2LayerZeroBridgeForwarder:"0xc7e5ed1054a24ef31d827e6f86caa58b3bc168d7",liquidityGaugeFactory:"0x2ff226cd12c80511a641a6101f071d853a4e5363",liquidityGaugeV5:"0x82416ce6ea7dd4923d4a3ed70a79b4a432a382c4",managedPoolAddRemoveTokenLib:"0xc7416e4f3715467ddcf28dc409a9483b2e4d4f43",managedPoolAmmLib:"0xa30ade89e6af5b0ca515cd78e44f9ad0c63989b2",managedPoolFactory:"0x63e179c5b6d54b2c2e36b9ce4085ef5a8c86d50c",mockAaveLendingPool:"0x300ab2038eac391f26d9f895dc61f8f66a548833",mockAaveLinearPool:"0xe4efd99f3c03778ba913eb578c599329634e2bd7",mockComposableStablePool:"0xa8d865fe1d68a405b29f884358468c9b52d4841d",mockErc4626LinearPool:"0x0c2ead6f2dc2a9385187023f4cec5925337b330f",mockErc4626Token:"0x2498a2b0d6462d2260eac50ae1c3e03f4829ba95",mockGearboxDieselToken:"0x4c32a8a8fda4e24139b51b456b42290f51d6a1c4",mockGearboxLinearPool:"0x112a7b7ca66e6963c49bc523a415f7d8cdb806b9",mockGearboxVault:"0x3b1eb8eb7b43882b385ab30533d9a2bef9052a98",mockLiquidityBootstrappingPool:"0xe90472ffc41d7ddf8e3b456bba748e3f22c59c6f",mockManagedPool:"0xe458224ca8d6605c87b73e92aa5cb7a4e77770f3",mockShareToken:"0x0c6052254551eae3ecac77b01dfcf1025418828f",mockSilo:"0x6b1da720be2d11d95177ccfc40a917c2688f396c",mockSiloLinearPool:"0xa149cf2d795aab83a15673f5beade9361e4e3f65",mockSiloRepository:"0xa7d524046ef89de9f8e4f2d7b029f66ccb738d48",mockStaticAToken:"0x03f3fb107e74f2eac9358862e91ad3c692712054",mockWeightedPool:"0xf7a7e1f48fa43cb7919ff4eb362c5be78092df4a",mockYearnLinearPool:"0x016b7366f76aa2794097798b90cf239796aeff8d",mockYearnTokenVault:"0x9129e834e15ea19b6069e8f08a8ecfc13686b8dc",noProtocolFeeLiquidityBootstrappingPoolFactory:"0x45ffd460cc6642b8d8fb12373dfd77ceb0f4932b",nullVotingEscrow:"0x475d18169be8a89357a9ee3ab00ca386d20fa229",omniVotingEscrowAdaptor:"0xe39b5e3b6d74016b2f6a9673d7d7493b6df549d5",poolRecoveryHelper:"0x1b6f057520b4e826271d47b8bdab98e35af17e59",preseededVotingEscrowDelegation:"0xb1a4fe1c6d25a0ddab47431a92a723dd71d9021f",protocolFeePercentagesProvider:"0xf7d5dce55e6d47852f054697bab6a1b48a00ddbd",protocolFeesCollector:"0xce88686553686da562ce7cea497ce749da109f9f",protocolFeesWithdrawer:"0x809b79b53f18e9bc08a961ed4678b901ac93213a",protocolIdRegistry:"0x6cad2ea22bfa7f4c14aae92e47f510cd5c509bc7",recoveryModeHelper:"0x5419e785b83ad3539d3a8741c0abb77d90d8784e",siloLinearPoolFactory:"0x8ea89804145c007e7d226001a96955ad53836087",singleRecipientGauge:"0x9a5ddde7056ceffb03d9962c4549ac1c4ad1f985",singleRecipientGaugeFactory:"0x7ee4d172ae50c627a1bfa9a99e1260c54da26fdf",smartWalletChecker:"0x230a59f4d9adc147480f03b0d3fffecd56c3289a",testBalancerToken:"0xb19382073c7a0addbb56ac6af1808fa49e377b75",vault:"0xba12222222228d8ba445958a75a0704d566bf2c8",veBoostV2:"0x927906bbac747c13c75f6447fe8abb490eab456c",votingEscrow:"0x150a72e4d4d81bbf045565e232c50ed0931ad795",votingEscrowDelegation:"0x0c5538098ebe88175078972f514c9e101d325d4f",votingEscrowDelegationProxy:"0xd87f44df0159dc78029ab9ca7d7e57e7249f5acd",votingEscrowRemapper:"0xf24917fb88261a37cc57f686ebc831a5c0b9fd39",weightedPoolFactory:"0x7920bfa1b2041911b354747ca7a6cdd2dfc50cfd",weth:"0x7b79995e5f793a07bc00c21412e50ecae098e7f9",yearnLinearPoolFactory:"0xacf05be5134d64d150d153818f8c67ee36996650"},tokens:{}}};const un="0x7122e35ceC2eED4A989D9b0A71998534A203972C",Wn={[Q.MAINNET]:{chainId:Q.MAINNET,addresses:{contracts:{multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",poolDataQueries:"0xf5CDdF6feD9C589f1Be04899F48f9738531daD59",lidoRelayer:"0xdcdbf71A870cc60C6F9B621E28a7D3Ffd6Dd4965",veBal:"0xC128a9954e6c874eA3d62ce62B468bA073093F25",gaugeControllerCheckpointer:"0x8e5698dc4897dc12243c8642e77b4f21349db97c",veBalProxy:"0x6f5a2eE11E7a772AeB5114A20d0D7c0ff61EB8A0",gyroConfigProxy:"0xac89cc9d78bbad7eb3a02601b4d65daa1f908aa6",...Ee[Q.MAINNET].contracts},tokens:{bal:Ee[Q.MAINNET].contracts.bal,wrappedNativeAsset:Ee[Q.MAINNET].contracts.weth,bbaUsd:Ee[Q.MAINNET].tokens.bb_a_usd,lbpRaisingTokens:["0x6b175474e89094c44da98b954eedeac495271d0f","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"],stETH:"0xae7ab96520de3a18e5e111b5eaab095312d7fe84",wstETH:"0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0",veBal:"0xC128a9954e6c874eA3d62ce62B468bA073093F25",...Ee[Q.MAINNET].tokens}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-v2",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/blocklytics/ethereum-blocks"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"ethereum"}},pools:{wETHwstETH:{id:"0x32296969ef14eb0c6d29669c550d4a0449130230000200000000000000000080",address:"0x32296969ef14eb0c6d29669c550d4a0449130230"}},poolsToIgnore:["0xbd482ffb3e6e50dc1c437557c3bea2b68f3683ee0000000000000000000003c6","0x0afbd58beca09545e4fb67772faf3858e610bcd00000000000000000000004b9","0xf22ff21e17157340575158ad7394e068048dd98b0000000000000000000004b8","0xf71d0774b214c4cf51e33eb3d30ef98132e4dbaa00000000000000000000046e"],sorConnectingTokens:[{symbol:"wEth",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"},{symbol:"wstEth",address:"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0"},{symbol:"DOLA",address:"0x865377367054516e17014CcdED1e7d814EDC9ce4"}]},[Q.POLYGON]:{chainId:Q.POLYGON,addresses:{contracts:{multicall:"0xa1B2b503959aedD81512C37e9dce48164ec6a94d",poolDataQueries:"0x84813aA3e079A665C0B80F944427eE83cBA63617",gaugeClaimHelper:"0xaeb406b0e430bf5ea2dc0b9fe62e4e53f74b3a33",gyroConfigProxy:"0xfdc2e9e03f515804744a40d0f8d25c16e93fbe67",...Ee[Q.POLYGON].contracts},tokens:{bal:Ee[Q.POLYGON].contracts.bal,wrappedNativeAsset:Ee[Q.POLYGON].contracts.weth,lbpRaisingTokens:["0x8f3cf7ad23cd3cadbd9735aff958023239c6a063","0x2791bca1f2de4661ed88a30c99a7a9449aa84174","0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"],...Ee[Q.POLYGON].tokens}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-polygon-prune-v2",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges-polygon",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/ianlapham/polygon-blocks"},thirdParty:{coingecko:{nativeAssetId:"",platformId:"polygon-pos"}},pools:{},poolsToIgnore:["0x600bd01b6526611079e12e1ff93aba7a3e34226f0000000000000000000009e4","0xc31a37105b94ab4efca1954a14f059af11fcd9bb000000000000000000000455"],sorConnectingTokens:[{symbol:"weth",address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270"},{symbol:"bbrz2",address:"0xe22483774bd8611be2ad2f4194078dac9159f4ba"}]},[Q.ARBITRUM]:{chainId:Q.ARBITRUM,addresses:{contracts:{multicall:"0x269ff446d9892c9e19082564df3f5e8741e190a1",poolDataQueries:"0x7Ba29fE8E83dd6097A7298075C4AFfdBda3121cC",gaugeClaimHelper:"0xa0dabebaad1b243bbb243f933013d560819eb66f",...Ee[Q.ARBITRUM].contracts},tokens:{bal:Ee[Q.ARBITRUM].contracts.bal,wrappedNativeAsset:Ee[Q.ARBITRUM].contracts.weth,lbpRaisingTokens:["0xda10009cbd5d07dd0cecc66161fc93d7c9000da1","0xff970a61a04b1ca14834a43f5de4533ebddb5cc8","0x82af49447d8a07e3bd95bd0d56f35241523fbab1"],...Ee[Q.ARBITRUM].tokens}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-arbitrum-v2",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges-arbitrum",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-one-blocks"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"arbitrum-one"}},pools:{},sorConnectingTokens:[{symbol:"weth",address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1"}],sorTriPathMidPoolIds:["0x178e029173417b1f9c8bc16dcec6f697bc323746000200000000000000000158","0x0052688295413b32626d226a205b95cdb337de860002000000000000000003d1","0xa1a8bf131571a2139feb79401aa4a2e9482df6270002000000000000000004b4"]},[Q.GOERLI]:{chainId:Q.GOERLI,addresses:{contracts:{vault:"0x7122e35ceC2eED4A989D9b0A71998534A203972C",multicall:"0xca11bde05977b3631167028862be2a173976ca11",poolDataQueries:"0xfc075Cbe961922D04f05A6b1df1c0884274d28c4",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x12977Bed9E12028789B2075119F8CcfE192C9ED6",balancerHelpers:"0xE637B979E14E26EdA9a7e572B27a87FB9F49c50E",weightedPoolFactory:"0x8D88057B8CC9235d4C69db3c14fd8D4229a6ae35",composableStablePoolFactory:"0x60EF61C5C0f4213C7B2C02F64A575DC4BfDbF302"},tokens:{bal:"0x0000000000000000000000000000000000000000",wrappedNativeAsset:"0x202C35e517Fa803B537565c40F0a6965D7204609",lbpRaisingTokens:["0x202C35e517Fa803B537565c40F0a6965D7204609","0xEA6B04272f9f62F997F666F07D3a974134f7FFb9","0x5f38248f339Bf4e84A2caf4e4c0552862dC9F82a"]}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/sobal/sobal-goerli",gaugesSubgraph:"",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/blocklytics/goerli-blocks"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"ethereum"}},pools:{},sorConnectingTokens:[{symbol:"weth",address:"0xdFCeA9088c8A88A76FF74892C1457C17dfeef9C1"}]},[Q.OPTIMISM]:{chainId:Q.OPTIMISM,addresses:{contracts:{multicall:"0x2dc0e2aa608532da689e89e237df582b783e552c",poolDataQueries:"0x6B5dA774890Db7B7b96C6f44e6a4b0F657399E2e",gyroConfigProxy:"0x32acb44fc929339b9f16f0449525cc590d2a23f3",...Ee[Q.OPTIMISM].contracts},tokens:{bal:"0xfe8b128ba8c78aabc59d4c64cee7ff28e9379921",wrappedNativeAsset:Ee[Q.OPTIMISM].contracts.weth,lbpRaisingTokens:["0xda10009cbd5d07dd0cecc66161fc93d7c9000da1","0x7f5c764cbc14f9669b88837ca1490cca17c31607","0x4200000000000000000000000000000000000006"],...Ee[Q.OPTIMISM].tokens}},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"optimistic-ethereum"}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/beethovenxfi/beethovenx-optimism",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges-optimism",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/lyra-finance/optimism-mainnet-blocks"},pools:{},sorConnectingTokens:[{symbol:"weth",address:"0x4200000000000000000000000000000000000006"}]},[Q.GNOSIS]:{chainId:Q.GNOSIS,addresses:{contracts:{multicall:"0xbb6fab6b627947dae0a75808250d8b2652952cb5",poolDataQueries:"0x3f170631ed9821Ca51A59D996aB095162438DC10",...Ee[Q.GNOSIS].contracts},tokens:{wrappedNativeAsset:Ee[Q.GNOSIS].contracts.weth,bal:Ee[Q.GNOSIS].contracts.bal,...Ee[Q.GNOSIS].tokens}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gnosis-chain-v2",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges-gnosis-chain"},thirdParty:{coingecko:{nativeAssetId:"xdai",platformId:"xdai"}},averageBlockTime:5,pools:{},sorConnectingTokens:[{symbol:"weth",address:"0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d"},{symbol:"wsEth",address:"0x6C76971f98945AE98dD7d4DFcA8711ebea946eA6"}],sorTriPathMidPoolIds:["0xeb30c85cc528537f5350cf5684ce6a4538e13394000200000000000000000059"]},[Q.FANTOM]:{chainId:Q.FANTOM,addresses:{contracts:{vault:"0x20dd72Ed959b6147912C2e529F0a0C651c33c9ce",multicall:"0x66335d7ad8011f6aa3f48aadcb523b62b38ed961",poolDataQueries:"0xb132F1E145DcC085980C531e2dA81f2b84efc14F",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x419f7925b8c9e409b6ee8792242556fa210a7a09",balancerHelpers:"0xfE18C7C70b0a2c6541bEde0367124278BC345Dc8",weightedPoolFactory:"0x60467cb225092cE0c989361934311175f437Cf53",composableStablePoolFactory:"0x44814E3A603bb7F1198617995c5696C232F6e8Ed",yearnLinearPoolFactory:"0x1f73ae6ed391a2b1e84ff988a1bb5394b78a4a71"},tokens:{bal:"0xF24Bcf4d1e507740041C9cFd2DddB29585aDCe1e",wrappedNativeAsset:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",lbpRaisingTokens:["0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83","0x04068DA6C83AFCFA0e13ba15A6696662335D5B75","0x8D11eC38a3EB5E956B052f67Da8Bdc9bef8Abf3E"]}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/beethovenxfi/beethovenx-v2-fantom",gaugesSubgraph:"",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/beethovenxfi/fantom-blocks"},thirdParty:{coingecko:{nativeAssetId:"ftm",platformId:"fantom"}},pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"wftm",address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83"}]},[Q.SEPOLIA]:{chainId:Q.SEPOLIA,addresses:{contracts:{multicall:"0xcA11bde05977b3631167028862bE2a173976CA11",poolDataQueries:"0x9805dcfD25e6De36bad8fe9D3Fe2c9b44B764102",...Ee[Q.SEPOLIA].contracts},tokens:{bal:Ee[Q.SEPOLIA].contracts.bal,wrappedNativeAsset:Ee[Q.SEPOLIA].contracts.weth,...Ee[Q.SEPOLIA].tokens}},urls:{subgraph:"https://api.studio.thegraph.com/query/24660/balancer-sepolia-v2/version/latest"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"ethereum"}},pools:{},poolsToIgnore:[],sorConnectingTokens:[]},[Q.ZKEVM]:{chainId:Q.ZKEVM,addresses:{contracts:{balancerMinter:"0x475D18169BE8a89357A9ee3Ab00ca386d20fA229",multicall:"0xcA11bde05977b3631167028862bE2a173976CA11",poolDataQueries:"0xF24917fB88261a37Cc57F686eBC831a5c0B9fD39",...Ee[Q.ZKEVM].contracts},tokens:{bal:Ee[Q.ZKEVM].contracts.bal,wrappedNativeAsset:Ee[Q.ZKEVM].contracts.weth,...Ee[Q.ZKEVM].tokens}},urls:{subgraph:"https://api.studio.thegraph.com/query/24660/balancer-polygon-zk-v2/version/latest",gaugesSubgraph:"https://api.studio.thegraph.com/query/24660/balancer-gauges-polygon-zk/version/latest"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"polygon-zkevm"}},averageBlockTime:4,multicallBatchSize:128,pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"weth",address:"0x4F9A0e7FD2Bf6067db6994CF12E4495Df938E6e9"},{symbol:"wsEth",address:"0x5D8cfF95D7A57c0BF50B30b43c7CC0D52825D4a9"}]},[Q.AVALANCHE]:{chainId:Q.AVALANCHE,addresses:{contracts:{balancerMinter:"0xEa924b45a3fcDAAdf4E5cFB1665823B8F8F2039B",multicall:"0xcA11bde05977b3631167028862bE2a173976CA11",poolDataQueries:"0x67af5D428d38C5176a286a2371Df691cDD914Fb8",...Ee[Q.AVALANCHE].contracts},tokens:{bal:Ee[Q.AVALANCHE].contracts.bal,wrappedNativeAsset:Ee[Q.AVALANCHE].contracts.weth,...Ee[Q.AVALANCHE].tokens}},urls:{subgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-avalanche-v2",gaugesSubgraph:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-gauges-avalanche",blockNumberSubgraph:"https://api.thegraph.com/subgraphs/name/iliaazhel/avalanche-blocks"},thirdParty:{coingecko:{nativeAssetId:"avalanche-2",platformId:"avalanche"}},pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"WAVAX",address:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7"},{symbol:"sAVAX",address:"0x2b2c81e08f1af8835a78bb2a90ae924ace0ea4be"}]},[Q.NEON_DEVNET]:{chainId:Q.NEON_DEVNET,addresses:{contracts:{vault:"0x7122e35ceC2eED4A989D9b0A71998534A203972C",multicall:"0xcA11bde05977b3631167028862bE2a173976CA11",poolDataQueries:"0xfc075Cbe961922D04f05A6b1df1c0884274d28c4",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x12977Bed9E12028789B2075119F8CcfE192C9ED6",balancerHelpers:"0xE637B979E14E26EdA9a7e572B27a87FB9F49c50E",weightedPoolFactory:"0x8D88057B8CC9235d4C69db3c14fd8D4229a6ae35",composableStablePoolFactory:"0x60EF61C5C0f4213C7B2C02F64A575DC4BfDbF302"},tokens:{bal:"0x0000000000000000000000000000000000000000",wrappedNativeAsset:"0x11adC2d986E334137b9ad0a0F290771F31e9517F",lbpRaisingTokens:["0x11adC2d986E334137b9ad0a0F290771F31e9517F","0x512E48836Cd42F3eB6f50CEd9ffD81E0a7F15103","0xc7Fc9b46e479c5Cb42f6C458D1881e55E6B7986c"]}},urls:{subgraph:"https://ch2-graph.neontest.xyz/subgraphs/name/sobal/sobal-pools",gaugesSubgraph:""},thirdParty:{coingecko:{nativeAssetId:"neon",platformId:"neon-evm"}},averageBlockTime:2,multicallBatchSize:128,pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"wNEON",address:"0x11adC2d986E334137b9ad0a0F290771F31e9517F"}]},[Q.NEON_MAINNET]:{chainId:Q.NEON_MAINNET,addresses:{contracts:{vault:"0x7122e35ceC2eED4A989D9b0A71998534A203972C",multicall:"0xca11bde05977b3631167028862be2a173976ca11",poolDataQueries:"0xfc075Cbe961922D04f05A6b1df1c0884274d28c4",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x12977Bed9E12028789B2075119F8CcfE192C9ED6",balancerHelpers:"0xE637B979E14E26EdA9a7e572B27a87FB9F49c50E",weightedPoolFactory:"0x8D88057B8CC9235d4C69db3c14fd8D4229a6ae35",composableStablePoolFactory:"0x60EF61C5C0f4213C7B2C02F64A575DC4BfDbF302"},tokens:{bal:"0x0000000000000000000000000000000000000000",wrappedNativeAsset:"0x202C35e517Fa803B537565c40F0a6965D7204609",lbpRaisingTokens:["0x202C35e517Fa803B537565c40F0a6965D7204609","0xEA6B04272f9f62F997F666F07D3a974134f7FFb9","0x5f0155d08ef4aae2b500aefb64a3419da8bb611a","0x5f38248f339Bf4e84A2caf4e4c0552862dC9F82a"]}},urls:{subgraph:"https://neon-subgraph.sobal.fi/sobal-pools",gaugesSubgraph:"",blockNumberSubgraph:"https://neon-subgraph.sobal.fi/sobal-neon-blocks"},thirdParty:{coingecko:{nativeAssetId:"neon",platformId:"neon-evm"}},multicallBatchSize:128,pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"wNEON",address:"0x202C35e517Fa803B537565c40F0a6965D7204609"}]},[Q.BASE]:{chainId:Q.BASE,addresses:{contracts:{vault:"0x7122e35ceC2eED4A989D9b0A71998534A203972C",multicall:"0xca11bde05977b3631167028862be2a173976ca11",poolDataQueries:"0xfc075Cbe961922D04f05A6b1df1c0884274d28c4",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x12977Bed9E12028789B2075119F8CcfE192C9ED6",balancerHelpers:"0xE637B979E14E26EdA9a7e572B27a87FB9F49c50E",weightedPoolFactory:"0x8D88057B8CC9235d4C69db3c14fd8D4229a6ae35",composableStablePoolFactory:"0x60EF61C5C0f4213C7B2C02F64A575DC4BfDbF302"},tokens:{bal:"0x0000000000000000000000000000000000000000",wrappedNativeAsset:"0x4200000000000000000000000000000000000006",lbpRaisingTokens:["0x4200000000000000000000000000000000000006","0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb"]}},urls:{subgraph:"https://api.studio.thegraph.com/query/50526/sobal-base/version/latest",gaugesSubgraph:"",blockNumberSubgraph:"https://api.studio.thegraph.com/query/50526/sobal-base-blocks/version/latest"},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"base"}},pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"WETH",address:"0x4200000000000000000000000000000000000006"}]},[Q.BASE_GOERLI]:{chainId:Q.BASE_GOERLI,addresses:{contracts:{vault:"0x7122e35ceC2eED4A989D9b0A71998534A203972C",multicall:"0xca11bde05977b3631167028862be2a173976ca11",poolDataQueries:"0xfc075Cbe961922D04f05A6b1df1c0884274d28c4",gaugeClaimHelper:"0x0000000000000000000000000000000000000000",balancerRelayer:"0x12977Bed9E12028789B2075119F8CcfE192C9ED6",balancerHelpers:"0xE637B979E14E26EdA9a7e572B27a87FB9F49c50E",weightedPoolFactory:"0x8D88057B8CC9235d4C69db3c14fd8D4229a6ae35",composableStablePoolFactory:"0x60EF61C5C0f4213C7B2C02F64A575DC4BfDbF302"},tokens:{bal:"0x0000000000000000000000000000000000000000",wrappedNativeAsset:"0x4200000000000000000000000000000000000006",lbpRaisingTokens:["0x4200000000000000000000000000000000000006","0x174956bDfbCEb6e53089297cce4fE2825E58d92C"]}},urls:{subgraph:"https://api.studio.thegraph.com/query/50526/sobal-base-goerli/version/latest",gaugesSubgraph:""},thirdParty:{coingecko:{nativeAssetId:"eth",platformId:"base"}},averageBlockTime:2,pools:{},poolsToIgnore:[],sorConnectingTokens:[{symbol:"WETH",address:"0x4200000000000000000000000000000000000006"}]}},gi=t=>Wn[t].addresses;var X;(function(t){t.ABOVE_MAX_TOKENS="ABOVE_MAX_TOKENS",t.BELOW_MIN_TOKENS="BELOW_MIN_TOKENS",t.EXIT_DELTA_AMOUNTS="EXIT_DELTA_AMOUNTS",t.FEE_PROVIDER_NOT_PROVIDED="FEE_PROVIDER_NOT_PROVIDED",t.GAUGES_HELPER_ADDRESS_NOT_PROVIDED="GAUGES_HELPER_ADDRESS_NOT_PROVIDED",t.GAUGES_NOT_FOUND="GAUGES_NOT_FOUND",t.GAUGES_REWARD_MINTER_ADDRESS_NOT_PROVIDED="GAUGES_REWARD_MINTER_ADDRESS_NOT_PROVIDED",t.GAUGES_REWARD_TOKEN_EMPTY="GAUGES_REWARD_TOKEN_EMPTY",t.ILLEGAL_PARAMETER="ILLEGAL_PARAMETER",t.INTERNAL_ERROR_INVALID_ABI="INTERNAL_ERROR_INVALID_ABI",t.INPUT_LENGTH_MISMATCH="INPUT_LENGTH_MISMATCH",t.INPUT_OUT_OF_BOUNDS="INPUT_OUT_OF_BOUNDS",t.INPUT_TOKEN_INVALID="INPUT_TOKEN_INVALID",t.INVALID_PROTOCOL_ID="INVALID_PROTOCOL_ID",t.INVALID_SWAP_FEE_PERCENTAGE="INVALID_SWAP_FEE_PERCENTAGE",t.INVALID_WEIGHTS="INVALID_WEIGHTS",t.JOIN_DELTA_AMOUNTS="JOIN_DELTA_AMOUNTS",t.JOIN_WITH_ZERO_AMOUNT="JOIN_WITH_ZERO_AMOUNT",t.MISSING_AMP="MISSING_AMP",t.MISSING_DECIMALS="MISSING_DECIMALS",t.MISSING_PRICE_RATE="MISSING_PRICE_RATE",t.MISSING_TOKENS="MISSING_TOKENS",t.MISSING_WEIGHT="MISSING_WEIGHT",t.NO_POOL_DATA="NO_POOL_DATA",t.NO_VALUE_PARAMETER="NO_VALUE_PARAMETER",t.POOL_DOESNT_EXIST="POOL_DOESNT_EXIST",t.QUERY_BATCH_SWAP="QUERY_BATCH_SWAP",t.RELAY_SWAP_AMOUNTS="RELAY_SWAP_AMOUNTS",t.REWARD_TOKEN_ZERO="REWARD_TOKEN_ZERO",t.TIMESTAMP_IN_THE_FUTURE="TIMESTAMP_IN_THE_FUTURE",t.TOKEN_MISMATCH="TOKEN_MISMATCH",t.UNSUPPORTED_PAIR="UNSUPPORTED_PAIR",t.UNSUPPORTED_POOL_TYPE="UNSUPPORTED_POOL_TYPE",t.UNSUPPORTED_POOL_TYPE_VERSION="UNSUPPORTED_POOL_TYPE_VERSION"})(X||(X={}));class Z extends Error{constructor(e){super(Z.getMessage(e)),this.code=e,this.name="BalancerError"}static getMessage(e){switch(e){case X.ABOVE_MAX_TOKENS:return"the array contains more tokens than the maximum allowed";case X.BELOW_MIN_TOKENS:return"the array does not contain the minimum quantity of tokens";case X.EXIT_DELTA_AMOUNTS:return"Error when checking exit call deltas";case X.FEE_PROVIDER_NOT_PROVIDED:return"Fee Provider Repository has not been provided";case X.GAUGES_HELPER_ADDRESS_NOT_PROVIDED:return"Liquidity Gauges Helper Contract address has not been provided";case X.GAUGES_NOT_FOUND:return"Liquidity Gauges not found with given addresses";case X.GAUGES_REWARD_MINTER_ADDRESS_NOT_PROVIDED:return"Liquidity Gauges Reward Minter Contract address has not been provided";case X.GAUGES_REWARD_TOKEN_EMPTY:return"No Reward Tokens for Liquidity Gauges provided";case X.INPUT_LENGTH_MISMATCH:return"input length mismatch";case X.INPUT_OUT_OF_BOUNDS:return"input out of bounds";case X.INPUT_TOKEN_INVALID:return"input token invalid";case X.INVALID_PROTOCOL_ID:return"The provided protocol id does not correspond to a protocol";case X.INVALID_SWAP_FEE_PERCENTAGE:return"The swap fee needs to be greater than zero and less than 1e17(10%)";case X.INVALID_WEIGHTS:return"The sum of the weights needs to be equal to 1e18(100%)";case X.JOIN_DELTA_AMOUNTS:return"Error when checking join call deltas";case X.JOIN_WITH_ZERO_AMOUNT:return"Cant join pool with 0 amount of token in";case X.MISSING_AMP:return"missing amp";case X.MISSING_DECIMALS:return"missing decimals";case X.MISSING_PRICE_RATE:return"missing price rate";case X.MISSING_TOKENS:return"missing tokens";case X.MISSING_WEIGHT:return"missing weight";case X.NO_POOL_DATA:return"no pool data";case X.NO_VALUE_PARAMETER:return"Illegal value passed as parameter";case X.POOL_DOESNT_EXIST:return"balancer pool does not exist";case X.RELAY_SWAP_AMOUNTS:return"Error when checking swap amounts";case X.REWARD_TOKEN_ZERO:return"All Zero Values for Reward Tokens";case X.TIMESTAMP_IN_THE_FUTURE:return"Timestamp cannot be in the future";case X.TOKEN_MISMATCH:return"token mismatch";case X.UNSUPPORTED_PAIR:return"unsupported token pair";case X.UNSUPPORTED_POOL_TYPE:return"unsupported pool type";default:return"Unknown error"}}}function os(t,e,n){return n?function(a,i){const o=Wt-ge.divDownFixed(a,i);return o<0?BigInt(0):o}(t,e):function(a,i){const o=ge.divDownFixed(a,i)-Wt;return o<0?BigInt(0):o}(t,e)}const xi=BigInt(1e3);function $6(t,e,n,a){const i=e.length,o=function(f,I,v){let x=Oe;const C=I.length;for(let $=0;$<C;$++)x+=I[$];if(x==Oe)return Oe;let j=Oe,U=x;const z=f*BigInt(C);for(let $=0;$<255;$++){let b=I[0]*BigInt(C);for(let T=1;T<C;T++)b=ge.div(ge.mul(ge.mul(b,I[T]),BigInt(C)),U,v);if(j=U,U=ge.div(ge.mul(ge.mul(BigInt(C),U),U)+ge.div(ge.mul(ge.mul(z,x),b),xi,v),ge.mul(BigInt(C+1),U)+ge.div(ge.mul(z-xi,b),xi,!v),v),U>j){if(U-j<=1)return U}else if(j-U<=1)return U}throw new Error("Errors.STABLE_INVARIANT_DIDNT_CONVERGE")}(t,e,!0);let s=Oe,r=o/BigInt(i);for(let f=0;f<i;f++)f!=a&&(s+=e[f],r=r*o/(BigInt(i)*e[f]));const l=e[a],p=t*BigInt(i),u=p*s,d=BigInt(xi)-p,c=BigInt(2)*p*l+u+d*o,m=r*BigInt(i+1)*xi-d*l;return ge.divUpFixed(c*n/m,o)}class Gt{bptZeroPriceImpact(e,n){const{ampWithPrecision:a,scalingFactorsWithoutBpt:i,totalSharesEvm:o,upScaledBalancesWithoutBpt:s}=je(e);if(n.length!==s.length)throw new Z(X.INPUT_LENGTH_MISMATCH);let r=Oe;for(let l=0;l<s.length;l++)r+=$6(a,s,o,l)*jl(n[l],i[l])/Wt;return r}calcPriceImpact(e,n,a,i){return os(a,this.bptZeroPriceImpact(e,n),i).toString()}}class Ay{constructor(){this.buildExitExactBPTIn=({exiter:e,pool:n,bptIn:a,slippage:i,shouldUnwrapNativeAsset:o,wrappedNativeAsset:s,singleTokenOut:r,toInternalBalance:l})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:r,pool:n,shouldUnwrapNativeAsset:o});const p=this.sortValuesExitExactBptIn({pool:n,wrappedNativeAsset:s,shouldUnwrapNativeAsset:o,singleTokenOut:r}),{minAmountsOut:u,expectedAmountsOut:d}=p.singleTokenOutIndex>=0?this.calcTokenOutGivenExactBptIn({...p,bptIn:a,slippage:i}):this.calcTokensOutGivenExactBptIn({...p,bptIn:a,slippage:i}),c=p.singleTokenOutIndex>=0?Ke.exitExactBPTInForOneTokenOut(a,p.singleTokenOutIndex):Ke.exitExactBPTInForTokensOut(a),m=this.encodeExitPool({poolTokens:p.poolTokens,poolId:n.id,exiter:e,minAmountsOut:u,userData:c,toInternalBalance:l}),f=new Gt().calcPriceImpact(n,d.map(BigInt),BigInt(a),!1);return{...m,expectedAmountsOut:d,minAmountsOut:u,priceImpact:f}},this.buildExitExactTokensOut=({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s,toInternalBalance:r})=>{this.checkInputsExactTokensOut(i,a,n);const l=this.sortValuesExitExactTokensOut({pool:n,wrappedNativeAsset:s,amountsOut:i,tokensOut:a}),{expectedBPTIn:p,maxBPTIn:u}=this.calcBptInGivenExactTokensOut({...l,slippage:o}),{downScaledAmountsOut:d,poolTokens:c}=l,m=Ke.exitBPTInForExactTokensOut(d,u);return{...this.encodeExitPool({poolId:n.id,userData:m,poolTokens:c,minAmountsOut:d,exiter:e,toInternalBalance:r}),expectedBPTIn:p,maxBPTIn:u,priceImpact:new Gt().calcPriceImpact(n,d.map(BigInt),BigInt(p),!1)}},this.buildRecoveryExit=({exiter:e,pool:n,bptIn:a,slippage:i,toInternalBalance:o})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:void 0,pool:n,shouldUnwrapNativeAsset:!1});const s=je(n),{minAmountsOut:r,expectedAmountsOut:l}=this.calcTokensOutGivenExactBptIn({...s,singleTokenOutIndex:-1,bptIn:a,slippage:i}),p=Xi.recoveryModeExit(a),u=this.encodeExitPool({poolTokens:s.poolTokens,poolId:n.id,exiter:e,minAmountsOut:r,userData:p,toInternalBalance:o}),d=new Gt().calcPriceImpact(n,l.map(BigInt),BigInt(a),!1);return{...u,expectedAmountsOut:l,minAmountsOut:r,priceImpact:d}},this.checkInputsExactBPTIn=({bptIn:e,singleTokenOut:n,pool:a,shouldUnwrapNativeAsset:i})=>{if(!e.length||H(e,18).isNegative())throw new Z(X.INPUT_OUT_OF_BOUNDS);if(n&&n!==he&&!a.tokens.map(o=>o.address).some(o=>it(o,n)))throw new Z(X.TOKEN_MISMATCH);if(!i&&n===he)throw new Error("shouldUnwrapNativeAsset and singleTokenOut should not have conflicting values");if(a.tokens.some(o=>o.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(!a.amp)throw new Z(X.MISSING_AMP)},this.checkInputsExactTokensOut=(e,n,a)=>{if(n.length!=e.length||n.length!=a.tokensList.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(a.tokens.some(i=>i.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(!a.amp)throw new Z(X.MISSING_AMP)},this.sortValuesExitExactBptIn=({pool:e,wrappedNativeAsset:n,shouldUnwrapNativeAsset:a,singleTokenOut:i})=>{const o=je(e,n,a),{poolTokens:s}=o;let r=-1;return i&&(r=s.indexOf(i)),{...o,singleTokenOutIndex:r}},this.sortValuesExitExactTokensOut=({pool:e,wrappedNativeAsset:n,amountsOut:a,tokensOut:i})=>{const o=i.some(d=>d===he),s=je(e,n,o),{scalingFactors:r}=s,l=new Je(n),[,p]=l.sortTokens(i,a),u=Ea(p.map(d=>BigInt(d)),r.map(d=>BigInt(d)));return{...s,upScaledAmountsOut:u,downScaledAmountsOut:p}},this.calcTokenOutGivenExactBptIn=({poolTokens:e,ampWithPrecision:n,upScaledBalances:a,totalSharesEvm:i,swapFeeEvm:o,singleTokenOutIndex:s,bptIn:r,slippage:l,scalingFactors:p})=>{const u=Nn._calcTokenOutGivenExactBptIn(n,a,s,BigInt(r),i,o).toString(),d=as(BigInt(u)-BigInt(1),p[s]).toString(),c=Array(e.length).fill("0"),m=Array(e.length).fill("0");return c[s]=d,m[s]=st(S.from(d),S.from(l)).toString(),{minAmountsOut:m,expectedAmountsOut:c}},this.calcTokensOutGivenExactBptIn=({upScaledBalances:e,totalSharesEvm:n,scalingFactors:a,bptIn:i,slippage:o})=>{const s=is(Nn._calcTokensOutGivenExactBptIn(e,BigInt(i),n),a),r=s.map(l=>l.toString());return{minAmountsOut:s.map(l=>st(S.from(l),S.from(o)).toString()),expectedAmountsOut:r}},this.calcBptInGivenExactTokensOut=({ampWithPrecision:e,upScaledBalances:n,upScaledAmountsOut:a,totalSharesEvm:i,swapFeeEvm:o,slippage:s})=>{const r=Nn._calcBptInGivenExactTokensOut(e,n,a,i,o).toString();return{maxBPTIn:Xl(S.from(r),S.from(s)).toString(),expectedBPTIn:r}},this.encodeExitPool=({poolId:e,exiter:n,poolTokens:a,minAmountsOut:i,userData:o,toInternalBalance:s})=>{const r=un,l="exitPool",p={poolId:e,sender:n,recipient:n,exitPoolRequest:{assets:a,minAmountsOut:i,userData:o,toInternalBalance:s}};return{data:kt.createInterface().encodeFunctionData(l,[p.poolId,p.sender,p.recipient,p.exitPoolRequest]),to:r,functionName:l,attributes:p}}}}class Oy{constructor(){this.buildJoin=({joiner:e,pool:n,tokensIn:a,amountsIn:i,slippage:o,wrappedNativeAsset:s})=>{this.checkInputs(a,i,n);const r=this.sortValues({pool:n,wrappedNativeAsset:s,tokensIn:a,amountsIn:i}),{expectedBPTOut:l,minBPTOut:p}=this.calcBptOutGivenExactTokensIn({...r,slippage:o});return{...this.encodeJoinPool({joiner:e,amountsIn:i,tokensIn:a,poolId:n.id,minBPTOut:p,...r}),minBPTOut:p,expectedBPTOut:l,priceImpact:new Gt().calcPriceImpact(n,r.sortedAmountsIn.map(BigInt),BigInt(l),!0)}},this.checkInputs=(e,n,a)=>{if(n.length!=e.length||n.length!=a.tokensList.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(a.tokens.some(i=>i.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(!a.amp)throw new Z(X.MISSING_AMP)},this.sortValues=({pool:e,wrappedNativeAsset:n,amountsIn:a,tokensIn:i})=>{const{poolTokens:o,ampWithPrecision:s,totalSharesEvm:r,swapFeeEvm:l,scalingFactors:p,upScaledBalances:u}=je(e,n,i.includes(he)),d=new Je(n),[,c]=d.sortTokens(i,a);return{poolTokens:o,ampWithPrecision:s,totalSharesEvm:r,swapFeeEvm:l,upScaledBalances:u,upScaledAmountsIn:Ea(c.map(m=>BigInt(m)),p.map(m=>BigInt(m))),sortedAmountsIn:c}},this.calcBptOutGivenExactTokensIn=({ampWithPrecision:e,upScaledBalances:n,upScaledAmountsIn:a,totalSharesEvm:i,swapFeeEvm:o,slippage:s})=>{const r=Nn._calcBptOutGivenExactTokensIn(e,n,a,i,o).toString();return{expectedBPTOut:r,minBPTOut:st(S.from(r),S.from(s)).toString()}},this.encodeJoinPool=({poolId:e,joiner:n,poolTokens:a,sortedAmountsIn:i,amountsIn:o,tokensIn:s,minBPTOut:r})=>{const l=Ke.joinExactTokensInForBPTOut(i,r),p=un,u="joinPool",d={poolId:e,sender:n,recipient:n,joinPoolRequest:{assets:a,maxAmountsIn:i,userData:l,fromInternalBalance:!1}};return{attributes:d,data:kt.createInterface().encodeFunctionData(u,[d.poolId,d.sender,d.recipient,d.joinPoolRequest]),functionName:u,to:p,value:Ui(s,o)}}}}class ap{calcTotal(e){var n,a;let i=S.from(0),o=S.from(0);for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;const l=Re(r.price.usd.toString(),18),p=Re(r.balance,18),u=p.mul(l);o=o.add(u),i=i.add(p)}if(i.gt(0)){const s=o.div(i);for(let r=0;r<e.length;r++){const l=e[r];if(!((a=l.price)===null||a===void 0)&&a.usd)continue;const p=Re(l.balance,18),u=p.mul(s);o=o.add(u),i=i.add(p)}}return F(o,36).toString()}}class j6{calcPoolSpotPrice(e,n,a){const i=ga.fromPool(a),o=i.parsePoolPairData(e,n);return i._spotPriceAfterSwapExactTokenInForTokenOut(o,V).toString()}}class Eu{constructor(e=new Ay,n=new Oy,a=new ap,i=new j6,o=new Gt){this.exit=e,this.join=n,this.liquidity=a,this.spotPriceCalculator=i,this.priceImpactCalculator=o}}class By{calcPoolSpotPrice(e,n,a){const i=_n.fromPool(a),o=i.parsePoolPairData(e,n);return i._spotPriceAfterSwapExactTokenInForTokenOut(o,V).toString()}}class z6{constructor(){this.buildJoin=({joiner:e,pool:n,tokensIn:a,amountsIn:i,slippage:o,wrappedNativeAsset:s})=>{this.checkInputs(a,i,n.tokensList);const r=this.sortValuesBasedOnPoolVersion({pool:n,wrappedNativeAsset:s,amountsIn:i,tokensIn:a}),l=this.buildExactTokensInForBPTOut({...r,slippage:o,joiner:e,poolId:n.id}),p=Ui(a,i),u=new Gt().calcPriceImpact(n,r.sortedAmountsIn.map(BigInt),BigInt(l.expectedBPTOut),!0);return{...l,to:un,value:p,priceImpact:u}}}sortValuesBasedOnPoolVersion({pool:e,wrappedNativeAsset:n,amountsIn:a,tokensIn:i}){return this.sortV1(n,i,a,e)}checkInputs(e,n,a){if(e.length!=n.length||e.length!=a.length-1)throw new Z(X.INPUT_LENGTH_MISMATCH)}encodeUserDataExactTokensInForBPTOut(e,n,a){const i=st(S.from(e),S.from(n)).toString();return{userData:bt.joinExactTokensInForBPTOut(a,i),minBPTOut:i}}encodeJoinPool(e,n,a,i,o,s){const r="joinPool",l={poolId:e,sender:n,recipient:a,joinPoolRequest:{assets:i,maxAmountsIn:s,userData:o,fromInternalBalance:!1}};return{functionName:r,attributes:l,data:kt.createInterface().encodeFunctionData(r,[l.poolId,l.sender,l.recipient,l.joinPoolRequest])}}sortV1(e,n,a,i){const o=new Je(e),[,s]=o.sortTokens(n,a),{poolTokens:r,ampWithPrecision:l,swapFeeEvm:p,totalSharesEvm:u,bptIndex:d,scalingFactorsWithoutBpt:c,upScaledBalancesWithoutBpt:m}=je(i,e,n.includes(he));return{sortedAmountsIn:s,scalingFactorsWithoutBpt:c,upScaledBalancesWithoutBpt:m,ampWithPrecision:l,totalSharesEvm:u,swapFeeEvm:p,bptIndex:d,poolTokens:r}}buildExactTokensInForBPTOut(e){const{sortedAmountsIn:n,scalingFactorsWithoutBpt:a,upScaledBalancesWithoutBpt:i,ampWithPrecision:o,totalSharesEvm:s,swapFeeEvm:r,bptIndex:l,poolTokens:p,slippage:u,poolId:d,joiner:c}=e,m=this.calcBptOutGivenExactTokensIn(n,a,i,o,s,r),f=this.encodeUserDataExactTokensInForBPTOut(m,u,n),{functionName:I,data:v,attributes:x}=this.encodeJoinPool(d,c,c,p,f.userData,Mi(n,l,"0"));return{functionName:I,data:v,attributes:x,minBPTOut:f.minBPTOut,expectedBPTOut:m.toString()}}calcBptOutGivenExactTokensIn(e,n,a,i,o,s){const r=Ea(e.map(BigInt),n.map(BigInt));return Nn._calcBptOutGivenExactTokensIn(i,a,r,o,s)}sortV4(e,n,a){const{poolTokens:i,poolTokensWithoutBpt:o,ampWithPrecision:s,swapFeeEvm:r,totalSharesEvm:l,scalingFactorsWithoutBpt:p,upScaledBalancesWithoutBpt:u}=je(a),[d]=F6(o,e,n);return{sortedAmountsIn:d,scalingFactorsWithoutBpt:p,upScaledBalancesWithoutBpt:u,ampWithPrecision:s,totalSharesEvm:l,swapFeeEvm:r,bptIndex:0,poolTokens:i}}}class X6{constructor(){this.buildExitExactBPTIn=({exiter:e,pool:n,bptIn:a,slippage:i,shouldUnwrapNativeAsset:o,wrappedNativeAsset:s,singleTokenOut:r,toInternalBalance:l})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:r,pool:n,shouldUnwrapNativeAsset:o});const p=this.sortValuesExitExactBptIn({pool:n,wrappedNativeAsset:s,shouldUnwrapNativeAsset:o,singleTokenOut:r}),{minAmountsOut:u,expectedAmountsOut:d}=p.singleTokenOutIndexWithoutBpt>=0?this.calcTokenOutGivenExactBptIn({...p,bptIn:a,slippage:i}):this.calcTokensOutGivenExactBptIn({...p,bptIn:a,slippage:i}),c=p.singleTokenOutIndexWithoutBpt>=0?bt.exitExactBPTInForOneTokenOut(a,p.singleTokenOutIndexWithoutBpt):bt.exitExactBPTInForAllTokensOut(a),m=Mi(u,p.bptIndex,"0"),f=this.encodeExitPool({poolTokens:p.poolTokens,poolId:n.id,exiter:e,userData:c,minAmountsOut:m,toInternalBalance:l}),I=new Gt().calcPriceImpact(n,d.map(BigInt),BigInt(a),!1);return{...f,expectedAmountsOut:d,minAmountsOut:u,priceImpact:I}},this.buildExitExactTokensOut=({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s,toInternalBalance:r})=>{this.checkInputsExactTokensOut(a,i,n);const l=this.sortValuesExitExactTokensOut({pool:n,wrappedNativeAsset:s,amountsOut:i,tokensOut:a}),{bptIn:p,maxBPTIn:u}=this.calcBptInGivenExactTokensOut({...l,slippage:o}),d=bt.exitBPTInForExactTokensOut(l.downscaledAmountsOutWithoutBpt,u);return{...this.encodeExitPool({poolTokens:l.poolTokens,minAmountsOut:l.downscaledAmountsOutWithBpt,userData:d,exiter:e,poolId:n.id,toInternalBalance:r}),maxBPTIn:u,expectedBPTIn:p,priceImpact:new Gt().calcPriceImpact(n,l.downscaledAmountsOutWithoutBpt.map(BigInt),BigInt(p),!1)}},this.buildRecoveryExit=({exiter:e,pool:n,bptIn:a,slippage:i,toInternalBalance:o})=>{this.checkInputsRecoveryExit({bptIn:a,pool:n}),n.tokens.forEach(m=>m.priceRate="1");const s=je(n),{minAmountsOut:r,expectedAmountsOut:l}=this.calcTokensOutGivenExactBptIn({...s,bptIn:a,slippage:i}),p=Xi.recoveryModeExit(a),u=Mi(r,s.bptIndex,"0"),d=this.encodeExitPool({poolTokens:s.poolTokens,poolId:n.id,exiter:e,userData:p,minAmountsOut:u,toInternalBalance:o}),c=new Gt().calcPriceImpact(n,l.map(BigInt),BigInt(a),!1);return{...d,expectedAmountsOut:l,minAmountsOut:r,priceImpact:c}},this.checkInputsExactBPTIn=({bptIn:e,singleTokenOut:n,pool:a,shouldUnwrapNativeAsset:i})=>{if(S.from(e).lte(0))throw new Z(X.INPUT_OUT_OF_BOUNDS);if(!n&&a.poolTypeVersion<2)throw new Error("Unsupported Exit Type For Pool");if(n&&n!==he&&!a.tokens.map(o=>o.address).some(o=>it(o,n)))throw new Z(X.TOKEN_MISMATCH);if(!i&&n===he)throw new Error("shouldUnwrapNativeAsset and singleTokenOut should not have conflicting values");if(a.tokens.some(o=>o.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(!a.amp)throw new Z(X.MISSING_AMP)},this.checkInputsExactTokensOut=(e,n,a)=>{if(e.length!=n.length||e.length!=a.tokensList.length-1)throw new Z(X.INPUT_LENGTH_MISMATCH)},this.checkInputsRecoveryExit=({bptIn:e,pool:n})=>{if(S.from(e).lte(0))throw new Z(X.INPUT_OUT_OF_BOUNDS);if(!n.isInRecoveryMode)throw new Error("Exit type not supported because pool is not in Recovery Mode");if(n.tokens.some(a=>a.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(!n.amp)throw new Z(X.MISSING_AMP)},this.sortValuesExitExactBptIn=({pool:e,singleTokenOut:n,wrappedNativeAsset:a,shouldUnwrapNativeAsset:i})=>{const o=je(e,a,i);let s=-1;return n&&(s=o.poolTokensWithoutBpt.indexOf(n)),{...o,singleTokenOutIndexWithoutBpt:s}},this.sortValuesExitExactTokensOut=({pool:e,wrappedNativeAsset:n,amountsOut:a,tokensOut:i})=>{const o=i.some(d=>d===he),s=je(e,n,o),r=new Je(n),[,l]=r.sortTokens(i,a),p=Mi(l,s.bptIndex,"0").map(d=>{const c=S.from(d);return c.isZero()?d:c.sub(1).toString()}),u=Ea(l.map(d=>BigInt(d)),s.scalingFactorsWithoutBpt);return{...s,upScaledAmountsOutWithoutBpt:u,downscaledAmountsOutWithBpt:p,downscaledAmountsOutWithoutBpt:l}},this.calcTokenOutGivenExactBptIn=({ampWithPrecision:e,upScaledBalancesWithoutBpt:n,singleTokenOutIndexWithoutBpt:a,scalingFactorsWithoutBpt:i,totalSharesEvm:o,swapFeeEvm:s,bptIn:r,slippage:l})=>{const p=Nn._calcTokenOutGivenExactBptIn(e,n,a,BigInt(r),o,s),u=Array(n.length).fill("0"),d=Array(n.length).fill("0"),c=as(p,i[a]);return u[a]=c.toString(),d[a]=st(S.from(c),S.from(l)).toString(),{minAmountsOut:d,expectedAmountsOut:u}},this.calcTokensOutGivenExactBptIn=({upScaledBalancesWithoutBpt:e,totalSharesEvm:n,scalingFactorsWithoutBpt:a,bptIn:i,slippage:o})=>{const s=is(Nn._calcTokensOutGivenExactBptIn(e,BigInt(i),n),a),r=s.map(l=>l.toString());return{minAmountsOut:s.map(l=>st(S.from(l),S.from(o)).toString()),expectedAmountsOut:r}},this.calcBptInGivenExactTokensOut=({ampWithPrecision:e,upScaledBalancesWithoutBpt:n,upScaledAmountsOutWithoutBpt:a,totalSharesEvm:i,swapFeeEvm:o,slippage:s})=>{const r=Nn._calcBptInGivenExactTokensOut(e,n,a,i,o).toString();return{bptIn:r,maxBPTIn:Xl(S.from(r),S.from(s)).toString()}},this.encodeExitPool=e=>{const{exiter:n,poolId:a,minAmountsOut:i,userData:o,poolTokens:s,toInternalBalance:r}=e,l="exitPool",p={poolId:a,sender:n,recipient:n,exitPoolRequest:{assets:s,minAmountsOut:i,userData:o,toInternalBalance:r}};return{to:un,functionName:l,attributes:p,data:kt.createInterface().encodeFunctionData(l,[p.poolId,p.sender,p.recipient,p.exitPoolRequest])}}}}class Su{constructor(e=new X6,n=new ap,a=new By,i=new Gt,o=new z6){this.exit=e,this.liquidity=n,this.spotPriceCalculator=a,this.priceImpactCalculator=i,this.join=o}}class Ci{bptZeroPriceImpact(e,n){if(n.length!==e.tokensList.length)throw new Z(X.INPUT_LENGTH_MISMATCH);const{scalingFactorsRaw:a,totalSharesEvm:i,upScaledBalances:o,weights:s}=je(e);let r=Oe;for(let l=0;l<n.length;l++)r+=s[l]*i/o[l]*jl(n[l],a[l])/Wt;return r}calcPriceImpact(e,n,a,i){return os(a,this.bptZeroPriceImpact(e,n),i).toString()}}class J6{constructor(){this.buildExitExactBPTIn=({exiter:e,pool:n,bptIn:a,slippage:i,shouldUnwrapNativeAsset:o,wrappedNativeAsset:s,singleTokenOut:r,toInternalBalance:l})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:r,pool:n,shouldUnwrapNativeAsset:o});const p=this.sortValuesExitExactBptIn({pool:n,wrappedNativeAsset:s,shouldUnwrapNativeAsset:o,singleTokenOut:r}),{minAmountsOut:u,expectedAmountsOut:d}=p.singleTokenOutIndex>=0?this.calcTokenOutGivenExactBptIn({...p,bptIn:a,slippage:i}):this.calcTokensOutGivenExactBptIn({...p,bptIn:a,slippage:i}),c=p.singleTokenOutIndex>=0?at.exitExactBPTInForOneTokenOut(a,p.singleTokenOutIndex):at.exitExactBPTInForTokensOut(a),m=this.encodeExitPool({poolTokens:p.poolTokens,poolId:n.id,exiter:e,minAmountsOut:u,userData:c,toInternalBalance:l}),f=new Ci().calcPriceImpact(n,d.map(BigInt),BigInt(a),!1);return{...m,expectedAmountsOut:d,minAmountsOut:u,priceImpact:f}},this.buildExitExactTokensOut=({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s,toInternalBalance:r})=>{this.checkInputsExactTokensOut(i,a,n);const l=this.sortValuesExitExactTokensOut({pool:n,wrappedNativeAsset:s,amountsOut:i,tokensOut:a}),{expectedBPTIn:p,maxBPTIn:u}=this.calcBptInGivenExactTokensOut({...l,slippage:o}),{downScaledAmountsOut:d,poolTokens:c}=l,m=at.exitBPTInForExactTokensOut(d,u);return{...this.encodeExitPool({poolId:n.id,userData:m,poolTokens:c,minAmountsOut:d,exiter:e,toInternalBalance:r}),expectedBPTIn:p,maxBPTIn:u,priceImpact:new Ci().calcPriceImpact(n,d.map(BigInt),BigInt(p),!1)}},this.buildRecoveryExit=({exiter:e,pool:n,bptIn:a,slippage:i,toInternalBalance:o})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:void 0,pool:n,shouldUnwrapNativeAsset:!1}),n.tokens.forEach(c=>c.priceRate="1");const s=je(n),{minAmountsOut:r,expectedAmountsOut:l}=this.calcTokensOutGivenExactBptIn({...s,bptIn:a,slippage:i,singleTokenOutIndex:-1}),p=Xi.recoveryModeExit(a),u=this.encodeExitPool({poolTokens:s.poolTokens,poolId:n.id,exiter:e,minAmountsOut:r,userData:p,toInternalBalance:o}),d=new Ci().calcPriceImpact(n,l.map(BigInt),BigInt(a),!1);return{...u,expectedAmountsOut:l,minAmountsOut:r,priceImpact:d}},this.checkInputsExactBPTIn=({bptIn:e,singleTokenOut:n,pool:a,shouldUnwrapNativeAsset:i})=>{if(!e.length||H(e,18).isNegative())throw new Z(X.INPUT_OUT_OF_BOUNDS);if(n&&n!==he&&!a.tokens.map(o=>o.address).some(o=>it(o,n)))throw new Z(X.TOKEN_MISMATCH);if(!i&&n===he)throw new Error("shouldUnwrapNativeAsset and singleTokenOut should not have conflicting values");if(a.tokens.some(o=>o.decimals===void 0))throw new Z(X.MISSING_DECIMALS)},this.checkInputsExactTokensOut=(e,n,a)=>{if(n.length!=e.length||n.length!=a.tokensList.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(a.tokens.some(i=>i.decimals===void 0))throw new Z(X.MISSING_DECIMALS)},this.sortValuesExitExactBptIn=({pool:e,wrappedNativeAsset:n,shouldUnwrapNativeAsset:a,singleTokenOut:i})=>{const o=je(e,n,a),{poolTokens:s}=o;let r=-1;return i&&(r=s.indexOf(i.toLowerCase())),{...o,singleTokenOutIndex:r}},this.sortValuesExitExactTokensOut=({pool:e,wrappedNativeAsset:n,amountsOut:a,tokensOut:i})=>{const o=i.some(d=>d===he),s=je(e,n,o),{scalingFactors:r}=s,l=new Je(n),[,p]=l.sortTokens(i,a),u=Ea(p.map(d=>BigInt(d)),r.map(d=>BigInt(d)));return{...s,upScaledAmountsOut:u,downScaledAmountsOut:p}},this.calcTokenOutGivenExactBptIn=({poolTokens:e,weights:n,upScaledBalances:a,totalSharesEvm:i,swapFeeEvm:o,singleTokenOutIndex:s,bptIn:r,slippage:l,scalingFactors:p})=>{const u=po._calcTokenOutGivenExactBptIn(a[s],n[s],BigInt(r),i,o).toString(),d=as(BigInt(u)-BigInt(1),p[s]).toString(),c=Array(e.length).fill("0"),m=Array(e.length).fill("0");return c[s]=d,m[s]=st(S.from(d),S.from(l)).toString(),{minAmountsOut:m,expectedAmountsOut:c}},this.calcTokensOutGivenExactBptIn=({upScaledBalances:e,totalSharesEvm:n,scalingFactors:a,bptIn:i,slippage:o})=>{const s=is(po._calcTokensOutGivenExactBptIn(e,BigInt(i),n).map(l=>l.toString()).map(l=>BigInt(l)),a),r=s.map(l=>l.toString());return{minAmountsOut:s.map(l=>st(S.from(l),S.from(o)).toString()),expectedAmountsOut:r}},this.calcBptInGivenExactTokensOut=({weights:e,upScaledBalances:n,upScaledAmountsOut:a,totalSharesEvm:i,swapFeeEvm:o,slippage:s})=>{const r=po._calcBptInGivenExactTokensOut(n,e,a,i,o).toString();return{maxBPTIn:Xl(S.from(r),S.from(s)).toString(),expectedBPTIn:r}},this.encodeExitPool=({poolId:e,exiter:n,poolTokens:a,minAmountsOut:i,userData:o,toInternalBalance:s})=>{const r=un,l="exitPool",p={poolId:e,sender:n,recipient:n,exitPoolRequest:{assets:a,minAmountsOut:i,userData:o,toInternalBalance:s}};return{data:kt.createInterface().encodeFunctionData(l,[p.poolId,p.sender,p.recipient,p.exitPoolRequest]),to:r,functionName:l,attributes:p}}}}class Y6{constructor(){this.buildJoin=({joiner:e,pool:n,tokensIn:a,amountsIn:i,slippage:o,wrappedNativeAsset:s})=>{this.checkInputs(i,a,n);const r=this.sortValues({pool:n,wrappedNativeAsset:s,tokensIn:a,amountsIn:i}),{expectedBPTOut:l,minBPTOut:p}=this.calcBptOutGivenExactTokensIn({...r,slippage:o});return{...this.encodeJoinPool({...r,poolId:n.id,joiner:e,minBPTOut:p,tokensIn:a,amountsIn:i}),minBPTOut:p,expectedBPTOut:l,priceImpact:new Ci().calcPriceImpact(n,r.sortedAmountsIn.map(BigInt),BigInt(l),!0)}},this.checkInputs=(e,n,a)=>{if(e.length!=n.length||e.length!=a.tokensList.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(a.tokens.some(i=>i.decimals===void 0))throw new Z(X.MISSING_DECIMALS);if(a.tokens.some(i=>!i.weight))throw new Z(X.MISSING_WEIGHT)},this.sortValues=({pool:e,tokensIn:n,amountsIn:a,wrappedNativeAsset:i})=>{const o=n.some(u=>u===he),s=je(e,i,o),r=new Je(i),[,l]=r.sortTokens(n,a),p=Ea(l.map(BigInt),s.scalingFactors);return{...s,sortedAmountsIn:l,upScaledAmountsIn:p}},this.calcBptOutGivenExactTokensIn=({upScaledBalances:e,weights:n,upScaledAmountsIn:a,totalSharesEvm:i,swapFeeEvm:o,slippage:s})=>{const r=po._calcBptOutGivenExactTokensIn(e,n,a,i,o).toString();return{expectedBPTOut:r,minBPTOut:st(S.from(r),S.from(s)).toString()}},this.encodeJoinPool=({sortedAmountsIn:e,poolTokens:n,poolId:a,joiner:i,minBPTOut:o,amountsIn:s,tokensIn:r})=>{const l="joinPool",p={poolId:a,sender:i,recipient:i,joinPoolRequest:{assets:n,maxAmountsIn:e,userData:at.joinExactTokensInForBPTOut(e,o),fromInternalBalance:!1}};return{to:un,functionName:l,data:kt.createInterface().encodeFunctionData(l,[p.poolId,p.sender,p.recipient,p.joinPoolRequest]),attributes:p,value:Ui(r,s)}}}}class K6{calcTotal(e){var n;let a=S.from(0),i=S.from(0);for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;let l;l=parseFloat(r.price.usd)<1?Re(parseFloat(r.price.usd).toFixed(10),10).mul(1e8):Re(r.price.usd,18);const p=Re(r.balance,18),u=Re(r.weight||"0",18),d=p.mul(l);i=i.add(d),a=a.add(u)}const o=e.reduce((s,r)=>s.add(Re(r.weight||"0",18)),S.from(0));return a.gt(0)?zl(i.mul(o).div(a),36):"0"}}class Z6{calcPoolSpotPrice(e,n,a){const i=e===a.address||n===a.address;if(i){const l={address:a.address,balance:a.totalShares,decimals:18,priceRate:"1",weight:"0"};a.tokens.push(l),a.tokensList.push(a.address)}const o=ci.fromPool(a),s=o.parsePoolPairData(e,n),r=o._spotPriceAfterSwapExactTokenInForTokenOut(s,V).toString();return i&&(a.tokens.pop(),a.tokensList.pop()),r}}class ku{constructor(e=new J6,n=new Y6,a=new K6,i=new Z6,o=new Ci){this.exit=e,this.join=n,this.liquidity=a,this.spotPriceCalculator=i,this.priceImpactCalculator=o}}class Q6{calcTotal(e){var n,a;let i=ae,o=ae;for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;const l=Re(r.price.usd.toString(),18),p=Re(r.balance,18),u=p.mul(l);o=o.add(u),i=i.add(p)}if(i.gt(0)){const s=o.div(i);for(let r=0;r<e.length;r++){const l=e[r];if(!((a=l.price)===null||a===void 0)&&a.usd)continue;const p=Re(l.balance,18),u=p.mul(s);o=o.add(u),i=i.add(p)}}return F(o,36).toString()}}class e5{calcPoolSpotPrice(e,n,a){const i=wa.fromPool(a),o=i.parsePoolPairData(e,n);return i._spotPriceAfterSwapExactTokenInForTokenOut(o,V).toString()}}class Au{constructor(e=new Ay,n=new Oy,a=new Q6,i=new e5,o=new Gt){this.exit=e,this.join=n,this.liquidity=a,this.spotPriceCalculator=i,this.priceImpactCalculator=o}}class t5{constructor(){this.buildExitExactBPTIn=({exiter:e,pool:n,bptIn:a,slippage:i,shouldUnwrapNativeAsset:o,wrappedNativeAsset:s,singleTokenOut:r,toInternalBalance:l})=>{throw new Error("Exit type not supported")},this.buildExitExactTokensOut=({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s,toInternalBalance:r})=>{throw new Error("Exit type not supported")},this.buildRecoveryExit=({exiter:e,pool:n,bptIn:a,slippage:i,toInternalBalance:o})=>{throw new Error("Exit type not supported")}}}class n5{constructor(){this.buildJoin=({joiner:e,pool:n,tokensIn:a,amountsIn:i,slippage:o,wrappedNativeAsset:s})=>{throw new Error("Join type not supported")}}}class Ou{constructor(e=new t5,n=new n5,a=new ap,i=new By,o=new Gt){this.exit=e,this.join=n,this.liquidity=a,this.spotPriceCalculator=i,this.priceImpactCalculator=o}}class Fy{bptZeroPriceImpact(e,n){throw new Error("Linear Pool bptZeroPriceImpact Not Implented")}calcPriceImpact(e,n,a,i){return"0"}}class a5{constructor(){this.buildExitExactBPTIn=({exiter:e,pool:n,bptIn:a,slippage:i,shouldUnwrapNativeAsset:o,wrappedNativeAsset:s,singleTokenOut:r,toInternalBalance:l})=>{throw new Error("Exit type not supported")},this.buildExitExactTokensOut=({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s,toInternalBalance:r})=>{throw new Error("Exit type not supported")},this.buildRecoveryExit=({exiter:e,pool:n,bptIn:a,slippage:i,toInternalBalance:o})=>{this.checkInputsExactBPTIn({bptIn:a,singleTokenOut:void 0,pool:n,shouldUnwrapNativeAsset:!1}),n.tokens.forEach(m=>m.priceRate="1");const s=je(n),{minAmountsOut:r,expectedAmountsOut:l}=this.calcTokensOutGivenExactBptIn({...s,bptIn:a,slippage:i}),p=Xi.recoveryModeExit(a),u=Mi(r,s.bptIndex,"0"),d=this.encodeExitPool({poolTokens:s.poolTokens,poolId:n.id,exiter:e,minAmountsOut:u,userData:p,toInternalBalance:o}),c=new Fy().calcPriceImpact(n,l.map(BigInt),BigInt(a),!1);return{...d,expectedAmountsOut:l,minAmountsOut:r,priceImpact:c}},this.checkInputsExactBPTIn=({bptIn:e,pool:n})=>{if(S.from(e).lte(0))throw new Z(X.INPUT_OUT_OF_BOUNDS);if(n.tokens.some(a=>a.decimals===void 0))throw new Z(X.MISSING_DECIMALS)},this.calcTokensOutGivenExactBptIn=({bptIndex:e,upScaledBalances:n,totalSharesEvm:a,scalingFactors:i,bptIn:o,slippage:s})=>{const r=Ei(is(xf._calcTokensOutGivenExactBptIn(n,BigInt(o),a,e),i),e).map(l=>l.toString());return{minAmountsOut:r.map(l=>st(S.from(l),S.from(s)).toString()),expectedAmountsOut:r}},this.encodeExitPool=e=>{const{exiter:n,poolId:a,minAmountsOut:i,userData:o,poolTokens:s,toInternalBalance:r}=e,l="exitPool",p={poolId:a,sender:n,recipient:n,exitPoolRequest:{assets:s,minAmountsOut:i,userData:o,toInternalBalance:r}};return{to:un,functionName:l,attributes:p,data:kt.createInterface().encodeFunctionData(l,[p.poolId,p.sender,p.recipient,p.exitPoolRequest])}}}}class i5{constructor(){this.buildJoin=({joiner:e,pool:n,tokensIn:a,amountsIn:i,slippage:o,wrappedNativeAsset:s})=>{throw new Error("Join type not supported")}}}const Si=18,o5=Re("1",Si);class s5{calcTotal(e){var n,a;let i=ae,o=ae;for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;const l=Re(r.price.usd.toString(),Si),p=Re(r.balance,Si),u=p.mul(l);o=o.add(u),i=i.add(p)}if(i.gt(0)){const s=o.div(i);for(let r=0;r<e.length;r++){const l=e[r];if(!((a=l.price)===null||a===void 0)&&a.usd)continue;const p=Re(l.priceRate||"1",Si),u=Re(l.balance,Si).mul(p).div(o5),d=u.mul(s);o=o.add(d),i=i.add(u)}}return zl(o,36)}}class r5{calcPoolSpotPrice(e,n,a){const i=Hi.fromPool(a),o=i.parsePoolPairData(e,n);return i._spotPriceAfterSwapExactTokenInForTokenOut(o,V).toString()}}class Bu{constructor(e=new a5,n=new i5,a=new s5,i=new r5,o=new Fy){this.exit=e,this.join=n,this.liquidity=a,this.spotPriceCalculator=i,this.priceImpactCalculator=o}}class l5{buildExitExactTokensOut(){throw new Error("FXExitConcern Not implemented")}buildRecoveryExit(){throw new Error("FXExitConcern Not implemented")}}class p5{calcTotal(e){var n,a;let i=BigInt(0),o=BigInt(0);for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;const l=Re(r.price.usd.toString(),18).toBigInt(),p=Re(r.balance,18).toBigInt(),u=ge.mulDownFixed(p,l);o=ge.add(o,u),i=ge.add(i,p)}if(i>BigInt(0)){const s=ge.divDownFixed(o,i);for(let r=0;r<e.length;r++){const l=e[r];if(!((a=l.price)===null||a===void 0)&&a.usd)continue;const p=Re(l.balance,18).toBigInt(),u=ge.mulDownFixed(p,s);o=ge.add(o,u),i=ge.add(i,p)}}return F(o.toString(),18).toString()}}class u5{calcPoolSpotPrice(){throw new Error("FXSpotPriceConcern Not implemented")}}class d5{bptZeroPriceImpact(e,n){throw new Error("Not implemented")}calcPriceImpact(e,n,a,i){throw new Error("Not implemented")}}class c5{buildJoin(){throw new Error("FXJoinConcern Not implemented")}}class y5{constructor(e=new l5,n=new p5,a=new u5,i=new d5,o=new c5){this.exit=e,this.liquidity=n,this.spotPriceCalculator=a,this.priceImpactCalculator=i,this.join=o}}class m5{buildExitExactTokensOut({exiter:e,pool:n,tokensOut:a,amountsOut:i,slippage:o,wrappedNativeAsset:s}){throw new Error("Not implemented")}buildRecoveryExit({exiter:e,pool:n,bptIn:a,slippage:i}){throw new Error("Not implemented")}}class b5{calcTotal(e){var n,a;let i=BigInt(0),o=BigInt(0);for(let s=0;s<e.length;s++){const r=e[s];if(!(!((n=r.price)===null||n===void 0)&&n.usd))continue;const l=Re(r.price.usd.toString(),18).toBigInt(),p=Re(r.balance,18).toBigInt(),u=ge.mulDownFixed(p,l);o=ge.add(o,u),i=ge.add(i,p)}if(i>BigInt(0)){const s=ge.divDownFixed(o,i);for(let r=0;r<e.length;r++){const l=e[r];if(!((a=l.price)===null||a===void 0)&&a.usd)continue;const p=Re(l.balance,18).toBigInt(),u=ge.mulDownFixed(p,s);o=ge.add(o,u),i=ge.add(i,p)}}return F(o.toString(),18).toString()}}class f5{calcPoolSpotPrice(){throw new Error("GyroSpotPriceConcern Not implemented")}}class T5{bptZeroPriceImpact(e,n){throw new Error("Not implemented")}calcPriceImpact(e,n,a,i){throw new Error("Not implemented")}}class h5{buildJoin(){throw new Error("GyroJoinConcern Not implemented")}}class I5{constructor(e=new m5,n=new b5,a=new f5,i=new T5,o=new h5){this.exit=e,this.liquidity=n,this.spotPriceCalculator=a,this.priceImpactCalculator=i,this.join=o}}class ba{constructor(e,n=new ku,a=new Eu,i=new Su,o=new Au,s=new Ou,r=new Bu){this.weighted=n,this.stable=a,this.composableStable=i,this.metaStable=o,this.stablePhantom=s,this.linear=r}static from(e){switch(e){case"ComposableStable":return new Su;case"FX":return new y5;case"GyroE":case"Gyro2":case"Gyro3":return new I5;case"MetaStable":return new Au;case"Stable":return new Eu;case"StablePhantom":return new Ou;case"Investment":case"LiquidityBootstrapping":case"Weighted":return new ku;default:if(cy(e))return new Bu;throw new Z(X.UNSUPPORTED_POOL_TYPE)}}}class My{constructor(e,n){this.pools=e,this.tokenPrices=n}async getLiquidity(e){const n=e.tokens.filter(l=>l.address!==e.address),a=await Promise.all(n.map(async l=>{const p=await this.pools.findBy("address",l.address);if(!p)return;const u=Re(await this.getLiquidity(p),18),d=Re(p.totalShares,18),c=Re(l.balance,18),m=d.eq(0)?0:u.mul(c).div(d);return{address:p.address,liquidity:m.toString()}})),i=a.reduce((l,p)=>l.add(p?p.liquidity:S.from(0)),S.from(0)),o=n.filter(l=>!a.find(p=>(p==null?void 0:p.address)===l.address)),s=await Promise.all(o.map(async l=>{var p;const u=await this.tokenPrices.find(l.address);return{address:l.address,decimals:l.decimals,priceRate:l.priceRate,price:(u==null?void 0:u.usd)&&u||{usd:(p=l.token)===null||p===void 0?void 0:p.latestUSDPrice},balance:l.balance,weight:l.weight}})),r=Re(ba.from(e.poolType).liquidity.calcTotal(s),18);return zl(i.add(r),18)}async getBptPrice(e){const n=await this.getLiquidity(e);return(parseFloat(n)/parseFloat(e.totalShares)).toString()}}const ca=S.from("0"),Fu=t=>t?Object.keys(t).filter(e=>t[e].gt(ca)).reduce((e,n)=>(e[n]=t[n],e),{}):{},g5=(t,e,n)=>t.map(a=>((i,o,s)=>{if(!o[i.address]&&!s[i.address])return i;const r=Fu(o[i.address]),l=Fu(s[i.address]);return i.claimableTokens||(i.claimableTokens={...r,...l}),i})(a,e,n)).filter(a=>a.claimableTokens&&Object.keys(a.claimableTokens).length),w5=(t,e)=>{var n;if(e.rewardTokens)for(const a of Object.keys(e.rewardTokens))t[n=e.id]||(t[n]=[]),t[e.id].push(a);return t},Mu=new ue(["function claim_rewards(address sender, address receiver) returns (uint256)","function claimable_tokens(address addr) view returns (uint256)","function claimable_reward(address addr, address token) view returns (uint256)"]),_5=new ue(["function mintMany(address[] gauges) returns (uint256)"]),Cu=new ue(["function getPendingRewards(address gauge, address user, address token) view returns (uint256)","function claimRewardsFromGauges(address[] gauges, address user)"]);class x5{constructor(e,n,a,i,o,s){this.multicall=i,this.liquidityGauges=e,this.feeDistributor=n,this.chainId=a,this.gaugeClaimHelperAddress=o,this.balancerMinterAddress=s}async getClaimableRewardTokens(e){const n=await this.getGauges();if(!n.length)throw new Z(X.GAUGES_NOT_FOUND);const a=n.map(r=>r.address),i=this.getRewardTokens(n),o=await this.retrieveClaimableTokens(a,e),s=await this.retrieveClaimableRewards(i,e);return g5(n,s,o)}async buildClaimRewardTokensRequest(e,n){if(this.chainId===1||this.chainId===5){if(!this.balancerMinterAddress)throw new Z(X.GAUGES_REWARD_MINTER_ADDRESS_NOT_PROVIDED)}else if(!this.gaugeClaimHelperAddress)throw new Z(X.GAUGES_HELPER_ADDRESS_NOT_PROVIDED);const a=(await this.getClaimableRewardTokens(n)).filter(s=>e.map(r=>r.toLowerCase()).includes(s.address.toLowerCase())).filter(s=>s.claimableTokens&&Object.keys(s.claimableTokens).length),i=Array.from(new Set(a.map(s=>s.claimableTokens).map(s=>Object.keys(s||{})).flatMap(s=>s)));if(!i.length)throw new Z(X.GAUGES_REWARD_TOKEN_EMPTY);const o=i.map(s=>a.reduce((r,l)=>(l.claimableTokens&&l.claimableTokens[s]&&l.claimableTokens[s]!==ca&&(r=l.claimableTokens[s].add(r)),r),S.from(0)));if(!o.length||o.every(s=>s.eq(ca)))throw new Z(X.REWARD_TOKEN_ZERO);if(this.chainId===1||this.chainId===5){if(!this.balancerMinterAddress)throw new Z(X.GAUGES_REWARD_MINTER_ADDRESS_NOT_PROVIDED);const s=_5.encodeFunctionData("mintMany",[e]);return{to:this.balancerMinterAddress,from:n,callData:s,tokensOut:i,expectedTokensValue:o,functionName:"mintMany"}}{if(!this.gaugeClaimHelperAddress)throw new Z(X.GAUGES_HELPER_ADDRESS_NOT_PROVIDED);const s=Cu.encodeFunctionData("claimRewardsFromGauges",[e,n]);return{to:this.gaugeClaimHelperAddress,from:n,callData:s,tokensOut:i,expectedTokensValue:o,functionName:"claimRewardsFromGauges"}}}async getClaimableVeBalTokens(e,n){var a;if(!this.feeDistributor)throw new Z(X.FEE_PROVIDER_NOT_PROVIDED);return(a=this.feeDistributor)===null||a===void 0?void 0:a.getClaimableBalances(e,n)}async buildClaimVeBalTokensRequest(e,n){if(!this.feeDistributor)throw new Z(X.FEE_PROVIDER_NOT_PROVIDED);const a=await this.feeDistributor.getClaimableBalances(e,n),i=n.map(s=>{var r;return(r=a[s])!==null&&r!==void 0?r:ca});if(i.every(s=>s.eq(ca)))throw new Z(X.REWARD_TOKEN_ZERO);const o=this.feeDistributor.claimBalances(e,n);return{to:this.feeDistributor.feeDistributor.address,from:e,callData:o,tokensOut:n,expectedTokensValue:i,functionName:"claimTokens"}}async getGauges(){return await this.liquidityGauges.fetch()}getRewardTokens(e){return e.reduce(w5,{})}async retrieveClaimableRewards(e,n){const a=Object.keys(e),{payload:i,paths:o}=this.getPayload(a,e,n),[,s]=await this.multicall.callStatic.aggregate(i),r=s.map(l=>l=="0x"?"0x0":l);return o.reduce((l=>(p,u,d)=>{var c;const m=S.from(`${l[d]}`);return m.gt(ca)&&(p[c=u.gauge]||(p[c]={}),p[u.gauge][u.token]=m),p})(r),{})}getPayload(e,n,a){const i=[],o=[];for(const s of e)for(const r of n[s])o.push({gauge:s,token:r}),i.push(this.getArguments(a,s,r));return{payload:i,paths:o}}getArguments(e,n,a){if(this.chainId===1||this.chainId===5)return{target:n,callData:Mu.encodeFunctionData("claimable_reward",[e,a])};if(!this.gaugeClaimHelperAddress)throw new Z(X.GAUGES_HELPER_ADDRESS_NOT_PROVIDED);return{target:this.gaugeClaimHelperAddress,callData:Cu.encodeFunctionData("getPendingRewards",[n,e,a])}}async retrieveClaimableTokens(e,n){if(this.chainId===Q.MAINNET||this.chainId===Q.GOERLI){const a=Wn[this.chainId].addresses.tokens.bal,i=e.map(r=>({target:r,callData:Mu.encodeFunctionData("claimable_tokens",[n])})),[,o]=await this.multicall.callStatic.aggregate(i),s=o.map(r=>r=="0x"?"0x0":r);return e.reduce(((r,l)=>(p,u,d)=>{const c=S.from(`${r[d]}`);return c.gt(ca)&&(p[u]||(p[u]={}),p[u][l]=c),p})(s,a),{})}return{}}}async function Ru(t,e,n,a){const i={sender:he,recipient:he,fromInternalBalance:!1,toInternalBalance:!1};try{return(await t.callStatic.queryBatchSwap(e,n,a,i)).map(o=>o.toString())}catch(o){throw`queryBatchSwap call error: ${o}`}}var Oo=function(){return Oo=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Oo.apply(this,arguments)},mo=new Map,il=new Map,Cy=!0,Bo=!1;function Ry(t){return t.replace(/[\s,]+/g," ").trim()}function v5(t){var e=new Set,n=[];return t.definitions.forEach(function(a){if(a.kind==="FragmentDefinition"){var i=a.name.value,o=Ry((r=a.loc).source.body.substring(r.start,r.end)),s=il.get(i);s&&!s.has(o)?Cy&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||il.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),n.push(a))}else n.push(a);var r}),Oo(Oo({},t),{definitions:n})}function P5(t){var e=Ry(t);if(!mo.has(e)){var n=Hb(t,{experimentalFragmentVariables:Bo,allowLegacyFragmentVariables:Bo});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");mo.set(e,function(a){var i=new Set(a.definitions);i.forEach(function(s){s.loc&&delete s.loc,Object.keys(s).forEach(function(r){var l=s[r];l&&typeof l=="object"&&i.add(l)})});var o=a.loc;return o&&(delete o.startToken,delete o.endToken),a}(v5(n)))}return mo.get(e)}function oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var a=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?a+=i.loc.source.body:a+=i,a+=t[o+1]}),P5(a)}var vi,E5=oi,S5=function(){mo.clear(),il.clear()},k5=function(){Cy=!1},A5=function(){Bo=!0},O5=function(){Bo=!1};(vi=oi||(oi={})).gql=E5,vi.resetCaches=S5,vi.disableFragmentWarnings=k5,vi.enableExperimentalFragmentVariables=A5,vi.disableExperimentalFragmentVariables=O5,oi.default=oi;var Nu,Lu,Du,Uu,qu,Vu,ol,Wu,Gu,Hu,fi,$u,ju,sl,zu,Xu,Fo,Ju,Yu,Ku,Zu,Qu,ed,td,nd,ad,id,od,sd,ve=oi;(function(t){t.EndAmp="endAmp",t.EndTimestamp="endTimestamp",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.ScheduledTimestamp="scheduledTimestamp",t.StartAmp="startAmp",t.StartTimestamp="startTimestamp"})(Nu||(Nu={})),function(t){t.Id="id",t.PoolCount="poolCount",t.Timestamp="timestamp",t.TotalLiquidity="totalLiquidity",t.TotalProtocolFee="totalProtocolFee",t.TotalSwapCount="totalSwapCount",t.TotalSwapFee="totalSwapFee",t.TotalSwapVolume="totalSwapVolume",t.Vault="vault",t.VaultId="vault__id",t.VaultPoolCount="vault__poolCount",t.VaultProtocolFeesCollector="vault__protocolFeesCollector",t.VaultTotalLiquidity="vault__totalLiquidity",t.VaultTotalProtocolFee="vault__totalProtocolFee",t.VaultTotalSwapCount="vault__totalSwapCount",t.VaultTotalSwapFee="vault__totalSwapFee",t.VaultTotalSwapVolume="vault__totalSwapVolume"}(Lu||(Lu={})),function(t){t.Id="id",t.PoolCount="poolCount",t.Pools="pools",t.ProtocolFeesCollector="protocolFeesCollector",t.TotalLiquidity="totalLiquidity",t.TotalProtocolFee="totalProtocolFee",t.TotalSwapCount="totalSwapCount",t.TotalSwapFee="totalSwapFee",t.TotalSwapVolume="totalSwapVolume"}(Du||(Du={})),function(t){t.BptPrice="bptPrice",t.Id="id",t.LowerBoundPercentage="lowerBoundPercentage",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z",t.Token="token",t.TokenAddress="token__address",t.TokenAssetManager="token__assetManager",t.TokenBalance="token__balance",t.TokenCashBalance="token__cashBalance",t.TokenDecimals="token__decimals",t.TokenId="token__id",t.TokenIndex="token__index",t.TokenIsExemptFromYieldProtocolFee="token__isExemptFromYieldProtocolFee",t.TokenManagedBalance="token__managedBalance",t.TokenName="token__name",t.TokenOldPriceRate="token__oldPriceRate",t.TokenPaidProtocolFees="token__paidProtocolFees",t.TokenPriceRate="token__priceRate",t.TokenSymbol="token__symbol",t.TokenWeight="token__weight",t.UpperBoundPercentage="upperBoundPercentage"}(Uu||(Uu={})),function(t){t.EndTimestamp="endTimestamp",t.EndWeights="endWeights",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.ScheduledTimestamp="scheduledTimestamp",t.StartTimestamp="startTimestamp",t.StartWeights="startWeights"}(qu||(qu={})),function(t){t.Exit="Exit",t.Join="Join"}(Vu||(Vu={})),function(t){t.Amounts="amounts",t.Id="id",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z",t.Sender="sender",t.Timestamp="timestamp",t.Tx="tx",t.Type="type",t.User="user",t.UserId="user__id",t.ValueUsd="valueUSD"}(ol||(ol={})),function(t){t.Asset="asset",t.Block="block",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.Price="price",t.PricingAsset="pricingAsset"}(Wu||(Wu={})),function(t){t.CashDelta="cashDelta",t.Id="id",t.ManagedDelta="managedDelta",t.PoolTokenId="poolTokenId",t.PoolTokenIdAddress="poolTokenId__address",t.PoolTokenIdAssetManager="poolTokenId__assetManager",t.PoolTokenIdBalance="poolTokenId__balance",t.PoolTokenIdCashBalance="poolTokenId__cashBalance",t.PoolTokenIdDecimals="poolTokenId__decimals",t.PoolTokenIdId="poolTokenId__id",t.PoolTokenIdIndex="poolTokenId__index",t.PoolTokenIdIsExemptFromYieldProtocolFee="poolTokenId__isExemptFromYieldProtocolFee",t.PoolTokenIdManagedBalance="poolTokenId__managedBalance",t.PoolTokenIdName="poolTokenId__name",t.PoolTokenIdOldPriceRate="poolTokenId__oldPriceRate",t.PoolTokenIdPaidProtocolFees="poolTokenId__paidProtocolFees",t.PoolTokenIdPriceRate="poolTokenId__priceRate",t.PoolTokenIdSymbol="poolTokenId__symbol",t.PoolTokenIdWeight="poolTokenId__weight",t.Timestamp="timestamp",t.Type="type"}(Gu||(Gu={})),function(t){t.Deposit="Deposit",t.Update="Update",t.Withdraw="Withdraw"}(Hu||(Hu={})),function(t){t.Asc="asc",t.Desc="desc"}(fi||(fi={})),function(t){t.Id="id",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z"}($u||($u={})),function(t){t.Block="block",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.PoolLiquidity="poolLiquidity",t.PoolShareValue="poolShareValue",t.PoolTotalShares="poolTotalShares",t.PricingAsset="pricingAsset"}(ju||(ju={})),function(t){t.Balance="balance",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.UserAddress="userAddress",t.UserAddressId="userAddress__id"}(sl||(sl={})),function(t){t.Amounts="amounts",t.HoldersCount="holdersCount",t.Id="id",t.Liquidity="liquidity",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z",t.ProtocolFee="protocolFee",t.SwapFees="swapFees",t.SwapVolume="swapVolume",t.SwapsCount="swapsCount",t.Timestamp="timestamp",t.TotalShares="totalShares"}(zu||(zu={})),function(t){t.Address="address",t.AssetManager="assetManager",t.Balance="balance",t.CashBalance="cashBalance",t.CircuitBreaker="circuitBreaker",t.CircuitBreakerBptPrice="circuitBreaker__bptPrice",t.CircuitBreakerId="circuitBreaker__id",t.CircuitBreakerLowerBoundPercentage="circuitBreaker__lowerBoundPercentage",t.CircuitBreakerUpperBoundPercentage="circuitBreaker__upperBoundPercentage",t.Decimals="decimals",t.Id="id",t.Index="index",t.IsExemptFromYieldProtocolFee="isExemptFromYieldProtocolFee",t.ManagedBalance="managedBalance",t.Managements="managements",t.Name="name",t.OldPriceRate="oldPriceRate",t.PaidProtocolFees="paidProtocolFees",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.PriceRate="priceRate",t.Symbol="symbol",t.Token="token",t.TokenAddress="token__address",t.TokenDecimals="token__decimals",t.TokenFxOracleDecimals="token__fxOracleDecimals",t.TokenId="token__id",t.TokenLatestFxPrice="token__latestFXPrice",t.TokenLatestUsdPrice="token__latestUSDPrice",t.TokenLatestUsdPriceTimestamp="token__latestUSDPriceTimestamp",t.TokenName="token__name",t.TokenSymbol="token__symbol",t.TokenTotalBalanceNotional="token__totalBalanceNotional",t.TokenTotalBalanceUsd="token__totalBalanceUSD",t.TokenTotalSwapCount="token__totalSwapCount",t.TokenTotalVolumeNotional="token__totalVolumeNotional",t.TokenTotalVolumeUsd="token__totalVolumeUSD",t.Weight="weight"}(Xu||(Xu={})),function(t){t.Address="address",t.Alpha="alpha",t.Amp="amp",t.AmpUpdates="ampUpdates",t.BaseToken="baseToken",t.Beta="beta",t.C="c",t.CircuitBreakers="circuitBreakers",t.CreateTime="createTime",t.DSq="dSq",t.Delta="delta",t.Epsilon="epsilon",t.ExpiryTime="expiryTime",t.Factory="factory",t.HistoricalValues="historicalValues",t.HoldersCount="holdersCount",t.Id="id",t.IsInRecoveryMode="isInRecoveryMode",t.IsPaused="isPaused",t.JoinExitEnabled="joinExitEnabled",t.Lambda="lambda",t.LastJoinExitAmp="lastJoinExitAmp",t.LastPostJoinExitInvariant="lastPostJoinExitInvariant",t.LatestAmpUpdate="latestAmpUpdate",t.LatestAmpUpdateEndAmp="latestAmpUpdate__endAmp",t.LatestAmpUpdateEndTimestamp="latestAmpUpdate__endTimestamp",t.LatestAmpUpdateId="latestAmpUpdate__id",t.LatestAmpUpdateScheduledTimestamp="latestAmpUpdate__scheduledTimestamp",t.LatestAmpUpdateStartAmp="latestAmpUpdate__startAmp",t.LatestAmpUpdateStartTimestamp="latestAmpUpdate__startTimestamp",t.LowerTarget="lowerTarget",t.MainIndex="mainIndex",t.ManagementAumFee="managementAumFee",t.ManagementFee="managementFee",t.MustAllowlistLPs="mustAllowlistLPs",t.Name="name",t.OracleEnabled="oracleEnabled",t.Owner="owner",t.PoolType="poolType",t.PoolTypeVersion="poolTypeVersion",t.PriceRateProviders="priceRateProviders",t.PrincipalToken="principalToken",t.ProtocolAumFeeCache="protocolAumFeeCache",t.ProtocolId="protocolId",t.ProtocolIdData="protocolIdData",t.ProtocolIdDataId="protocolIdData__id",t.ProtocolIdDataName="protocolIdData__name",t.ProtocolSwapFeeCache="protocolSwapFeeCache",t.ProtocolYieldFeeCache="protocolYieldFeeCache",t.Root3Alpha="root3Alpha",t.S="s",t.Shares="shares",t.Snapshots="snapshots",t.SqrtAlpha="sqrtAlpha",t.SqrtBeta="sqrtBeta",t.StrategyType="strategyType",t.SwapEnabled="swapEnabled",t.SwapEnabledCurationSignal="swapEnabledCurationSignal",t.SwapEnabledInternal="swapEnabledInternal",t.SwapFee="swapFee",t.Swaps="swaps",t.SwapsCount="swapsCount",t.Symbol="symbol",t.TauAlphaX="tauAlphaX",t.TauAlphaY="tauAlphaY",t.TauBetaX="tauBetaX",t.TauBetaY="tauBetaY",t.Tokens="tokens",t.TokensList="tokensList",t.TotalAumFeeCollectedInBpt="totalAumFeeCollectedInBPT",t.TotalLiquidity="totalLiquidity",t.TotalLiquiditySansBpt="totalLiquiditySansBPT",t.TotalProtocolFee="totalProtocolFee",t.TotalProtocolFeePaidInBpt="totalProtocolFeePaidInBPT",t.TotalShares="totalShares",t.TotalSwapFee="totalSwapFee",t.TotalSwapVolume="totalSwapVolume",t.TotalWeight="totalWeight",t.Tx="tx",t.U="u",t.UnitSeconds="unitSeconds",t.UpperTarget="upperTarget",t.V="v",t.VaultId="vaultID",t.VaultIdId="vaultID__id",t.VaultIdPoolCount="vaultID__poolCount",t.VaultIdProtocolFeesCollector="vaultID__protocolFeesCollector",t.VaultIdTotalLiquidity="vaultID__totalLiquidity",t.VaultIdTotalProtocolFee="vaultID__totalProtocolFee",t.VaultIdTotalSwapCount="vaultID__totalSwapCount",t.VaultIdTotalSwapFee="vaultID__totalSwapFee",t.VaultIdTotalSwapVolume="vaultID__totalSwapVolume",t.W="w",t.WeightUpdates="weightUpdates",t.WrappedIndex="wrappedIndex",t.Z="z"}(Fo||(Fo={})),function(t){t.Address="address",t.CacheDuration="cacheDuration",t.CacheExpiry="cacheExpiry",t.Id="id",t.LastCached="lastCached",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.Rate="rate",t.Token="token",t.TokenAddress="token__address",t.TokenAssetManager="token__assetManager",t.TokenBalance="token__balance",t.TokenCashBalance="token__cashBalance",t.TokenDecimals="token__decimals",t.TokenId="token__id",t.TokenIndex="token__index",t.TokenIsExemptFromYieldProtocolFee="token__isExemptFromYieldProtocolFee",t.TokenManagedBalance="token__managedBalance",t.TokenName="token__name",t.TokenOldPriceRate="token__oldPriceRate",t.TokenPaidProtocolFees="token__paidProtocolFees",t.TokenPriceRate="token__priceRate",t.TokenSymbol="token__symbol",t.TokenWeight="token__weight"}(Ju||(Ju={})),function(t){t.Id="id",t.Name="name"}(Yu||(Yu={})),function(t){t.EndSwapFeePercentage="endSwapFeePercentage",t.EndTimestamp="endTimestamp",t.Id="id",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z",t.ScheduledTimestamp="scheduledTimestamp",t.StartSwapFeePercentage="startSwapFeePercentage",t.StartTimestamp="startTimestamp"}(Ku||(Ku={})),function(t){t.Caller="caller",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.Timestamp="timestamp",t.TokenAmountIn="tokenAmountIn",t.TokenAmountOut="tokenAmountOut",t.TokenIn="tokenIn",t.TokenInSym="tokenInSym",t.TokenOut="tokenOut",t.TokenOutSym="tokenOutSym",t.Tx="tx",t.UserAddress="userAddress",t.UserAddressId="userAddress__id",t.ValueUsd="valueUSD"}(Zu||(Zu={})),function(t){t.Amount="amount",t.Asset="asset",t.Block="block",t.Id="id",t.PoolId="poolId",t.PoolIdAddress="poolId__address",t.PoolIdAlpha="poolId__alpha",t.PoolIdAmp="poolId__amp",t.PoolIdBaseToken="poolId__baseToken",t.PoolIdBeta="poolId__beta",t.PoolIdC="poolId__c",t.PoolIdCreateTime="poolId__createTime",t.PoolIdDSq="poolId__dSq",t.PoolIdDelta="poolId__delta",t.PoolIdEpsilon="poolId__epsilon",t.PoolIdExpiryTime="poolId__expiryTime",t.PoolIdFactory="poolId__factory",t.PoolIdHoldersCount="poolId__holdersCount",t.PoolIdId="poolId__id",t.PoolIdIsInRecoveryMode="poolId__isInRecoveryMode",t.PoolIdIsPaused="poolId__isPaused",t.PoolIdJoinExitEnabled="poolId__joinExitEnabled",t.PoolIdLambda="poolId__lambda",t.PoolIdLastJoinExitAmp="poolId__lastJoinExitAmp",t.PoolIdLastPostJoinExitInvariant="poolId__lastPostJoinExitInvariant",t.PoolIdLowerTarget="poolId__lowerTarget",t.PoolIdMainIndex="poolId__mainIndex",t.PoolIdManagementAumFee="poolId__managementAumFee",t.PoolIdManagementFee="poolId__managementFee",t.PoolIdMustAllowlistLPs="poolId__mustAllowlistLPs",t.PoolIdName="poolId__name",t.PoolIdOracleEnabled="poolId__oracleEnabled",t.PoolIdOwner="poolId__owner",t.PoolIdPoolType="poolId__poolType",t.PoolIdPoolTypeVersion="poolId__poolTypeVersion",t.PoolIdPrincipalToken="poolId__principalToken",t.PoolIdProtocolAumFeeCache="poolId__protocolAumFeeCache",t.PoolIdProtocolId="poolId__protocolId",t.PoolIdProtocolSwapFeeCache="poolId__protocolSwapFeeCache",t.PoolIdProtocolYieldFeeCache="poolId__protocolYieldFeeCache",t.PoolIdRoot3Alpha="poolId__root3Alpha",t.PoolIdS="poolId__s",t.PoolIdSqrtAlpha="poolId__sqrtAlpha",t.PoolIdSqrtBeta="poolId__sqrtBeta",t.PoolIdStrategyType="poolId__strategyType",t.PoolIdSwapEnabled="poolId__swapEnabled",t.PoolIdSwapEnabledCurationSignal="poolId__swapEnabledCurationSignal",t.PoolIdSwapEnabledInternal="poolId__swapEnabledInternal",t.PoolIdSwapFee="poolId__swapFee",t.PoolIdSwapsCount="poolId__swapsCount",t.PoolIdSymbol="poolId__symbol",t.PoolIdTauAlphaX="poolId__tauAlphaX",t.PoolIdTauAlphaY="poolId__tauAlphaY",t.PoolIdTauBetaX="poolId__tauBetaX",t.PoolIdTauBetaY="poolId__tauBetaY",t.PoolIdTotalAumFeeCollectedInBpt="poolId__totalAumFeeCollectedInBPT",t.PoolIdTotalLiquidity="poolId__totalLiquidity",t.PoolIdTotalLiquiditySansBpt="poolId__totalLiquiditySansBPT",t.PoolIdTotalProtocolFee="poolId__totalProtocolFee",t.PoolIdTotalProtocolFeePaidInBpt="poolId__totalProtocolFeePaidInBPT",t.PoolIdTotalShares="poolId__totalShares",t.PoolIdTotalSwapFee="poolId__totalSwapFee",t.PoolIdTotalSwapVolume="poolId__totalSwapVolume",t.PoolIdTotalWeight="poolId__totalWeight",t.PoolIdTx="poolId__tx",t.PoolIdU="poolId__u",t.PoolIdUnitSeconds="poolId__unitSeconds",t.PoolIdUpperTarget="poolId__upperTarget",t.PoolIdV="poolId__v",t.PoolIdW="poolId__w",t.PoolIdWrappedIndex="poolId__wrappedIndex",t.PoolIdZ="poolId__z",t.Price="price",t.PricingAsset="pricingAsset",t.Timestamp="timestamp"}(Qu||(Qu={})),function(t){t.Id="id",t.Timestamp="timestamp",t.Token="token",t.TokenAddress="token__address",t.TokenDecimals="token__decimals",t.TokenFxOracleDecimals="token__fxOracleDecimals",t.TokenId="token__id",t.TokenLatestFxPrice="token__latestFXPrice",t.TokenLatestUsdPrice="token__latestUSDPrice",t.TokenLatestUsdPriceTimestamp="token__latestUSDPriceTimestamp",t.TokenName="token__name",t.TokenSymbol="token__symbol",t.TokenTotalBalanceNotional="token__totalBalanceNotional",t.TokenTotalBalanceUsd="token__totalBalanceUSD",t.TokenTotalSwapCount="token__totalSwapCount",t.TokenTotalVolumeNotional="token__totalVolumeNotional",t.TokenTotalVolumeUsd="token__totalVolumeUSD",t.TotalBalanceNotional="totalBalanceNotional",t.TotalBalanceUsd="totalBalanceUSD",t.TotalSwapCount="totalSwapCount",t.TotalVolumeNotional="totalVolumeNotional",t.TotalVolumeUsd="totalVolumeUSD"}(ed||(ed={})),function(t){t.Address="address",t.Decimals="decimals",t.FxOracleDecimals="fxOracleDecimals",t.Id="id",t.LatestFxPrice="latestFXPrice",t.LatestPrice="latestPrice",t.LatestPriceAsset="latestPrice__asset",t.LatestPriceBlock="latestPrice__block",t.LatestPriceId="latestPrice__id",t.LatestPricePrice="latestPrice__price",t.LatestPricePricingAsset="latestPrice__pricingAsset",t.LatestUsdPrice="latestUSDPrice",t.LatestUsdPriceTimestamp="latestUSDPriceTimestamp",t.Name="name",t.Pool="pool",t.PoolAddress="pool__address",t.PoolAlpha="pool__alpha",t.PoolAmp="pool__amp",t.PoolBaseToken="pool__baseToken",t.PoolBeta="pool__beta",t.PoolC="pool__c",t.PoolCreateTime="pool__createTime",t.PoolDSq="pool__dSq",t.PoolDelta="pool__delta",t.PoolEpsilon="pool__epsilon",t.PoolExpiryTime="pool__expiryTime",t.PoolFactory="pool__factory",t.PoolHoldersCount="pool__holdersCount",t.PoolId="pool__id",t.PoolIsInRecoveryMode="pool__isInRecoveryMode",t.PoolIsPaused="pool__isPaused",t.PoolJoinExitEnabled="pool__joinExitEnabled",t.PoolLambda="pool__lambda",t.PoolLastJoinExitAmp="pool__lastJoinExitAmp",t.PoolLastPostJoinExitInvariant="pool__lastPostJoinExitInvariant",t.PoolLowerTarget="pool__lowerTarget",t.PoolMainIndex="pool__mainIndex",t.PoolManagementAumFee="pool__managementAumFee",t.PoolManagementFee="pool__managementFee",t.PoolMustAllowlistLPs="pool__mustAllowlistLPs",t.PoolName="pool__name",t.PoolOracleEnabled="pool__oracleEnabled",t.PoolOwner="pool__owner",t.PoolPoolType="pool__poolType",t.PoolPoolTypeVersion="pool__poolTypeVersion",t.PoolPrincipalToken="pool__principalToken",t.PoolProtocolAumFeeCache="pool__protocolAumFeeCache",t.PoolProtocolId="pool__protocolId",t.PoolProtocolSwapFeeCache="pool__protocolSwapFeeCache",t.PoolProtocolYieldFeeCache="pool__protocolYieldFeeCache",t.PoolRoot3Alpha="pool__root3Alpha",t.PoolS="pool__s",t.PoolSqrtAlpha="pool__sqrtAlpha",t.PoolSqrtBeta="pool__sqrtBeta",t.PoolStrategyType="pool__strategyType",t.PoolSwapEnabled="pool__swapEnabled",t.PoolSwapEnabledCurationSignal="pool__swapEnabledCurationSignal",t.PoolSwapEnabledInternal="pool__swapEnabledInternal",t.PoolSwapFee="pool__swapFee",t.PoolSwapsCount="pool__swapsCount",t.PoolSymbol="pool__symbol",t.PoolTauAlphaX="pool__tauAlphaX",t.PoolTauAlphaY="pool__tauAlphaY",t.PoolTauBetaX="pool__tauBetaX",t.PoolTauBetaY="pool__tauBetaY",t.PoolTotalAumFeeCollectedInBpt="pool__totalAumFeeCollectedInBPT",t.PoolTotalLiquidity="pool__totalLiquidity",t.PoolTotalLiquiditySansBpt="pool__totalLiquiditySansBPT",t.PoolTotalProtocolFee="pool__totalProtocolFee",t.PoolTotalProtocolFeePaidInBpt="pool__totalProtocolFeePaidInBPT",t.PoolTotalShares="pool__totalShares",t.PoolTotalSwapFee="pool__totalSwapFee",t.PoolTotalSwapVolume="pool__totalSwapVolume",t.PoolTotalWeight="pool__totalWeight",t.PoolTx="pool__tx",t.PoolU="pool__u",t.PoolUnitSeconds="pool__unitSeconds",t.PoolUpperTarget="pool__upperTarget",t.PoolV="pool__v",t.PoolW="pool__w",t.PoolWrappedIndex="pool__wrappedIndex",t.PoolZ="pool__z",t.Symbol="symbol",t.TotalBalanceNotional="totalBalanceNotional",t.TotalBalanceUsd="totalBalanceUSD",t.TotalSwapCount="totalSwapCount",t.TotalVolumeNotional="totalVolumeNotional",t.TotalVolumeUsd="totalVolumeUSD"}(td||(td={})),function(t){t.Id="id",t.Pair="pair",t.PairId="pair__id",t.PairTotalSwapFee="pair__totalSwapFee",t.PairTotalSwapVolume="pair__totalSwapVolume",t.Timestamp="timestamp",t.TotalSwapFee="totalSwapFee",t.TotalSwapVolume="totalSwapVolume"}(nd||(nd={})),function(t){t.Id="id",t.Token0="token0",t.Token0Address="token0__address",t.Token0Decimals="token0__decimals",t.Token0FxOracleDecimals="token0__fxOracleDecimals",t.Token0Id="token0__id",t.Token0LatestFxPrice="token0__latestFXPrice",t.Token0LatestUsdPrice="token0__latestUSDPrice",t.Token0LatestUsdPriceTimestamp="token0__latestUSDPriceTimestamp",t.Token0Name="token0__name",t.Token0Symbol="token0__symbol",t.Token0TotalBalanceNotional="token0__totalBalanceNotional",t.Token0TotalBalanceUsd="token0__totalBalanceUSD",t.Token0TotalSwapCount="token0__totalSwapCount",t.Token0TotalVolumeNotional="token0__totalVolumeNotional",t.Token0TotalVolumeUsd="token0__totalVolumeUSD",t.Token1="token1",t.Token1Address="token1__address",t.Token1Decimals="token1__decimals",t.Token1FxOracleDecimals="token1__fxOracleDecimals",t.Token1Id="token1__id",t.Token1LatestFxPrice="token1__latestFXPrice",t.Token1LatestUsdPrice="token1__latestUSDPrice",t.Token1LatestUsdPriceTimestamp="token1__latestUSDPriceTimestamp",t.Token1Name="token1__name",t.Token1Symbol="token1__symbol",t.Token1TotalBalanceNotional="token1__totalBalanceNotional",t.Token1TotalBalanceUsd="token1__totalBalanceUSD",t.Token1TotalSwapCount="token1__totalSwapCount",t.Token1TotalVolumeNotional="token1__totalVolumeNotional",t.Token1TotalVolumeUsd="token1__totalVolumeUSD",t.TotalSwapFee="totalSwapFee",t.TotalSwapVolume="totalSwapVolume"}(ad||(ad={})),function(t){t.Balance="balance",t.Id="id",t.Token="token",t.TokenInfo="tokenInfo",t.TokenInfoAddress="tokenInfo__address",t.TokenInfoDecimals="tokenInfo__decimals",t.TokenInfoFxOracleDecimals="tokenInfo__fxOracleDecimals",t.TokenInfoId="tokenInfo__id",t.TokenInfoLatestFxPrice="tokenInfo__latestFXPrice",t.TokenInfoLatestUsdPrice="tokenInfo__latestUSDPrice",t.TokenInfoLatestUsdPriceTimestamp="tokenInfo__latestUSDPriceTimestamp",t.TokenInfoName="tokenInfo__name",t.TokenInfoSymbol="tokenInfo__symbol",t.TokenInfoTotalBalanceNotional="tokenInfo__totalBalanceNotional",t.TokenInfoTotalBalanceUsd="tokenInfo__totalBalanceUSD",t.TokenInfoTotalSwapCount="tokenInfo__totalSwapCount",t.TokenInfoTotalVolumeNotional="tokenInfo__totalVolumeNotional",t.TokenInfoTotalVolumeUsd="tokenInfo__totalVolumeUSD",t.UserAddress="userAddress",t.UserAddressId="userAddress__id"}(id||(id={})),function(t){t.Id="id",t.SharesOwned="sharesOwned",t.Swaps="swaps",t.UserInternalBalances="userInternalBalances"}(od||(od={})),function(t){t.Allow="allow",t.Deny="deny"}(sd||(sd={}));const Ny=ve`
    fragment SubgraphPoolShare on PoolShare {
  id
  balance
  userAddress {
    id
  }
  poolId {
    id
    address
  }
}
    `,ip=ve`
    fragment SubgraphPool on Pool {
  id
  address
  poolType
  poolTypeVersion
  factory
  strategyType
  symbol
  name
  swapEnabled
  swapFee
  protocolYieldFeeCache
  protocolSwapFeeCache
  owner
  totalWeight
  totalSwapVolume
  totalSwapFee
  totalLiquidity
  totalShares
  tokens(first: 100, orderBy: index) {
    ...SubgraphPoolToken
  }
  swapsCount
  holdersCount
  tokensList
  amp
  priceRateProviders(first: 100) {
    ...SubgraphPriceRateProvider
  }
  expiryTime
  unitSeconds
  createTime
  principalToken
  baseToken
  wrappedIndex
  mainIndex
  lowerTarget
  upperTarget
  sqrtAlpha
  sqrtBeta
  root3Alpha
  isInRecoveryMode
  isPaused
  alpha
  beta
  c
  s
  lambda
  tauAlphaX
  tauAlphaY
  tauBetaX
  tauBetaY
  u
  v
  w
  z
  dSq
  delta
  epsilon
}
    ${ve`
    fragment SubgraphPoolToken on PoolToken {
  id
  symbol
  name
  decimals
  address
  balance
  managedBalance
  weight
  priceRate
  isExemptFromYieldProtocolFee
  token {
    ...TokenTree
  }
}
    ${ve`
    fragment TokenTree on Token {
  latestUSDPrice
  latestFXPrice
  pool {
    ...SubgraphSubPool
    tokens(first: 100, orderBy: index) {
      ...SubgraphSubPoolToken
      token {
        latestUSDPrice
        pool {
          ...SubgraphSubPool
          tokens(first: 100, orderBy: index) {
            ...SubgraphSubPoolToken
            token {
              latestUSDPrice
              pool {
                ...SubgraphSubPool
              }
            }
          }
        }
      }
    }
  }
}
    ${ve`
    fragment SubgraphSubPool on Pool {
  id
  totalShares
  address
  poolType
  mainIndex
}
    `}
${ve`
    fragment SubgraphSubPoolToken on PoolToken {
  address
  balance
  weight
  priceRate
  symbol
  decimals
  isExemptFromYieldProtocolFee
}
    `}`}`}
${ve`
    fragment SubgraphPriceRateProvider on PriceRateProvider {
  address
  token {
    address
  }
}
    `}`;ve`
    fragment TokenAttrs on Token {
  address
  symbol
  decimals
}
    `;const B5=ve`
    fragment SubgraphPoolSnapshot on PoolSnapshot {
  id
  pool {
    id
  }
  totalShares
  swapVolume
  swapFees
  timestamp
}
    `,F5=ve`
    fragment SubgraphJoinExit on JoinExit {
  amounts
  id
  sender
  timestamp
  tx
  type
  user {
    id
  }
  pool {
    id
    tokensList
  }
}
    `,M5=ve`
    fragment SubgraphBalancer on Balancer {
  id
  totalLiquidity
  totalSwapVolume
  totalSwapFee
  totalSwapCount
  poolCount
}
    `,C5=ve`
    fragment SubgraphTokenPrice on TokenPrice {
  id
  poolId {
    id
  }
  asset
  amount
  pricingAsset
  price
  block
  timestamp
}
    `,Ly=ve`
    fragment SubgraphTokenLatestPrice on LatestPrice {
  id
  asset
  price
  poolId {
    id
  }
  pricingAsset
}
    `,Dy=ve`
    fragment SubgraphUser on User {
  id
  sharesOwned(first: 1000) {
    balance
    poolId {
      id
    }
  }
}
    `,R5=ve`
    query PoolShare($id: ID!, $block: Block_height) {
  poolShare(id: $id, block: $block) {
    ...SubgraphPoolShare
  }
}
    ${Ny}`,N5=ve`
    query PoolShares($first: Int, $orderBy: PoolShare_orderBy, $orderDirection: OrderDirection, $skip: Int, $where: PoolShare_filter, $block: Block_height) {
  poolShares(
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    skip: $skip
    where: $where
    block: $block
  ) {
    ...SubgraphPoolShare
  }
}
    ${Ny}`,L5=ve`
    query Pools($skip: Int, $first: Int, $orderBy: Pool_orderBy, $orderDirection: OrderDirection, $where: Pool_filter, $block: Block_height) {
  pools(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPool
  }
}
    ${ip}`,D5=ve`
    query AllPools($skip: Int, $first: Int, $orderBy: Pool_orderBy, $orderDirection: OrderDirection, $where: Pool_filter, $block: Block_height) {
  pool0: pools(
    first: 1000
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPool
  }
  pool1000: pools(
    first: 1000
    skip: 1000
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPool
  }
  pool2000: pools(
    first: 1000
    skip: 2000
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPool
  }
}
    ${ip}`,U5=ve`
    query Pool($id: ID!, $block: Block_height) {
  pool(id: $id, block: $block) {
    ...SubgraphPool
  }
}
    ${ip}`,q5=ve`
    query PoolHistoricalLiquidities($skip: Int, $first: Int, $orderBy: PoolHistoricalLiquidity_orderBy, $orderDirection: OrderDirection, $where: PoolHistoricalLiquidity_filter, $block: Block_height) {
  poolHistoricalLiquidities(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    id
    poolId {
      id
    }
    poolTotalShares
    poolLiquidity
    poolShareValue
    pricingAsset
    block
  }
}
    `,V5=ve`
    query PoolSnapshots($skip: Int, $first: Int, $orderBy: PoolSnapshot_orderBy, $orderDirection: OrderDirection, $where: PoolSnapshot_filter, $block: Block_height) {
  poolSnapshots(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPoolSnapshot
  }
}
    ${B5}`,W5=ve`
    query JoinExits($skip: Int, $first: Int, $orderBy: JoinExit_orderBy, $orderDirection: OrderDirection, $where: JoinExit_filter, $block: Block_height) {
  joinExits(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphJoinExit
  }
}
    ${F5}`,G5=ve`
    query Balancers($skip: Int, $first: Int, $orderBy: Balancer_orderBy, $orderDirection: OrderDirection, $where: Balancer_filter, $block: Block_height) {
  balancers(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphBalancer
  }
}
    ${M5}`,H5=ve`
    query TokenPrices($skip: Int, $first: Int, $orderBy: TokenPrice_orderBy, $orderDirection: OrderDirection, $where: TokenPrice_filter, $block: Block_height) {
  tokenPrices(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphTokenPrice
  }
}
    ${C5}`,$5=ve`
    query TokenLatestPrices($skip: Int, $first: Int, $orderBy: LatestPrice_orderBy, $orderDirection: OrderDirection, $where: LatestPrice_filter, $block: Block_height) {
  latestPrices(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphTokenLatestPrice
  }
}
    ${Ly}`,j5=ve`
    query TokenLatestPrice($id: ID!) {
  latestPrice(id: $id) {
    ...SubgraphTokenLatestPrice
  }
}
    ${Ly}`,z5=ve`
    query User($id: ID!, $block: Block_height) {
  user(id: $id, block: $block) {
    ...SubgraphUser
  }
}
    ${Dy}`,X5=ve`
    query Users($skip: Int, $first: Int, $orderBy: User_orderBy, $orderDirection: OrderDirection, $where: User_filter, $block: Block_height) {
  users(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphUser
  }
}
    ${Dy}`,J5=(t,e,n)=>t();function Uy(t,e=J5){return{PoolShare:(n,a)=>e(i=>t.request(R5,n,{...a,...i}),"PoolShare","query"),PoolShares:(n,a)=>e(i=>t.request(N5,n,{...a,...i}),"PoolShares","query"),Pools:(n,a)=>e(i=>t.request(L5,n,{...a,...i}),"Pools","query"),AllPools:(n,a)=>e(i=>t.request(D5,n,{...a,...i}),"AllPools","query"),Pool:(n,a)=>e(i=>t.request(U5,n,{...a,...i}),"Pool","query"),PoolHistoricalLiquidities:(n,a)=>e(i=>t.request(q5,n,{...a,...i}),"PoolHistoricalLiquidities","query"),PoolSnapshots:(n,a)=>e(i=>t.request(V5,n,{...a,...i}),"PoolSnapshots","query"),JoinExits:(n,a)=>e(i=>t.request(W5,n,{...a,...i}),"JoinExits","query"),Balancers:(n,a)=>e(i=>t.request(G5,n,{...a,...i}),"Balancers","query"),TokenPrices:(n,a)=>e(i=>t.request(H5,n,{...a,...i}),"TokenPrices","query"),TokenLatestPrices:(n,a)=>e(i=>t.request($5,n,{...a,...i}),"TokenLatestPrices","query"),TokenLatestPrice:(n,a)=>e(i=>t.request(j5,n,{...a,...i}),"TokenLatestPrice","query"),User:(n,a)=>e(i=>t.request(z5,n,{...a,...i}),"User","query"),Users:(n,a)=>e(i=>t.request(X5,n,{...a,...i}),"Users","query")}}var rd,ld,rl,pd,ud,dd,cd,yd,md,ll,bd,fd,Td,hd,Id,gd,wd,_d;(function(t){t.Arbitrum="Arbitrum",t.Avalanche="Avalanche",t.Base="Base",t.Gnosis="Gnosis",t.Optimism="Optimism",t.Polygon="Polygon",t.PolygonZkEvm="PolygonZkEvm"})(rd||(rd={})),function(t){t.gauges="gauges",t.id="id",t.numGauges="numGauges"}(ld||(ld={})),function(t){t.balance="balance",t.gauge="gauge",t.gauge__id="gauge__id",t.gauge__isKilled="gauge__isKilled",t.gauge__isPreferentialGauge="gauge__isPreferentialGauge",t.gauge__poolAddress="gauge__poolAddress",t.gauge__poolId="gauge__poolId",t.gauge__relativeWeightCap="gauge__relativeWeightCap",t.gauge__streamer="gauge__streamer",t.gauge__symbol="gauge__symbol",t.gauge__totalSupply="gauge__totalSupply",t.id="id",t.user="user",t.user__id="user__id"}(rl||(rl={})),function(t){t.id="id",t.name="name"}(pd||(pd={})),function(t){t.gauge="gauge",t.gauge__addedTimestamp="gauge__addedTimestamp",t.gauge__address="gauge__address",t.gauge__id="gauge__id",t.id="id",t.timestamp="timestamp",t.user="user",t.user__id="user__id",t.weight="weight"}(ud||(ud={})),function(t){t.addedTimestamp="addedTimestamp",t.address="address",t.id="id",t.liquidityGauge="liquidityGauge",t.liquidityGauge__id="liquidityGauge__id",t.liquidityGauge__isKilled="liquidityGauge__isKilled",t.liquidityGauge__isPreferentialGauge="liquidityGauge__isPreferentialGauge",t.liquidityGauge__poolAddress="liquidityGauge__poolAddress",t.liquidityGauge__poolId="liquidityGauge__poolId",t.liquidityGauge__relativeWeightCap="liquidityGauge__relativeWeightCap",t.liquidityGauge__streamer="liquidityGauge__streamer",t.liquidityGauge__symbol="liquidityGauge__symbol",t.liquidityGauge__totalSupply="liquidityGauge__totalSupply",t.rootGauge="rootGauge",t.rootGauge__chain="rootGauge__chain",t.rootGauge__id="rootGauge__id",t.rootGauge__isKilled="rootGauge__isKilled",t.rootGauge__recipient="rootGauge__recipient",t.rootGauge__relativeWeightCap="rootGauge__relativeWeightCap",t.type="type",t.type__id="type__id",t.type__name="type__name"}(dd||(dd={})),function(t){t.factory="factory",t.factory__id="factory__id",t.factory__numGauges="factory__numGauges",t.gauge="gauge",t.gauge__addedTimestamp="gauge__addedTimestamp",t.gauge__address="gauge__address",t.gauge__id="gauge__id",t.id="id",t.isKilled="isKilled",t.isPreferentialGauge="isPreferentialGauge",t.pool="pool",t.poolAddress="poolAddress",t.poolId="poolId",t.pool__address="pool__address",t.pool__id="pool__id",t.pool__poolId="pool__poolId",t.relativeWeightCap="relativeWeightCap",t.rewardTokensList="rewardTokensList",t.shares="shares",t.streamer="streamer",t.symbol="symbol",t.tokens="tokens",t.totalSupply="totalSupply"}(cd||(cd={})),function(t){t.bias="bias",t.id="id",t.slope="slope",t.timestamp="timestamp",t.user="user",t.user__id="user__id"}(yd||(yd={})),function(t){t.bias="bias",t.dstChainId="dstChainId",t.id="id",t.localUser="localUser",t.localUser__id="localUser__id",t.remoteUser="remoteUser",t.slope="slope",t.timestamp="timestamp",t.votingEscrowID="votingEscrowID",t.votingEscrowID__id="votingEscrowID__id",t.votingEscrowID__stakedSupply="votingEscrowID__stakedSupply"}(md||(md={})),function(t){t.asc="asc",t.desc="desc"}(ll||(ll={})),function(t){t.address="address",t.gauges="gauges",t.gaugesList="gaugesList",t.id="id",t.poolId="poolId",t.preferentialGauge="preferentialGauge",t.preferentialGauge__id="preferentialGauge__id",t.preferentialGauge__isKilled="preferentialGauge__isKilled",t.preferentialGauge__isPreferentialGauge="preferentialGauge__isPreferentialGauge",t.preferentialGauge__poolAddress="preferentialGauge__poolAddress",t.preferentialGauge__poolId="preferentialGauge__poolId",t.preferentialGauge__relativeWeightCap="preferentialGauge__relativeWeightCap",t.preferentialGauge__streamer="preferentialGauge__streamer",t.preferentialGauge__symbol="preferentialGauge__symbol",t.preferentialGauge__totalSupply="preferentialGauge__totalSupply"}(bd||(bd={})),function(t){t.decimals="decimals",t.gauge="gauge",t.gauge__id="gauge__id",t.gauge__isKilled="gauge__isKilled",t.gauge__isPreferentialGauge="gauge__isPreferentialGauge",t.gauge__poolAddress="gauge__poolAddress",t.gauge__poolId="gauge__poolId",t.gauge__relativeWeightCap="gauge__relativeWeightCap",t.gauge__streamer="gauge__streamer",t.gauge__symbol="gauge__symbol",t.gauge__totalSupply="gauge__totalSupply",t.id="id",t.periodFinish="periodFinish",t.rate="rate",t.symbol="symbol",t.totalDeposited="totalDeposited"}(fd||(fd={})),function(t){t.chain="chain",t.factory="factory",t.factory__id="factory__id",t.factory__numGauges="factory__numGauges",t.gauge="gauge",t.gauge__addedTimestamp="gauge__addedTimestamp",t.gauge__address="gauge__address",t.gauge__id="gauge__id",t.id="id",t.isKilled="isKilled",t.recipient="recipient",t.relativeWeightCap="relativeWeightCap"}(Td||(Td={})),function(t){t.factory="factory",t.factory__id="factory__id",t.factory__numGauges="factory__numGauges",t.gauge="gauge",t.gauge__addedTimestamp="gauge__addedTimestamp",t.gauge__address="gauge__address",t.gauge__id="gauge__id",t.id="id",t.isKilled="isKilled",t.recipient="recipient",t.relativeWeightCap="relativeWeightCap"}(hd||(hd={})),function(t){t.gaugeShares="gaugeShares",t.gaugeVotes="gaugeVotes",t.id="id",t.omniVotingLocks="omniVotingLocks",t.votingLocks="votingLocks"}(Id||(Id={})),function(t){t.bias="bias",t.id="id",t.lockedBalance="lockedBalance",t.slope="slope",t.timestamp="timestamp",t.unlockTime="unlockTime",t.updatedAt="updatedAt",t.user="user",t.user__id="user__id",t.votingEscrowID="votingEscrowID",t.votingEscrowID__id="votingEscrowID__id",t.votingEscrowID__stakedSupply="votingEscrowID__stakedSupply"}(gd||(gd={})),function(t){t.id="id",t.locks="locks",t.omniLocks="omniLocks",t.stakedSupply="stakedSupply"}(wd||(wd={})),function(t){t.allow="allow",t.deny="deny"}(_d||(_d={}));const qy=ve`
    fragment SubgraphGaugeShare on GaugeShare {
  id
  balance
  user {
    id
  }
  gauge {
    id
    isKilled
    poolId
    poolAddress
    totalSupply
  }
}
    `,Vy=ve`
    fragment SubgraphLiquidityGauge on LiquidityGauge {
  id
  symbol
  poolAddress
  poolId
  streamer
  factory {
    id
    numGauges
  }
  totalSupply
  tokens {
    id
    symbol
    decimals
    totalDeposited
    rate
    periodFinish
  }
}
    `,Y5=ve`
    fragment SubgraphPoolWithPreferentialGauge on Pool {
  id
  poolId
  preferentialGauge {
    ...SubgraphLiquidityGauge
  }
}
    ${Vy}`,K5=ve`
    query GaugeShare($id: ID!, $block: Block_height) {
  gaugeShare(id: $id, block: $block) {
    ...SubgraphGaugeShare
  }
}
    ${qy}`,Z5=ve`
    query GaugeShares($first: Int, $orderBy: GaugeShare_orderBy, $orderDirection: OrderDirection, $skip: Int, $where: GaugeShare_filter, $block: Block_height) {
  gaugeShares(
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    skip: $skip
    where: $where
    block: $block
  ) {
    ...SubgraphGaugeShare
  }
}
    ${qy}`,Q5=ve`
    query LiquidityGauges($skip: Int, $first: Int, $orderBy: LiquidityGauge_orderBy, $orderDirection: OrderDirection, $where: LiquidityGauge_filter, $block: Block_height) {
  liquidityGauges(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphLiquidityGauge
  }
}
    ${Vy}`,eh=ve`
    query Pools($skip: Int, $first: Int, $orderBy: Pool_orderBy, $orderDirection: OrderDirection, $where: Pool_filter, $block: Block_height) {
  pools(
    skip: $skip
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    block: $block
  ) {
    ...SubgraphPoolWithPreferentialGauge
  }
}
    ${Y5}`,th=ve`
    query PoolGauges($where: Pool_filter, $first: Int, $orderBy: Pool_orderBy, $orderDirection: OrderDirection, $skip: Int, $block: Block_height) {
  pools(
    where: $where
    first: $first
    orderBy: $orderBy
    orderDirection: $orderDirection
    skip: $skip
    block: $block
  ) {
    gauges {
      id
      relativeWeightCap
    }
    preferentialGauge {
      id
    }
  }
}
    `,nh=(t,e,n)=>t();function ss(t){return Uy(new Ml.GraphQLClient(t))}function Wy(t){return function(e,n=nh){return{GaugeShare:(a,i)=>n(o=>e.request(K5,a,{...i,...o}),"GaugeShare","query"),GaugeShares:(a,i)=>n(o=>e.request(Z5,a,{...i,...o}),"GaugeShares","query"),LiquidityGauges:(a,i)=>n(o=>e.request(Q5,a,{...i,...o}),"LiquidityGauges","query"),Pools:(a,i)=>n(o=>e.request(eh,a,{...i,...o}),"Pools","query"),PoolGauges:(a,i)=>n(o=>e.request(th,a,{...i,...o}),"PoolGauges","query")}}(new Ml.GraphQLClient(t))}class ah{constructor(e,n,a={}){this.options=a,this.calls=[],this.paths=[],this.address="0xcA11bde05977b3631167028862bE2a173976CA11",this.interface=new ue(e),this.multicall=vy.connect(this.address,n)}call(e,n,a,i){return this.calls.push([n,a,i]),this.paths.push(e),this}async execute(e={},n=1024){const a=e;return(await this.executeMulticall(n)).forEach((i,o)=>Qe.set(a,this.paths[o],i.length>1?i:i[0])),this.calls=[],this.paths=[],a}async executeMulticall(e){const n=Math.ceil(this.calls.length/e),a=[],i=[];for(let o=0;o<n;o++){const s=this.calls.slice(o*e,(o+1)*e).map(([r,l,p])=>({target:r,allowFailure:!0,callData:this.interface.encodeFunctionData(l,p)}));i.push(this.multicall.callStatic.aggregate3(s,this.options))}return(await Promise.all(i)).forEach((o,s)=>{const r=s*e;for(let l=0;l<o.length;l++){const p=r+l,{success:u,returnData:d}=o[l];if(u)try{const c=this.interface.decodeFunctionResult(this.calls[p][1],d);a[p]=c}catch{console.error("Multicall error",this.paths[p]),a[p]=[]}else console.error("Failed request in multicall",this.paths[p]),a[p]=[]}}),a}}const ih=["function getSwapFeePercentage() view returns (uint256)","function percentFee() view returns (uint256)","function protocolPercentFee() view returns (uint256)","function getNormalizedWeights() view returns (uint256[])","function totalSupply() view returns (uint256)","function getVirtualSupply() view returns (uint256)","function getActualSupply() view returns (uint256)","function getTargets() view returns (uint256 lowerTarget, uint256 upperTarget)","function getTokenRates() view returns (uint256, uint256)","function getWrappedTokenRate() view returns (uint256)","function getAmplificationParameter() view returns (uint256 value, bool isUpdating, uint256 precision)","function getPausedState() view returns (bool)","function inRecoveryMode() view returns (bool)","function getRate() view returns (uint256)","function getScalingFactors() view returns (uint256[] memory)","function getPoolTokens(bytes32) view returns (address[], uint256[])"],oh=(t,e,n)=>{n.call(`${t}.weights`,e,"getNormalizedWeights")},sh=(t,e,n)=>{n.call(`${t}.targets`,e,"getTargets"),n.call(`${t}.wrappedTokenRate`,e,"getWrappedTokenRate")},rh=(t,e,n)=>{n.call(`${t}.amp`,e,"getAmplificationParameter")},lh=(t,e,n)=>{n.call(`${t}.tokenRates`,e,"getTokenRates")},ph=async(t,e,n,a=1024)=>{if(t.length===0)return{};const i=new ah(ih,n);return t.forEach(({id:o,address:s,poolType:r,poolTypeVersion:l})=>{((p,u,d,c,m)=>{m.call(`${p}.poolTokens`,d,"getPoolTokens",[p]),m.call(`${p}.totalShares`,u,(f=>f.includes("Linear")||["StablePhantom"].includes(f)?"getVirtualSupply":f==="ComposableStable"?"getActualSupply":"totalSupply")(c)),m.call(`${p}.swapFee`,u,(f=>f==="Element"?"percentFee":f==="FX"?"protocolPercentFee":"getSwapFeePercentage")(c))})(o,s,e,r,i),((p,u=1)=>{const d=()=>({});switch(p){case"Weighted":case"LiquidityBootstrapping":case"Investment":return oh;case"Stable":case"StablePhantom":case"MetaStable":case"ComposableStable":return rh;case"GyroE":return u===2?lh:d;case"AaveLinear":return u===1?sh:d;default:return d}})(r,l)(o,s,i)}),await i.execute({},a)};async function bo(t,e,n,a,i=1024){if(t.length===0)return t;const o=[],s=await ph(t,n,a,i);return t.forEach(r=>{const l=s[r.id];o.push(((p,u)=>({...p,tokens:u.poolTokens?p.tokens.map(d=>{const c=u.poolTokens[0].map(I=>I.toLowerCase()).indexOf(d.address),m=p.wrappedIndex&&p.tokensList[p.wrappedIndex],f=d.decimals===void 0?18:d.decimals;return{...d,balance:F(u.poolTokens[1][c],f),weight:u.weights&&F(u.weights[c],18)||d.weight,priceRate:u.wrappedTokenRate&&m&&m.toLowerCase()===d.address.toLowerCase()&&F(u.wrappedTokenRate,18)||d.priceRate}}):p.tokens,totalShares:u.totalShares?F(u.totalShares,18):p.totalShares,swapFee:u.swapFee?F(u.swapFee,18):p.swapFee,amp:u.amp&&u.amp[0]&&F(u.amp[0],String(u.amp[2]).length-1)||p.amp,lowerTarget:u.targets&&F(u.targets[0],18)||p.lowerTarget,upperTarget:u.targets&&F(u.targets[1],18)||p.upperTarget,tokenRates:u.tokenRates&&u.tokenRates.map(d=>F(d,18))||p.tokenRates}))(r,l))}),o}class Gy{constructor(e,n,a,i,o){this.client=e,this.provider=n,this.network=a,this.sorConfig=i,this.defaultArgs=(o==null?void 0:o.args)||{orderBy:Fo.TotalLiquidity,orderDirection:fi.Desc,where:{swapEnabled:{eq:!0},totalShares:{gt:1e-12}}}}async getPools(e){const n=function(o){return o.map(s=>({...s,poolType:s.poolType||"",tokens:(s.tokens||[]).map(r=>({...r,weight:r.weight||null})),totalWeight:s.totalWeight||void 0,amp:s.amp||void 0,expiryTime:s.expiryTime?Qe.parseInt(s.expiryTime):void 0,unitSeconds:s.unitSeconds?Qe.parseInt(s.unitSeconds):void 0,principalToken:s.principalToken||void 0,baseToken:s.baseToken||void 0}))}((await this.getSubgraphPools(e)).filter(o=>this.network.poolsToIgnore?this.network.poolsToIgnore.findIndex(s=>s.toLowerCase()===o.id.toLowerCase())===-1:!0));if(this.sorConfig&&this.sorConfig.fetchOnChainBalances===!1)return n;const a=Le.getInstance();a.time(`fetching on-chain balances for ${n.length} pools`);const i=await bo(n,this.network.addresses.contracts.multicall,this.network.addresses.contracts.vault,this.provider,this.network.multicallBatchSize);return a.timeEnd(`fetching on-chain balances for ${n.length} pools`),i}async getSubgraphPools(e){const n=new bi(e||this.defaultArgs).format(new gr);if(n.first){const{pools:s}=await this.client.Pools(n);return s}const{pool0:a,pool1000:i,pool2000:o}=await this.client.AllPools(n);return[...a,...i,...o]}}class uh{constructor(e){this.chainId=e}async getNativeAssetPriceInToken(e){const n=await this.getTokenPriceInNativeAsset(e);return""+1/parseFloat(n)}async getTokenPriceInNativeAsset(e){const n=`https://api.coingecko.com/api/v3/simple/token_price/${this.platformId}?contract_addresses=${e}&vs_currencies=${this.nativeAssetId}`,{data:a}=await sn.get(n,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a[e.toLowerCase()]===void 0||a[e.toLowerCase()][this.nativeAssetId]===void 0)throw Error("No price returned from Coingecko");return a[e.toLowerCase()][this.nativeAssetId]}get platformId(){return Wn[this.chainId].thirdParty.coingecko.platformId||"2"}get nativeAssetId(){return Wn[this.chainId].thirdParty.coingecko.nativeAssetId||""}}class dh{constructor(e,n){this.client=e,this.weth=n.toLowerCase()}async getNativeAssetPriceInToken(e){const n=await this.getLatestPriceInEthFromSubgraph(e);if(!n)throw Error("No price found in the subgraph");return""+1/n}async getLatestPriceInEthFromSubgraph(e){e=e.toLowerCase();const{latestPrices:n}=await this.client.TokenLatestPrices({where:{asset_in:[e,this.weth]}}),a=Qe.keyBy(n,"id");if(a[`${e}-${this.weth}`])return parseFloat(a[`${e}-${this.weth}`].price);const i=n.filter(o=>o.asset===e);for(const o of i){const s=a[`${o.pricingAsset}-${this.weth}`];if(s)return parseFloat(o.price)*parseFloat(s.price)}return null}}function op(t){var e,n;if(typeof t.network=="number"){const a=Wn[t.network];return{...a,urls:{...a.urls,subgraph:(e=t.customSubgraphUrl)!==null&&e!==void 0?e:a.urls.subgraph},tenderly:t.tenderly}}return{...t.network,urls:{...t.network.urls,subgraph:(n=t.customSubgraphUrl)!==null&&n!==void 0?n:t.network.urls.subgraph},tenderly:t.network.tenderly}}const Hy=["0x00c2a4be503869fa751c2dbcb7156cc970b5a8da000000000000000000000477","0x02d928e68d8f10c0358566152677db51e1e2dc8c00000000000000000000051e","0x04248aabca09e9a1a3d5129a7ba05b7f17de768400000000000000000000050e","0x05513ca725b6ce035ca2641075474eb469f05f4c00020000000000000000041f","0x0a0fb4ff697de5ac5b6770cd8ee1b72af80b57cf000000000000000000000496","0x0afbd58beca09545e4fb67772faf3858e610bcd00000000000000000000004b9","0x0d05aac44ac7dd3c7ba5d50be93eb884a057d23400000000000000000000051c","0x11839d635e2f0270da37e8ef4324d4d5d54329570002000000000000000004d8","0x126e7643235ec0ab9c103c507642dc3f4ca23c66000000000000000000000468","0x133d241f225750d2c92948e464a5a80111920331000000000000000000000476","0x159cb00338fb63f263fd6f621df619cef71da9540000000000000000000004d5","0x173063a30e095313eee39411f07e95a8a806014e0002000000000000000003ab","0x1bd2f176a812e312077bca87e37c08432bb09f3e0000000000000000000005a1","0x20b156776114e8a801e9767d90c6ccccc8adf398000000000000000000000499","0x246ffb4d928e394a02e45761fecdba6c2e79b8eb000000000000000000000541","0x25accb7943fd73dda5e23ba6329085a3c24bfb6a000200000000000000000387","0x26c2b83fc8535deead276f5cc3ad9c1a2192e02700020000000000000000056b","0x2b218683178d029bab6c9789b1073aa6c96e517600000000000000000000058c","0x2ba7aa2213fa2c909cd9e46fed5a0059542b36b00000000000000000000003a3","0x2bbf681cc4eb09218bee85ea2a5d3d13fa40fc0c0000000000000000000000fd","0x2e52c64fd319e380cdbcfc4577ea1fda558a32e40002000000000000000005ba","0x2f4eb100552ef93840d5adc30560e5513dfffacb000000000000000000000334","0x2ff1a9dbdacd55297452cfd8a4d94724bc22a5f7000000000000000000000484","0x3035917be42af437cbdd774be26b9ec90a2bd677000200000000000000000543","0x331d50e0b00fc1c32742f151e56b9b616227e23e00000000000000000000047c","0x334c96d792e4b26b841d28f53235281cec1be1f200020000000000000000038a","0x335d1709d4da9aca59d16328db5cd4ea66bfe06b0000000000000000000004d6","0x395d8a1d9ad82b5abe558f8abbfe183b27138af40000000000000000000004e5","0x3bb22fc9033b802f2ac47c18885f63476f158afc000000000000000000000483","0x3c640f0d3036ad85afa2d5a9e32be651657b874f00000000000000000000046b","0x3cdae4f12a67ba563499e102f309c73213cb241c000000000000000000000335","0x3dbb8d974b82e82ce79c20c0f5995f4f1f533ede000000000000000000000470","0x3f7a7fd7f214be45ec26820fd01ac3be4fc75aa70002000000000000000004c5","0x3fcb7085b8f2f473f80bf6d879cae99ea4de934400000000000000000000056d","0x41503c9d499ddbd1dcdf818a1b05e9774203bf46000000000000000000000594","0x4228290ee9cab692938ff0b4ba303fbcdb68e9f200020000000000000000057d","0x454ed96955d04d2f5cdd05e0fd1c77975bfe5307000000000000000000000410","0x481c5fc05d63a58aa2f0f2aa417c021b5d419cb200000000000000000000056a","0x483006684f422a9448023b2382615c57c5ecf18f000000000000000000000488","0x4a82b580365cff9b146281ab72500957a849abdc000000000000000000000494","0x4c81255cc9ed7062180ea99962fe05ac0d57350b0000000000000000000005a3","0x4c8d2e60863e8d7e1033eda2b3d84e92a641802000000000000000000000040f","0x4cbde5c4b4b53ebe4af4adb85404725985406163000000000000000000000595","0x4ce0bd7debf13434d3ae127430e9bd4291bfb61f00020000000000000000038b","0x4ce277df0feb5b4d07a0ca2adcf5326e4005239d000000000000000000000518","0x4fd4687ec38220f805b6363c3c1e52d0df3b5023000200000000000000000473","0x4fd63966879300cafafbb35d157dc5229278ed230000000000000000000000e9","0x50cf90b954958480b8df7958a9e965752f62712400000000000000000000046f","0x53bc3cba3832ebecbfa002c12023f8ab1aa3a3a0000000000000000000000411","0x5a6a8cffb4347ff7fc484bf5f0f8a2e234d34255000200000000000000000275","0x5b3240b6be3e7487d61cd1afdfc7fe4fa1d81e6400000000000000000000037b","0x60683b05e9a39e3509d8fdb9c959f23170f8a0fa000000000000000000000489","0x60d604890feaa0b5460b28a424407c24fe89374a0000000000000000000004fc","0x639883476960a23b38579acfd7d71561a0f408cf000200000000000000000505","0x652d486b80c461c397b0d95612a404da936f3db30000000000000000000000e7","0x6667c6fa9f2b3fc1cc8d85320b62703d938e43850000000000000000000004fb","0x6a1eb2e9b45e772f55bd9a34659a04b6f75da68700000000000000000000040d","0x6c56e72c551b5ac4bf54a620a76077ca768c8fe40002000000000000000004da","0x70b7d3b3209a59fb0400e17f67f3ee8c37363f4900020000000000000000018f","0x7337224d59cb16c2dc6938cd45a7b2c60c865d6a0000000000000000000004d4","0x74cbfaf94a3577c539a9dcee9870a6349a33b34f000000000000000000000534","0x779d01f939d78a918a3de18cc236ee89221dfd4e0000000000000000000004c7","0x7b50775383d3d6f0215a8f290f2c9e2eebbeceb20000000000000000000000fe","0x804cdb9116a10bb78768d3252355a1b18067bf8f0000000000000000000000fb","0x813e3fe1761f714c502d1d2d3a7cceb33f37f59d00000000000000000000040c","0x82698aecc9e28e9bb27608bd52cf57f704bd1b83000000000000000000000336","0x8a6b25e33b12d1bb6929a8793961076bd1f9d3eb0002000000000000000003e8","0x8e6ec57a822c2f527f2df7c7d7d361df3e7530a1000000000000000000000498","0x8f4063446f5011bc1c9f79a819efe87776f23704000000000000000000000197","0x9001cbbd96f54a658ff4e6e65ab564ded76a543100000000000000000000050a","0x9210f1204b5a24742eba12f710636d76240df3d00000000000000000000000fc","0x9516a2d25958edb8da246a320f2c7d94a0dbe25d000000000000000000000519","0x959216bb492b2efa72b15b7aacea5b5c984c3cca000200000000000000000472","0x968024662b9566b42d78af23a0f441bc8723fa83000200000000000000000418","0x99c88ad7dc566616548adde8ed3effa730eb6c3400000000000000000000049a","0x9b1c8407a360443a9e5eca004713e4088fab8ac0000000000000000000000497","0x9b692f571b256140a39a34676bffa30634c586e100000000000000000000059d","0x9d7f992c900fbea0ec314bdd71b7cc1becf76a33000200000000000000000573","0x9fb771d530b0ceba5160f7bfe2dd1e8b8aa1340300000000000000000000040e","0xa13a9247ea42d743238089903570127dda72fe4400000000000000000000035d","0xa1697f9af0875b63ddc472d6eebada8c1fab85680000000000000000000004f9","0xa3823e50f20982656557a4a6a9c06ba5467ae9080000000000000000000000e6","0xa718042e5622099e5f0ace4e7122058ab39e1bbe000200000000000000000475","0xa8b103a10a94f4f2d7ed2fdcd5545e807557330700000000000000000000048e","0xac5b4ef7ede2f2843a704e96dcaa637f4ba3dc3f00000000000000000000051d","0xac976bb42cb0c85635644e8c7c74d0e0286aa61c0000000000000000000003cb","0xae37d54ae477268b9997d4161b96b8200755935c000000000000000000000337","0xae8535c23afedda9304b03c68a3563b75fc8f92b0000000000000000000005a0","0xb0f75e97a114a4eb4a425edc48990e6760726709000000000000000000000198","0xb5e3de837f869b0248825e0175da73d4e8c3db6b000200000000000000000474","0xb841b062ea8ccf5c4cb78032e91de4ae875560420002000000000000000005b7","0xb9bd68a77ccf8314c0dfe51bc291c77590c4e9e6000200000000000000000385","0xbb6881874825e60e1160416d6c426eae65f2459e000000000000000000000592","0xbc0f2372008005471874e426e86ccfae7b4de79d000000000000000000000485","0xbf2ef8bdc2fc0f3203b3a01778e3ec5009aeef3300000000000000000000058d","0xbfa413a2ff0f20456d57b643746133f54bfe0cd20000000000000000000004c3","0xc2b021133d1b0cf07dba696fd5dd89338428225b000000000000000000000598","0xc443c15033fcb6cf72cc24f1bda0db070ddd9786000000000000000000000593","0xc50d4347209f285247bda8a09fc1c12ce42031c3000000000000000000000590","0xc5dc1316ab670a2eed5716d7f19ced321191f38200000000000000000000056e","0xc8c79fcd0e859e7ec81118e91ce8e4379a481ee6000000000000000000000196","0xcaa052584b462198a5a9356c28bce0634d65f65c0000000000000000000004db","0xcbfa4532d8b2ade2c261d3dd5ef2a2284f7926920000000000000000000004fa","0xcfae6e251369467f465f13836ac8135bd42f8a56000000000000000000000591","0xd4e7c1f3da1144c9e2cfd1b015eda7652b4a439900000000000000000000046a","0xd6e355036f41dc261b3f1ed3bbc6003e87aadb4f000000000000000000000495","0xd7edb56f63b2a0191742aea32df1f98ca81ed9c600000000000000000000058e","0xd997f35c9b1281b82c8928039d14cddab5e13c2000000000000000000000019c","0xdba274b4d04097b90a72b62467d828cefd708037000000000000000000000486","0xdc063deafce952160ec112fa382ac206305657e60000000000000000000004c4","0xdec02e6642e2c999af429f5ce944653cad15e093000000000000000000000469","0xe03af00fabe8401560c1ff7d242d622a5b601573000000000000000000000493","0xe0fcbf4d98f0ad982db260f86cf28b49845403c5000000000000000000000504","0xe2d16b0a39f3fbb4389a0e8f1efcbecfb3d1e6e10000000000000000000005a7","0xe4dc3c1998ac693d68f4c77476d7c815694c3e94000200000000000000000416","0xe6bcc79f328eec93d4ec8f7ed35534d9ab549faa0000000000000000000000e8","0xe8c56405bc405840154d9b572927f4197d110de10000000000000000000005a4","0xeb486af868aeb3b6e53066abc9623b1041b42bc000000000000000000000046c","0xeb567dde03f3da7fe185bdacd5ab495ab220769d000000000000000000000548","0xec3626fee40ef95e7c0cbb1d495c8b67b34d398300000000000000000000053d","0xf22ff21e17157340575158ad7394e068048dd98b0000000000000000000004b8","0xf57c794f42da72b38c8f610ff3b5e8502e48cbde00000000000000000000055c","0xf71d0774b214c4cf51e33eb3d30ef98132e4dbaa00000000000000000000046e","0xfa24a90a3f2bbe5feea92b95cd0d14ce709649f900000000000000000000058f","0xfd11ccdbdb7ab91cb9427a6d6bf570c95876d1950000000000000000000004c2","0xfebb0bbf162e64fb9d0dfe186e517d84c395f016000000000000000000000502","0xfef969638c52899f91781f1be594af6f40b99bad00000000000000000000047b","0x02e139d53ebf4033bf78ab66c6a1e7f1f204487f0002000000000000000009f9","0x03090a9811181a2afe830a3a0b467698ccf3a8b1000000000000000000000bf5","0x0320c1c5b6df19a194d48882aaec1c72940081d9000000000000000000000a7d","0x04b54ea92d73de2d62d651db7d9778f0c49157d8000200000000000000000ba2","0x0503dd6b2d3dd463c9bef67fb5156870af63393e00000000000000000000042e","0x0889b240a5876aae745ac19f1771853671dc5d36000000000000000000000b3f","0x0bc54e914f53f98d16035f4f0d948f3e09c2fac0000200000000000000000bac","0x0c06e87c7b88d998f645b91c1f53b51294b12bca000100000000000000000bb9","0x10b040038f87219d9b42e025e3bd9b8095c87dd9000000000000000000000b11","0x117a3d474976274b37b7b94af5dcade5c90c6e85000000000000000000000aca","0x11884da90fb4221b3aa288a7741c51ec4fc43b2f000000000000000000000a5f","0x1379b816b9be611431d693290289c204720ca56d000100000000000000000b6f","0x150e7b885bdfce974f2abe88a72fdbd692175c6f0002000000000000000009fd","0x178e029173417b1f9c8bc16dcec6f697bc323746000000000000000000000758","0x1aafc31091d93c3ff003cff5d2d8f7ba2e7284250000000000000000000003b3","0x216690738aac4aa0c4770253ca26a28f0115c595000000000000000000000b2c","0x216d6db0c28204014618482c369d7fbf0a8f3232000100000000000000000b60","0x230ecdb2a7cee56d6889965a023aa0473d6da507000000000000000000000bf3","0x252ff6a3a6fd7b5e8e999de8e3f5c3b306ed1401000200000000000000000bec","0x25e57f4612912614e6c99616bd2abb9b5ae71e99000000000000000000000bf0","0x2645b13fd2c5295296e94a76280b968bdcbbdfed000000000000000000000c11","0x284eb68520c8fa83361c1a3a5910aec7f873c18b000000000000000000000ac9","0x2c8dbe8eb86135d9f2f26d196748c088d47f73e7000200000000000000000a29","0x31bccf9e28b94e5dacebaa67fe8bc1603cecd904000000000000000000000a01","0x341068a547c3cde3c09e338714010dd01b32f93f000200000000000000000a34","0x3db543faf7a92052de7860c5c9debabee59ed5bd000000000000000000000a62","0x3dd0843a028c86e0b760b1a76929d1c5ef93a2dd00000000000000000000070d","0x3efb91c4f9b103ee45885695c67794591916f34e000200000000000000000b43","0x402cfdb7781fa85d52f425352661128250b79e12000000000000000000000be3","0x43894de14462b421372bcfe445fa51b1b4a0ff3d000000000000000000000b36","0x4739e50b59b552d490d3fdc60d200977a38510c0000000000000000000000b10","0x48e6b98ef6329f8f0a30ebb8c7c960330d64808500000000000000000000075b","0x4a0b73f0d13ff6d43e304a174697e3d5cfd310a400020000000000000000091c","0x4a77ef015ddcd972fd9ba2c7d5d658689d090f1a000000000000000000000b38","0x4ae3661afa119892f0cc8c43edaf6a94989ac171000000000000000000000c06","0x4ccb966d8246240afb7a1a24628efb930870b1c40002000000000000000009fc","0x52cc8389c6b93d740325729cc7c958066cee4262000000000000000000000b0f","0x5b77107fcdf2b41903bab2bc555d4fc14cf7667d000000000000000000000b32","0x5bae72b75caab1f260d21bc028c630140607d6e8000000000000000000000ac6","0x600bd01b6526611079e12e1ff93aba7a3e34226f0000000000000000000009e4","0x63ce19ccd39930725b8a3d2733627804718ab83d000000000000000000000bf2","0x64efad69f099813021b41f4cac6e749fd55e188f000000000000000000000b39","0x6933ec1ca55c06a894107860c92acdfd2dd8512f000000000000000000000428","0x6abe4e7a497b8293c258389c1b00d177e4f257ed00010000000000000000080d","0x6c8c7fc50247a47038015eb1fd5dc105d05dafba000200000000000000000ba0","0x7079a25dec33be61bbd81b2fb69b468e80d3e72c0000000000000000000009ff","0x71bd10c2a590b5858f5576550c163976a48af906000000000000000000000b27","0x7c82a23b4c48d796dee36a9ca215b641c6a8709d000000000000000000000acd","0x7f4f4942f2a14b6ab7b08b10ada1aacede4ee8d4000200000000000000000b44","0x86aef31951e0a3a54333bd9e72f9a95587d058c5000200000000000000000912","0x882c7a84231484b3e9f3fd45ac04b1eb5d35b076000200000000000000000a91","0x894c82800526e0391e709c0983a5aea3718b7f6d000000000000000000000ac5","0x89b28a9494589b09dbccb69911c189f74fdadc5a000000000000000000000b33","0x89bb15076c9f2d86aa98ec6cffc1a71e31c38953000000000000000000000bf1","0x89f1146fee52b5d9166e9c83cc388b6d8f69f1380001000000000000000009e7","0x8a819a4cabd6efcb4e5504fe8679a1abd831dd8f00000000000000000000042d","0x8b58a1e7fff52001c22386c2918d45938a6a9be30001000000000000000008d9","0x8b8225bfedebaf1708c55743acb4ad43fd4d0f21000200000000000000000918","0x8fbd0f8e490735cfc3abf4f29cbddd5c3289b9a7000000000000000000000b5b","0x8fd39252d683fdb60bddd4df4b53c9380b496d59000200000000000000000b45","0x9321e2250767d79bab5aa06daa8606a2b3b7b4c5000000000000000000000bf4","0x949a12b95ec5b80c375b98963a5d6b33b0d0efff0002000000000000000009fe","0x9a020bdc2faff5bd24c6acc2020d01ff9f2c627a000000000000000000000ae2","0x9cf9358300e34bf9373d30129a1e718d8d058b54000200000000000000000913","0x9e34631547adcf2f8cefa0f5f223955c7b137571000000000000000000000ad5","0xa5a935833f6a5312715f182733eab088452335d7000100000000000000000bee","0xa5fe91dde37d8bf2dacacc0168b115d28ed03f84000000000000000000000b35","0xa8bf1c584519be0184311c48adbdc4c15cb2e8c1000000000000000000000bf6","0xab269164a10fab22bc87c39946da06c870b172d6000000000000000000000bfc","0xac2cae8d2f78a4a8f92f20dbe74042cd0a8d5af3000000000000000000000be2","0xae646817e458c0be890b81e8d880206710e3c44e000000000000000000000acb","0xaef2c171dbe64b0c18977e16e70bfd29d4ee0256000000000000000000000ac8","0xb0c830dceb4ef55a60192472c20c8bf19df03488000000000000000000000be1","0xb266ac3b7c98d7bcb28731dac0ef42dba1b276be000000000000000000000be4","0xb371aa09f5a110ab69b39a84b5469d29f9b22b76000000000000000000000b37","0xb3d658d5b95bf04e2932370dd1ff976fe18dd66a000000000000000000000ace","0xb54b2125b711cd183edd3dd09433439d5396165200000000000000000000075e","0xb59be8f3c85a9dd6e2899103b6fbf6ea405b99a4000000000000000000000b34","0xb878ecce26838fbba4f78cb5b791a0e09152c067000000000000000000000427","0xb973ca96a3f0d61045f53255e319aedb6ed4924000000000000000000000042f","0xbd4e35784c832d0f9049b54cb3609e5907c5b495000100000000000000000b14","0xc55ec796a4debe625d95436a3531f4950b11bdcf000000000000000000000b3e","0xc7e6389e364f4275eb442ef215ed21877028e2af000000000000000000000ac7","0xc83b55bbd005f1f84906545fcdb145dee53523e0000200000000000000000b30","0xcb21a9e647c95127ed784626485b3104cb28d0e7000000000000000000000425","0xd00f9ca46ce0e4a63067c4657986f0167b0de1e5000000000000000000000b42","0xd2f3b9e67c69762dd1c88f1d3dadd1649a190761000200000000000000000bf7","0xd4accb350f9cf59fe3cf7a5ee6ed9ace6a568ea9000200000000000000000b75","0xda1cd1711743e57dd57102e9e61b75f3587703da000000000000000000000acc","0xdae301690004946424e41051ace1791083be42a1000000000000000000000b40","0xde0a77ab6689b980c30306b10f9131a007e1af81000200000000000000000ba1","0xe051605a83deae38d26a7346b100ef1ac2ef8a0b0000000000000000000003ce","0xe1fb90d0d3b47e551d494d7ebe8f209753526b01000000000000000000000ac4","0xe2272cddb2cc408e79e02a73d1db9acc24a843d5000200000000000000000ba7","0xe2dc0e0f2c358d6e31836dee69a558ab8d1390e70000000000000000000009fa","0xe4885ed2818cc9e840a25f94f9b2a28169d1aea7000000000000000000000b29","0xe6909c2f18a29d97217a6146f045e1780606991f000100000000000000000bfe","0xe78b25c06db117fdf8f98583cdaaa6c92b79e917000000000000000000000b2b","0xea11645ac7d8f2def94c9d8d86bd766296c9b6b6000000000000000000000b3a","0xeb480dbbdd921cd6c359e4cc4c65ddea6395e2a1000200000000000000000946","0xed35f28f837e96f81240ebb82e0e3f518c7e8a2f000100000000000000000bb5","0xf0211cceebe6fcc45052b4e57ee95d233f5669d2000100000000000000000c01","0xf22a66046b5307842f21b311ecb4c462c24c0635000000000000000000000b15","0xf28f17be00f8ca3c9b7f66a4aad5513757fb3341000200000000000000000b5a","0xf42ed61450458ee4620f5ef4f29adb25a6ef0fb6000000000000000000000bf8","0xf48f01dcb2cbb3ee1f6aab0e742c2d3941039d56000000000000000000000445","0xf93579002dbe8046c43fefe86ec78b1112247bb8000000000000000000000759","0xf984eb2b8a7ef780245a797a2fccd82f346409ca000000000000000000000a59","0xfa2c0bd8327c99db5bde4c9e9e5cbf30946351bb000000000000000000000948","0xff4ce5aaab5a627bf82f4a571ab1ce94aa365ea600000000000000000000075a","0x1ac55c31dac78ca943cb8ebfca5945ce09e036e2000000000000000000000024","0x225e0047671939a8d78e08ebd692788abe63f15c000000000000000000000009","0x41211bba6d37f5a74b22e667533f080c7c7f3f1300000000000000000000000b","0x4de21b365d6543661d0e105e579a34b963862497000200000000000000000045","0x581ec1f5e7ced12b186deae32256adb53bdd5b08000000000000000000000001","0x66f33ae36dd80327744207a48122f874634b3ada000100000000000000000013","0xa3ed6f78edc29f69df8a0d16b1d1ccf9871f918c000000000000000000000032","0xa611a551b95b205ccd9490657acf7899daee5db700000000000000000000002e","0xb95829adbacd8af89e291dee78bc09e24de51d6b000000000000000000000043","0xb973ca96a3f0d61045f53255e319aedb6ed49240000200000000000000000011","0xba1a5b19d09a79dada039b1f974015c5a989d5fd000100000000000000000046","0xbb9cd48d33033f5effbedec9dd700c7d7e1dcf5000000000000000000000000e","0xd16f72b02da5f51231fde542a8b9e2777a478c8800000000000000000000000f","0xd4015683b8153666190e0b2bec352580ebc4caca00000000000000000000000d","0xe15cac1df3621e001f76210ab12a7f1a1691481f000000000000000000000044","0xe7f88d7d4ef2eb18fcf9dd7216ba7da1c46f3dd600000000000000000000000a","0xf48f01dcb2cbb3ee1f6aab0e742c2d3941039d56000200000000000000000012","0xfedb19ec000d38d92af4b21436870f115db22725000000000000000000000010","0xffff76a3280e95dc855696111c2562da09db2ac000000000000000000000000c","0x00fcd3d55085e998e291a0005cedecf58ac14c4000020000000000000000047f","0x077794c30afeccdf5ad2abc0588e8cee7197b71a000000000000000000000352","0x117a3d474976274b37b7b94af5dcade5c90c6e85000000000000000000000381","0x11884da90fb4221b3aa288a7741c51ec4fc43b2f000000000000000000000353","0x19b1c92631405a0a9495ccba0becf4f2e8e908bd000000000000000000000410","0x1e550b7764da9638fdd32c8a701364de31f45ee800000000000000000000047c","0x1fa7f727934226aedab636d62a084931b97d366b000000000000000000000411","0x23ca0306b21ea71552b148cf3c4db4fc85ae19290000000000000000000000c9","0x284eb68520c8fa83361c1a3a5910aec7f873c18b000000000000000000000380","0x2a96254ca32020b20ed3506f8f75318da24709f9000200000000000000000456","0x36942963e3b6f37ecc45a4e72349558514233f0000000000000000000000048a","0x3f53a862919ccfa023cb6ace91378a79fb0f6bf500000000000000000000040f","0x40af308e3d07ec769d85eb80afb116525ff4ac99000000000000000000000485","0x418de00ae109e6f874d872658767866d680eaa1900000000000000000000047d","0x45c4d1376943ab28802b995acffc04903eb5223f000000000000000000000470","0x4689122d360c4725d244c5cfea22861333d862e6000100000000000000000468","0x4739e50b59b552d490d3fdc60d200977a38510c0000000000000000000000409","0x49a0e3334496442a9706e481617724e7e37eaa080000000000000000000003ff","0x519cce718fcd11ac09194cff4517f12d263be067000000000000000000000382","0x52cc8389c6b93d740325729cc7c958066cee4262000000000000000000000408","0x567ecfcb22205d279bb8eed3e066989902bf03d5000000000000000000000452","0x585d95df0231fa08aeee35ff0c16b92fd0ecdc3300020000000000000000045f","0x5a7f39435fd9c381e4932fa2047c9a5136a5e3e7000000000000000000000400","0x5bae72b75caab1f260d21bc028c630140607d6e8000000000000000000000350","0x6cb787a419c3e6ee2e9ff365856c29cd10659113000000000000000000000474","0x7c82a23b4c48d796dee36a9ca215b641c6a8709d000000000000000000000406","0x81fc12c60ee5b753cf5fd0adc342dfb5f3817e3200000000000000000000035d","0x894c82800526e0391e709c0983a5aea3718b7f6d00000000000000000000034f","0x970712708a08e8fb152be4d81b2dc586923f5369000200000000000000000479","0x9bf7c3b63c77b4b4f2717776f15a4bec1b532a280000000000000000000000c8","0x9cebf13bb702f253abf1579294694a1edad00eaa000000000000000000000486","0x9e34631547adcf2f8cefa0f5f223955c7b137571000000000000000000000407","0x9fb7d6dcac7b6aa20108bad226c35b85a9e31b63000200000000000000000412","0xa1ea76c42b2938cfa9abea12357881006c52851300000000000000000000048f","0xa50f89e9f439fde2a6fe05883721a00475da3c4500000000000000000000048b","0xa612b6aed2e7ca1a3a4f23fbca9128461bbb7718000000000000000000000274","0xa8af146d79ac0bb981e4e0d8b788ec5711b1d5d000000000000000000000047b","0xad28940024117b442a9efb6d0f25c8b59e1c950b00000000000000000000046f","0xae646817e458c0be890b81e8d880206710e3c44e00000000000000000000039d","0xaef2c171dbe64b0c18977e16e70bfd29d4ee0256000000000000000000000351","0xbbf9d705b75f408cfcaee91da32966124d2c6f7d00000000000000000000047e","0xbd724eb087d4cc0f61a5fed1fffaf937937e14de000000000000000000000473","0xbe0f30217be1e981add883848d0773a86d2d2cd4000000000000000000000471","0xc46be4b8bb6b5a3d3120660efae9c5416318ed40000000000000000000000472","0xc69771058481551261709d8db44977e9afde645000010000000000000000042a","0xc6eee8cb7643ec2f05f46d569e9ec8ef8b41b389000000000000000000000475","0xcba9ff45cfb9ce238afde32b0148eb82cbe635620000000000000000000003fd","0xcf8b555b7754556cf2ac2165e77ee23ed8517d7900020000000000000000045e","0xd0dc20e6342db2de82692b8dc842301ff9121805000200000000000000000454","0xd3d5d45f4edf82ba0dfaf061d230766032a10e07000200000000000000000413","0xd6d20527c7b0669989ee082b9d3a1c63af742290000000000000000000000483","0xda1cd1711743e57dd57102e9e61b75f3587703da0000000000000000000003fc","0xe1fb90d0d3b47e551d494d7ebe8f209753526b0100000000000000000000034e","0xee02583596aee94cccb7e8ccd3921d955f17982a00000000000000000000040a","0xf984eb2b8a7ef780245a797a2fccd82f346409ca00000000000000000000034d","0xff8f84e8c87532af96aef5582ee451572233678b000200000000000000000478","0x054e7b0c73e1ee5aed6864fa511658fc2b54bcaa000000000000000000000015","0x3f1a2c4a3a751f6626bd90ef16e104f0772d4d6b00020000000000000000001b","0x7275c131b1f67e8b53b4691f92b0e35a4c1c6e22000000000000000000000010","0xa154009870e9b6431305f19b09f9cfd7284d4e7a000000000000000000000013","0xa1d14d922a575232066520eda11e27760946c991000000000000000000000012","0xa826a114b0c7db4d1ff4a4be845a78998c64564c000000000000000000000008","0xea67626e1f0b59e0d172a04f5702ef90bcdf440c00000000000000000000000f","0xeb496161099d45b3ea4892408ef745c6182eb56e00000000000000000000000e","0xece571847897fd61e764d455dc15cf1cd9de8d6f000000000000000000000014","0xed3e2f496cbcd8e212192fb8d1499842f04a0d19000000000000000000000009","0x02c9dcb975262719a61f9b40bdf0987ead9add3a000000000000000000000006","0x16c9a4d841e88e52b51936106010f27085a529ec00000000000000000000000c","0x32be2d0ddeaf3333501b24a28668ce373ba8e763000200000000000000000014","0x32f03464fdf909fdf3798f87ff3712b10c59bd86000000000000000000000005","0x4b718e0e2fea1da68b763cd50c446fba03ceb2ea00000000000000000000000b","0x68a69c596b3839023c0e08d09682314f582314e5000200000000000000000011","0x6f34a44fce1506352a171232163e7716dd073ade000200000000000000000015","0x9e2d87f904862671eb49cb358e74284762cc9f42000200000000000000000013","0xac4b72c01072a52b73ca71105504f1372efcce0d000000000000000000000003","0xbfd65c6160cfd638a85c645e6e6d8acac5dac935000000000000000000000004","0xe274c9deb6ed34cfe4130f8d0a8a948dea5bb28600000000000000000000000d"];class Ta extends Hc{constructor(e){const n=op(e),a=Ta.getSorConfig(e),i=Ta.getSorNetworkConfig(n),o=new $b(e.rpcUrl,e.network),s=ss(n.urls.subgraph);super(o,i,Ta.getPoolDataService(n,a,o,s),Ta.getTokenPriceService(n,a,s))}static getSorConfig(e){return{tokenPriceService:"coingecko",poolDataService:"subgraph",fetchOnChainBalances:!0,...e.sor}}static getSorNetworkConfig(e){var n;return{...e,vault:e.addresses.contracts.vault,weth:e.addresses.tokens.wrappedNativeAsset,lbpRaisingTokens:(n=e.addresses.tokens)===null||n===void 0?void 0:n.lbpRaisingTokens,wETHwstETH:e.pools.wETHwstETH,connectingTokens:e.sorConnectingTokens,triPathMidPoolIds:e.sorTriPathMidPoolIds}}static getPoolDataService(e,n,a,i){var o;const s=[...(o=e.poolsToIgnore)!==null&&o!==void 0?o:[],...Hy];return typeof n.poolDataService=="object"?n.poolDataService:new Gy(i,a,{...e,poolsToIgnore:s},n)}static getTokenPriceService(e,n,a){return typeof n.tokenPriceService=="object"?n.tokenPriceService:(n.tokenPriceService==="subgraph"&&new dh(a,e.addresses.tokens.wrappedNativeAsset),new uh(e.chainId))}}function xd(t){if(t.poolIds.length>2)throw new Error("Simple flash swap only supports a maximum of two pools");if(t.assets.length>2)throw new Error("Simple flash swap only supports a maximum of to two assets (tokens)")}function vd(t,e){return[{poolId:t[0],assetInIndex:0,assetOutIndex:1,amount:e,userData:"0x"},{poolId:t[1],assetInIndex:1,assetOutIndex:0,amount:"0",userData:"0x"}]}function Pd(t){return-1*Number(t)}function ch(t){return Qe.sum(t)}const Ed={"0xae7ab96520de3a18e5e111b5eaab095312d7fe84":"0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0","0xd46ba6d942050d489dbd938a2c909a5d5039a161":"0xedb171c18ce90b633db442f2a6f72874093b49ef","0x1e6bb68acec8fefbd87d192be09bb274170a0548":"0xF03387d8d0FF326ab586A58E0ab4121d106147DF"};function Sd(t){let e=t;return Ed.hasOwnProperty(t)&&(e=Ed[t]),e}var qi;function $y(t,e,n){const{tokens:a,contracts:i}=gi(n);let o={id:qi.vault,address:i.vault};return a.stETH&&i.lidoRelayer&&[t,e].includes(a.stETH)&&(o={id:qi.lido,address:i.lidoRelayer}),o}function jy(t){return t.id===qi.lido?Zl.abi.filter(e=>e.type==="function"&&e.name&&["swap","batchSwap"].includes(e.name)):kt.abi.filter(e=>e.type==="function"&&e.name&&["swap","batchSwap"].includes(e.name))}function kd(t){return{amount:t,max:e=>t.mul(1e4+e).div(1e4),min:e=>t.mul(1e4-e).div(1e4)}}function zy(t,e){const n=e===Ce.SwapExactIn?t.swapAmount:t.returnAmount,a=e===Ce.SwapExactIn?t.returnAmount:t.swapAmount,i=e===Ce.SwapExactIn?t.swapAmountForSwaps||t.swapAmount:t.returnAmountFromSwaps||t.returnAmount,o=e===Ce.SwapExactIn?t.returnAmountFromSwaps||t.returnAmount:t.swapAmountForSwaps||t.swapAmount,s=Sd(t.tokenIn),r=Sd(t.tokenOut);return{...t,amountIn:n,amountOut:a,amountInForLimits:kd(i),amountOutForLimits:kd(o),tokenInForSwaps:s,tokenOutFromSwaps:r}}(function(t){t[t.vault=1]="vault",t[t.lido=2]="lido"})(qi||(qi={}));class yh{constructor(e,n,a){this.kind=n,this.chainId=a,this.functionName="swap",this.swapInfo=zy(e,n),this.relayer=$y(this.swapInfo.tokenIn,this.swapInfo.tokenOut,this.chainId)}setFunds(e,n){this.funds={sender:e,recipient:n||e,fromInternalBalance:!1,toInternalBalance:!1}}setDeadline(e){this.deadline=e}get amount(){return this.kind===Ce.SwapExactOut?this.swapInfo.amountOutForLimits.amount:this.swapInfo.amountInForLimits.amount}setLimits(e){this.limit=this.kind===Ce.SwapExactIn?this.swapInfo.amountOutForLimits.min(e).toString():this.swapInfo.amountInForLimits.max(e).toString()}get singleSwap(){return{poolId:this.swapInfo.swaps[0].poolId,kind:this.kind,assetIn:this.swapInfo.tokenInForSwaps,assetOut:this.swapInfo.tokenOutFromSwaps,amount:this.amount.toString(),userData:"0x"}}attributes(){var e;if(!this.funds||!this.limit||!this.deadline)throw new Error("Uninitialized arguments");let n={request:this.singleSwap,funds:this.funds,limit:this.limit,deadline:this.deadline};const a=this.fragment();return a[0].inputs&&((e=a[0].inputs)===null||e===void 0?void 0:e.length)>4&&(n={...n,value:"0",outputReference:"0"}),n}data(){return new ue(this.fragment()).encodeFunctionData("swap",Object.values(this.attributes()))}value(e){let n=S.from(0);return this.swapInfo.tokenIn===he&&(n=this.kind===Ce.SwapExactIn?this.swapInfo.amountIn:this.swapInfo.amountInForLimits.max(e)),n}to(){return this.relayer.address}fragment(){return jy(this.relayer).filter(e=>e.name===this.functionName)}}class mh{constructor(e,n,a){this.kind=n,this.chainId=a,this.functionName="batchSwap",this.swapInfo=zy(e,n),this.relayer=$y(this.swapInfo.tokenIn,this.swapInfo.tokenOut,this.chainId)}setFunds(e,n){this.funds={sender:e,recipient:n||e,fromInternalBalance:!1,toInternalBalance:!1}}setDeadline(e){this.deadline=e}minAmountOut(e){return this.kind===Ce.SwapExactIn?this.swapInfo.amountOutForLimits.min(e):this.swapInfo.amountOutForLimits.amount}maxAmountIn(e){return this.kind===Ce.SwapExactOut?this.swapInfo.amountInForLimits.max(e):this.swapInfo.amountInForLimits.amount}setLimits(e){this.limits=this.swapInfo.tokenAddresses.map(n=>{let a=S.from(0);return n===this.swapInfo.tokenInForSwaps&&(a=this.maxAmountIn(e)),n===this.swapInfo.tokenOutFromSwaps&&(a=this.minAmountOut(e).mul(-1)),a}).map(n=>n.toString().split(".")[0])}attributes(){var e;if(!this.funds||!this.limits||!this.deadline)throw new Error("Uninitialized arguments");let n={kind:this.kind,swaps:this.swapInfo.swaps,assets:this.swapInfo.tokenAddresses,funds:this.funds,limits:this.limits,deadline:this.deadline};const a=this.fragment();return a[0].inputs&&((e=a[0].inputs)===null||e===void 0?void 0:e.length)>6&&(n={...n,value:"0",outputReferences:[]}),n}data(){return new ue(this.fragment()).encodeFunctionData("batchSwap",Object.values(this.attributes()))}value(e){let n=S.from(0);return this.swapInfo.tokenIn===he&&(n=this.maxAmountIn(e)),n}to(){return this.relayer.address}fragment(){return jy(this.relayer).filter(e=>e.name===this.functionName)}}const Ad={maxPools:4,gasPrice:"1",deadline:"999999999999999999",maxSlippage:10};class Xy{constructor(e){e instanceof Hc?(this.sor=e,this.chainId=this.sor.provider._network.chainId):(this.sor=new Ta(e),typeof e.network=="number"?this.chainId=e.network:this.chainId=e.network.chainId),this.vaultContract=kt.connect(un,this.sor.provider)}static getLimitsForSlippage(e,n,a,i,o,s){return H6(e,n,a,i,o,s).map(r=>r.toString())}async findRouteGivenIn({tokenIn:e,tokenOut:n,amount:a,gasPrice:i,maxPools:o=4}){return this.sor.getSwaps(e,n,oe.SwapExactIn,a,{gasPrice:i,maxPools:o})}async findRouteGivenOut({tokenIn:e,tokenOut:n,amount:a,gasPrice:i,maxPools:o=4}){return this.sor.getSwaps(e,n,oe.SwapExactOut,a,{gasPrice:i,maxPools:o})}buildSwap({userAddress:e,recipient:n,swapInfo:a,kind:i,deadline:o,maxSlippage:s}){if(!this.chainId)throw"Missing network configuration";const r=a.swaps.length>1?new mh(a,i,this.chainId):new yh(a,i,this.chainId);r.setFunds(e,n),r.setDeadline(o),r.setLimits(s);const l=r.to(),{functionName:p}=r;return{to:l,functionName:p,attributes:r.attributes(),data:r.data(),value:r.value(s)}}async buildRouteExactIn(e,n,a,i,o,s=Ad){const r={...Ad,...s},l=await this.findRouteGivenIn({tokenIn:a,tokenOut:i,amount:S.from(o),gasPrice:S.from(r.gasPrice),maxPools:r.maxPools});return this.buildSwap({userAddress:e,recipient:n,swapInfo:l,kind:Ce.SwapExactIn,deadline:r.deadline,maxSlippage:r.maxSlippage})}static encodeBatchSwap(e){return kt.createInterface().encodeFunctionData("batchSwap",[e.kind,e.swaps,e.assets,e.funds,e.limits,e.deadline])}static encodeSimpleFlashSwap(e){return this.encodeBatchSwap(function({poolIds:n,assets:a,flashLoanAmount:i,walletAddress:o}){xd({poolIds:n,assets:a});const s=vd(n,i),r={sender:o,fromInternalBalance:!1,recipient:o,toInternalBalance:!1};return{kind:Ce.SwapExactIn,swaps:s,assets:a,funds:r,limits:["0","0"],deadline:"999999999999999999"}}(e))}async fetchPools(e){return this.sor.fetchPools(e)}getPools(){return this.sor.getPools()}async queryBatchSwap(e){return await Ru(this.vaultContract,e.kind,e.swaps,e.assets)}async querySimpleFlashSwap(e){return await async function(n){xd(n);const[a,i]=n.assets;try{const o=await Ru(n.vaultContract,Ce.SwapExactIn,vd(n.poolIds,n.flashLoanAmount),n.assets),s={[a]:Pd(o[0]).toString(),[i]:Pd(o[1]).toString()};return{profits:s,isProfitable:ch([s[a],s[i]])>0}}catch(o){throw`Failed to querySimpleFlashSwap: ${o}`}}({...e,vaultContract:this.vaultContract})}async getSorSwap(e){return await async function(n,a,i,o,s){const r=i===Ce.SwapExactIn?oe.SwapExactIn:oe.SwapExactOut;return await s.getSwaps(n.toLowerCase(),a.toLowerCase(),r,o)}(e.tokenIn,e.tokenOut,e.swapType,e.amount,this.sor)}async queryExactIn(e){const n=await this.query(e,Ce.SwapExactIn);return this.assetDeltas(n.map(String),e.tokenAddresses)}async queryExactOut(e){const n=await this.query(e,Ce.SwapExactOut);return this.assetDeltas(n.map(String),e.tokenAddresses)}query(e,n){const{swaps:a,tokenAddresses:i}=e,o={sender:he,recipient:he,fromInternalBalance:!1,toInternalBalance:!1};return this.vaultContract.callStatic.queryBatchSwap(n,a,i,o)}assetDeltas(e,n){return Object.fromEntries(e.map((a,i)=>[n[i],a]))}}var si;(function(t){t[t.WEIGHTED=0]="WEIGHTED",t[t.LEGACY_STABLE=1]="LEGACY_STABLE",t[t.COMPOSABLE_STABLE=2]="COMPOSABLE_STABLE",t[t.COMPOSABLE_STABLE_V2=3]="COMPOSABLE_STABLE_V2"})(si||(si={}));const Ft=Zl.createInterface();class ie{static encodeApproveVault(e,n){return Ft.encodeFunctionData("approveVault",[e,n])}static encodeSetRelayerApproval(e,n,a){return Ft.encodeFunctionData("setRelayerApproval",[e,n,a])}static encodeGaugeWithdraw(e,n,a,i){return Ft.encodeFunctionData("gaugeWithdraw",[e,n,a,i])}static encodeGaugeDeposit(e,n,a,i){return Ft.encodeFunctionData("gaugeDeposit",[e,n,a,i])}static encodeSwap(e){return Ft.encodeFunctionData("swap",[e.request,e.funds,e.limit,e.deadline,e.value,e.outputReference])}static encodeBatchSwap(e){return Ft.encodeFunctionData("batchSwap",[e.swapType,e.swaps,e.assets,e.funds,e.limits,e.deadline,e.value,e.outputReferences])}static encodeExitPool(e){return Ft.encodeFunctionData("exitPool",[e.poolId,e.poolKind,e.sender,e.recipient,e.exitPoolRequest,e.outputReferences])}static encodeJoinPool(e){return Ft.encodeFunctionData("joinPool",[e.poolId,e.kind,e.sender,e.recipient,e.joinPoolRequest,e.value,e.outputReference])}static encodeWrapAaveDynamicToken(e){return Ft.encodeFunctionData("wrapAaveDynamicToken",[e.staticToken,e.sender,e.recipient,e.amount,e.fromUnderlying,e.outputReference])}static encodeUnwrapAaveStaticToken(e){return Ft.encodeFunctionData("unwrapAaveStaticToken",[e.staticToken,e.sender,e.recipient,e.amount,e.toUnderlying,e.outputReference])}static encodeUnwrapWstETH(e){return Ft.encodeFunctionData("unwrapWstETH",[e.sender,e.recipient,e.amount,e.outputReference])}static encodeUnwrap(e,n){let a;switch(n){case"AaveLinear":return this.encodeUnwrapAaveStaticToken({staticToken:e.wrappedToken,sender:e.sender,recipient:e.recipient,amount:e.amount,toUnderlying:!0,outputReference:e.outputReference});case"BeefyLinear":case"ERC4626Linear":a="unwrapERC4626";break;case"EulerLinear":a="unwrapEuler";break;case"GearboxLinear":a="unwrapGearbox";break;case"ReaperLinear":a="unwrapReaperVaultToken";break;case"TetuLinear":a="unwrapTetu";break;case"YearnLinear":a="unwrapYearn";break;case"MidasLinear":a="unwrapCompoundV2";break;case"SiloLinear":a="unwrapShareToken";break;default:throw new Error("Unwrapping not supported for this pool type: "+n)}return Ft.encodeFunctionData(a,[e.wrappedToken,e.sender,e.recipient,e.amount,e.outputReference])}static encodePeekChainedReferenceValue(e){return Ft.encodeFunctionData("peekChainedReferenceValue",[e])}static toChainedReference(e,n=!0){const a=n?ie.CHAINED_REFERENCE_TEMP_PREFIX:ie.CHAINED_REFERENCE_READONLY_PREFIX,i=`0x${a}${"0".repeat(64-a.length)}`;return S.from(i).add(e)}static fromChainedReference(e,n=!0){const a=n?ie.CHAINED_REFERENCE_TEMP_PREFIX:ie.CHAINED_REFERENCE_READONLY_PREFIX,i=`0x${a}${"0".repeat(64-a.length)}`;return S.from(e).sub(S.from(i))}static isChainedReference(e){const n=S.from(e),a=S.from("0xfff0000000000000000000000000000000000000000000000000000000000000"),i=n.toBigInt()&a.toBigInt();return S.from(i)._hex.toString()==="0xba10000000000000000000000000000000000000000000000000000000000000"}static formatExitPoolInput(e){const{assets:n,minAmountsOut:a,userData:i,toInternalBalance:o,poolId:s,poolKind:r,sender:l,recipient:p,outputReferences:u}=e;return{poolId:s,poolKind:r,sender:l,recipient:p,outputReferences:u,exitPoolRequest:{assets:n,minAmountsOut:a,userData:i,toInternalBalance:o}}}static formatJoinPoolInput(e){const{assets:n,maxAmountsIn:a,userData:i,fromInternalBalance:o,poolId:s,kind:r,sender:l,recipient:p,value:u,outputReference:d}=e;return{poolId:s,kind:r,sender:l,recipient:p,value:u,outputReference:d,joinPoolRequest:{assets:n,maxAmountsIn:a,userData:i,fromInternalBalance:o}}}}ie.CHAINED_REFERENCE_TEMP_PREFIX="ba10",ie.CHAINED_REFERENCE_READONLY_PREFIX="ba11",ie.signRelayerApproval=async(t,e,n,a)=>{const i=a.interface.encodeFunctionData("setRelayerApproval",[e,t,!0]),o=await gt.signSetRelayerApprovalAuthorization(a,n,t,i);return gt.encodeCalldataAuthorization("0x",Do,o)};class bh{constructor(e){this.url=op(e).urls.subgraph,this.client=this.initClient()}initClient(){return Uy(new Ml.GraphQLClient(this.url))}}class fh{constructor(e,n){this.swaps=n||new Xy(e)}async fetchPools(){return this.swaps.fetchPools()}getPools(){return this.swaps.getPools()}async getSpotPrice(e,n,a=[]){a.length===0&&(await this.fetchPools(),a=this.getPools());const i=Gc(a,0),o=this.swaps.sor.routeProposer.getCandidatePathsFromDict(e,n,0,i,4);if(o.length===0)throw new Z(X.UNSUPPORTED_PAIR);return Di(o[0],0,V).toString()}}const Th=["function getPoolId() view returns (bytes32)","function getSwapFeePercentage() view returns (uint256)","function getProtocolFeesCollector() view returns (address)","function inRecoveryMode() view returns (bool)"];class hh{constructor(e,n,a={}){this.multicall=e,this.options=a,this.calls=[],this.paths=[],this.interface=new ue(n)}call(e,n,a,i){return this.calls.push([n,a,i]),this.paths.push(e),this}async execute(e={}){const n=e;return(await this.executeMulticall()).forEach((a,i)=>Qe.set(n,this.paths[i],a.length>1?a:a[0])),this.calls=[],this.paths=[],n}async executeMulticall(){const[,e]=await this.multicall.callStatic.aggregate(this.calls.map(([n,a,i])=>({target:n,callData:this.interface.encodeFunctionData(a,i)})),this.options);return e.map((n,a)=>this.interface.decodeFunctionResult(this.calls[a][1],n))}}function Jy(t){return Math.round(Date.now()/1e3)-t<86400}class Ih{constructor(e,n){this.veBalAddress=e,this.multicall=n}async getLockInfo(e){if(!this.veBalAddress)throw new Error("veBal address must be defined");const n=new hh(this.multicall,[...Sy.abi]);n.call("locked",this.veBalAddress,"locked",[e]),n.call("epoch",this.veBalAddress,"epoch"),n.call("totalSupply",this.veBalAddress,"totalSupply()");const a=await n.execute();return this.formatLockInfo(a)}formatLockInfo(e){const[n,a]=e.locked,i=n.gt(0),o=1e3*a.toNumber(),s=i&&Date.now()>o;return{lockedEndDate:o,lockedAmount:lt(n),totalSupply:lt(e.totalSupply),epoch:lt(e.epoch,0),hasExistingLock:i,isExpired:s}}}class gh{constructor(e,n){if(!e.veBalProxy)throw new Error("veBalProxy address must be defined");this.instance=ky.connect(e.veBalProxy,n)}async getAdjustedBalance(e){return lt(await this.instance.adjustedBalanceOf(e))}}class wh{constructor(e,n){this.getLiquidityGauge=_y.connect,this.contractAddresses=typeof e=="number"?Wn[e].addresses.contracts:e;const a=kt.connect(this.contractAddresses.vault,n),i=my.connect(this.contractAddresses.balancerHelpers,n);let o;this.contractAddresses.lidoRelayer&&(o=wy.connect(this.contractAddresses.lidoRelayer,n));const s=xy.connect(this.contractAddresses.multicall,n),r=Ji.connect(this.contractAddresses.balancerRelayer,n);let l,p,u,d,c,m,f,I,v,x,C;this.contractAddresses.veBal&&(l=new Ih(this.contractAddresses.veBal,s)),this.contractAddresses.veBalProxy&&(p=new gh(this.contractAddresses,n)),this.contractAddresses.gaugeClaimHelper&&(u=Iy.connect(this.contractAddresses.gaugeClaimHelper,n)),this.contractAddresses.composableStablePoolFactory&&(d=So.connect(this.contractAddresses.composableStablePoolFactory,n)),this.contractAddresses.weightedPoolFactory&&(c=Ao.connect(this.contractAddresses.weightedPoolFactory,n)),this.contractAddresses.aaveLinearPoolFactory&&(m=Kl.connect(this.contractAddresses.aaveLinearPoolFactory,n)),this.contractAddresses.erc4626LinearPoolFactory&&(f=Ql.connect(this.contractAddresses.erc4626LinearPoolFactory,n)),this.contractAddresses.eulerLinearPoolFactory&&(I=ep.connect(this.contractAddresses.eulerLinearPoolFactory,n)),this.contractAddresses.gearboxLinearPoolFactory&&(v=tp.connect(this.contractAddresses.gearboxLinearPoolFactory,n)),this.contractAddresses.yearnLinearPoolFactory&&(x=np.connect(this.contractAddresses.yearnLinearPoolFactory,n)),this.contractAddresses.gyroConfigProxy&&(C=ko.connect(this.contractAddresses.gyroConfigProxy,n)),this.instances={aaveLinearPoolFactory:m,balancerHelpers:i,BasePool:this.getBasePool,composableStablePoolFactory:d,ERC20:this.getErc20,erc4626LinearPoolFactory:f,eulerLinearPoolFactory:I,gaugeClaimHelper:u,gearboxLinearPoolFactory:v,gyroConfig:C,liquidityGauge:this.getLiquidityGauge,lidoRelayer:o,multicall:s,relayer:r,veBal:l,veBalProxy:p,weightedPoolFactory:c,yearnLinearPoolFactory:x,vault:a}}get contracts(){return this.instances}getErc20(e,n){return fy.connect(e,n)}getBasePool(e,n){return((a,i)=>new ce(a,Th,i))(e,n)}}class _h{constructor(e,n){this.tokenPrices=e,this.tokenHistoricalPrices=n}async calcImpLoss(e,n){if(1e3*e>=Date.now())throw console.error(`[ImpermanentLossService][calcImpLoss]Error: ${Z.getMessage(X.TIMESTAMP_IN_THE_FUTURE)}`),new Z(X.TIMESTAMP_IN_THE_FUTURE);const a=await this.prepareData(e,n),i=this.getPoolValueDelta(a),o=this.getHoldValueDelta(a);return this.calculateImpermanentLoss(i,o)}calculateImpermanentLoss(e,n){return Math.floor(100*Math.abs(e/n-1)*100)/100}getPoolValueDelta(e){return e.reduce((n,a)=>n*Math.pow(Math.abs(a.priceDelta+1),a.weight),1)}getHoldValueDelta(e){return e.reduce((n,a)=>n+Math.abs(a.priceDelta+1)*a.weight,0)}async prepareData(e,n){const a=n.tokens.filter(l=>l.address!==n.address),i=this.getWeights(a),o=a.map(l=>l.address),s=await this.getEntryPrices(e,o),r=await this.getExitPrices(a);return this.getAssets(a,r,s,i)}getAssets(e,n,a,i){return e.map((o,s)=>({priceDelta:this.getDelta(a[o.address],n[o.address]),weight:i[s]}))}getDelta(e,n){if(e===0)throw console.error(`[ImpermanentLossService][getDelta]Error: ${Z.getMessage(X.ILLEGAL_PARAMETER)}: entry price is 0`),new Z(X.ILLEGAL_PARAMETER);return(n-e)/e}getWeights(e){const n=e.every(o=>!o.weight),a=Math.round(1/e.length*100)/100,i=n?e.map(()=>a):e.map(o=>{var s;return Number((s=o.weight)!==null&&s!==void 0?s:0)});if(i.some(o=>o===0))throw console.error(`[ImpermanentLossService][getWeights]Error: ${Z.getMessage(X.MISSING_WEIGHT)}`),new Z(X.MISSING_WEIGHT);return i}async getExitPrices(e){var n;const a=await Promise.all(e.map(s=>this.tokenPrices.find(s.address))).catch(()=>[]);if(!a.length||a.some(s=>(s==null?void 0:s.usd)===void 0))throw console.error(`[ImpermanentLossService][getExitPrices]Error: ${Z.getMessage(X.MISSING_PRICE_RATE)}`),new Z(X.MISSING_PRICE_RATE);const i=e.map((s,r)=>({...s,price:a[r]})),o={};for(const s of i)!((n=s.price)===null||n===void 0)&&n.usd&&(o[s.address]=+s.price.usd);return o}async getEntryPrices(e,n){const a={};for(const i of n){const o=await this.tokenHistoricalPrices.findBy(i,e).catch(s=>{Le.getInstance().warn(`[ImpermanentLossService][getEntryPrices]Error: ${s.message}`)});if(!(o!=null&&o.usd))throw Le.getInstance().warn(`[ImpermanentLossService][getEntryPrices]Error: ${Z.getMessage(X.MISSING_PRICE_RATE)}`),new Z(X.MISSING_PRICE_RATE);a[i]=+o.usd}return a}}const xh=145e3,vh=1648465251,Ph=31536e3,Eh=2**(1/4),Yy=(t=Math.round(new Date().getTime()/1e3))=>{const e=Math.floor((t-vh)/Ph);return xh*Eh**-e};class Sh{constructor(e,n){this.repository=e,this.tokenPrices=n}async data(e=Date.now()){const n=await this.repository.multicallData(e),a=await this.tokenPrices.find(n.balAddress);if(!a||!a.usd)throw"No BAL USD price found";return{lastWeekBalRevenue:n.balAmount*parseFloat(a.usd),lastWeekBBAUsdRevenue:n.bbAUsdAmount*n.bbAUsdPrice,veBalSupply:n.veBalSupply}}}class Ky{constructor(e){this.yesterdaysPools=e}async last24h(e){let n;return this.yesterdaysPools&&(n=await this.yesterdaysPools.find(e.id)),e.totalSwapFee?n!=null&&n.totalSwapFee?parseFloat(e.totalSwapFee)-parseFloat(n.totalSwapFee):e.createTime&&Jy(e.createTime)?parseFloat(e.totalSwapFee):0:0}}class kh{constructor(e,n,a,i,o,s,r,l,p){this.pools=e,this.tokenPrices=n,this.tokenMeta=a,this.tokenYields=i,this.feeCollector=o,this.yesterdaysPools=s,this.liquidityGauges=r,this.feeDistributor=l,this.gyroConfigRepository=p}async swapFees(e){const n=await this.last24hFees(e),a=await this.totalLiquidity(e);if(!n||!a)return 0;const i=n*(1-await this.protocolSwapFeePercentage(e))/parseFloat(a)*1e4;return Math.round(365*i)}async tokenAprs(e){if(!e.tokens)return{total:0,breakdown:{}};const n=await this.totalLiquidity(e),a=e.tokens.filter(l=>l.address!==e.address),i=await Promise.all(a.map(async l=>{let p=0;const u=await this.tokenYields.find(l.address);if(u)p=e.poolType==="MetaStable"||e.poolType.includes("Gyro")?u*(1-await this.protocolSwapFeePercentage(e)):e.poolType==="ComposableStable"||e.poolType==="Weighted"&&e.poolTypeVersion>=2?l.isExemptFromYieldProtocolFee?u:u*(1-parseFloat(e.protocolYieldFeeCache||"0.5")):u;else{const d=await this.pools.findBy("address",l.address);if(d){const c=await this.swapFees(d);let m=(await this.tokenAprs(d)).total;(e.poolType==="ComposableStable"||e.poolType==="Weighted"&&e.poolTypeVersion===2)&&(l.isExemptFromYieldProtocolFee||(m*=1-parseFloat(e.protocolYieldFeeCache||"0.5"))),p=c+m}}return p})),o=async l=>{var p,u,d,c,m;let f;if(l.weight)return parseFloat(l.weight);if(!((u=(p=l.token)===null||p===void 0?void 0:p.pool)===null||u===void 0)&&u.poolType){const I=await this.pools.findBy("address",l.address);I&&(f=(await this.bptPrice(I)).toString())}else f=((d=l.price)===null||d===void 0?void 0:d.usd)||((c=await this.tokenPrices.find(l.address))===null||c===void 0?void 0:c.usd)||((m=l.token)===null||m===void 0?void 0:m.latestUSDPrice);if(f)return parseFloat(l.balance)*parseFloat(f)/parseFloat(n);throw`No price for ${l.address}`},s=await Promise.all(a.map(async(l,p)=>{if(i[p]===0)return 0;try{const u=await o(l);return Math.round(i[p]*u)}catch(u){return Le.getInstance().error(u),0}}));return{total:s.reduce((l,p)=>l+p,0),breakdown:Qe.pickBy(Qe.zipObject(a.map(l=>l.address),s),Qe.identity)}}async stakingApr(e,n=1){if(!this.liquidityGauges)return 0;const a=await this.liquidityGauges.findBy("poolId",e.id);if(!a||e.chainId==1&&a.workingSupply===0||e.chainId>1&&a.totalSupply===0||e.chainId>1&&a.balInflationRate===0)return 0;const i=Wn[e.chainId].addresses.tokens.bal;if(!i)return 0;const[o,s]=await Promise.all([this.tokenPrices.find(i),this.bptPrice(e)]);if(!(o!=null&&o.usd))throw"Missing BAL price";const r=(a.workingSupply+.4)/.4*s;if(a.balInflationRate){const d=86400*a.balInflationRate*365*parseFloat(o.usd);return Math.round(1e4*n*d/r)}if(e.chainId>1){if(!a.rewardTokens)return 0;const d=i&&a.rewardTokens[i];if(d){const c=await this.rewardTokenApr(i,d),m=a.totalSupply*s,f=c.value/m;return Math.round(1e4*f)}return 0}const l=parseFloat(o.usd),p=Math.round(new Date().getTime()/1e3),u=Yy(p)/7*365*a.relativeWeight*l;return Math.round(1e4*n*u/r)}async rewardAprs(e){if(!this.liquidityGauges)return{total:0,breakdown:{}};const n=await this.liquidityGauges.findBy("poolId",e.id);if(!n||!n.rewardTokens||Object.keys(n.rewardTokens).length<1)return{total:0,breakdown:{}};const a=Wn[e.chainId].addresses.tokens.bal,i=Object.keys(n.rewardTokens).filter(p=>p!=a).map(async p=>{const u=n.rewardTokens[p];return this.rewardTokenApr(p,u)}),o=await this.bptPrice(e),s=n.totalSupply*o;if(s==0)return{total:0,breakdown:{}};const r={};let l=0;for await(const p of Object.values(i)){const u=p.value/s,d=Math.round(1e4*u);l+=d,r[p.address]=d}return{total:l,breakdown:r}}async protocolApr(e){if(e.id!="0x5c6ee304399dbdb9c8ef030ab642b10820db8f56000200000000000000000014"||!this.feeDistributor)return 0;const n=new Sh(this.feeDistributor,this.tokenPrices),{lastWeekBalRevenue:a,lastWeekBBAUsdRevenue:i,veBalSupply:o}=await n.data(),s=await this.bptPrice(e);if(!s)throw"bptPrice for veBal pool missing";const r=(a+i)/7;return Math.round(365*r*1e4/(s*o))}async apr(e){if(Hy.includes(e.id))return{swapFees:0,tokenAprs:{total:0,breakdown:{}},stakingApr:{min:0,max:0},rewardAprs:{total:0,breakdown:{}},protocolApr:0,min:0,max:0};const[n,a,i,o,s,r]=await Promise.all([this.swapFees(e),this.tokenAprs(e),this.stakingApr(e),this.stakingApr(e,2.5),this.rewardAprs(e),this.protocolApr(e)]);return{swapFees:n,tokenAprs:a,stakingApr:{min:i,max:o},rewardAprs:s,protocolApr:r,min:n+a.total+s.total+i,max:n+a.total+s.total+r+o}}async last24hFees(e){return new Ky(this.yesterdaysPools).last24h(e)}async totalLiquidity(e){try{return await new My(this.pools,this.tokenPrices).getLiquidity(e)}catch{return Le.getInstance().warn("Liquidity calculcation failed, falling back to subgraph"),e.totalLiquidity}}async bptPrice(e){return parseFloat(await this.totalLiquidity(e))/parseFloat(e.totalShares)}async protocolSwapFeePercentage(e){let n=.5;return n=e.poolType.includes("Gyro")&&this.gyroConfigRepository?await this.gyroConfigRepository.getGyroProtocolFee(e.address):e.protocolSwapFeeCache?parseFloat(e.protocolSwapFeeCache):await this.feeCollector.find("")||.5,n}async rewardTokenApr(e,n){if(n.period_finish.toNumber()<Date.now()/1e3)return{address:e,value:0};{const a=n.rate.mul(86400).mul(365),i=await this.tokenPrices.find(e);if(i&&i.usd){let o=18;if(n.decimals)o=n.decimals;else{const s=await this.tokenMeta.find(e);o=(s==null?void 0:s.decimals)||18}return{address:e,value:parseFloat(lt(a,o))*parseFloat(i.usd)}}throw`No USD price for ${e}`}}}const Mo=Object.values(te),Zt=new Map;Mo.forEach(t=>{t.includes("Linear")&&Mo.includes(t)&&Zt.set(t,"batchSwap")}),Zt.set(te.Element,"batchSwap"),Zt.set(te.Investment,"joinPool"),Zt.set(te.LiquidityBootstrapping,"joinPool"),Zt.set(te.MetaStable,"joinPool"),Zt.set(te.Stable,"joinPool"),Zt.set(te.StablePhantom,"batchSwap"),Zt.set(te.Weighted,"joinPool"),Zt.set(te.ComposableStable,"joinPool");const Qt=new Map;Mo.forEach(t=>{t.includes("Linear")&&Mo.includes(t)&&Qt.set(t,"batchSwap")}),Qt.set(te.Element,"batchSwap"),Qt.set(te.Investment,"exitPool"),Qt.set(te.LiquidityBootstrapping,"exitPool"),Qt.set(te.MetaStable,"exitPool"),Qt.set(te.Stable,"exitPool"),Qt.set(te.StablePhantom,"batchSwap"),Qt.set(te.Weighted,"exitPool"),Qt.set(te.ComposableStable,"exitPool");class In{constructor(e){this.pools=e,this.getGraphNodes=async(n,a,i)=>{if(!await this.pools.find(a))throw new Z(X.POOL_DOESNT_EXIST);const o=await this.buildGraphFromRootPool(a,i);if(o.id!==a)throw new Error("Error creating graph nodes");return n?In.orderByBfs(o).reverse():In.orderByBfs(o)}}async buildGraphFromRootPool(e,n){const a=await this.pools.find(e);if(!a)throw new Z(X.POOL_DOESNT_EXIST);return(await this.buildGraphFromPool(a.address,0,void 0,R,n))[0]}getTokenTotal(e){const n=e.tokensList.indexOf(e.address);let a=ae;const{balancesEvm:i}=je(e);return i.forEach((o,s)=>{n!==s&&(a=a.add(o))}),a}async buildGraphFromPool(e,n,a,i,o){var s;const r=await this.pools.findBy("address",e);if(!r){if(a){const I=await this.pools.findBy("address",a.address),v=I.tokensList.indexOf(e),x=(s=I.tokens[v].decimals)!==null&&s!==void 0?s:18,{balancesEvm:C}=je(I);return In.createInputTokenNode(n,e,x,a,i,C[v].toString())}throw new Z(X.POOL_DOESNT_EXIST)}const l=Zt.get(r.poolType),p=Qt.get(r.poolType);if(!l||!p)throw new Z(X.UNSUPPORTED_POOL_TYPE);const u=this.getTokenTotal(r),{spotPriceCalculator:d}=ba.from(r.poolType),c={};let m=18;r.tokens.forEach(I=>{if(it(I.address,r.address))return void(m=I.decimals?I.decimals:18);const v=d.calcPoolSpotPrice(I.address,r.address,r);c[I.address]=v});let f={address:r.address,id:r.id,type:r.poolType,joinAction:l,exitAction:p,isProportionalExit:!1,children:[],marked:!1,index:n.toString(),parent:a,proportionOfParent:i,isLeaf:!1,spotPrices:c,decimals:m,balance:r.totalShares,priceRate:R.toString()};if(this.updateNodeIfProportionalExit(r,f),n++,r.poolType.toString().includes("Linear"))[f,n]=this.createLinearNodeChildren(f,n,r,o);else{const{balancesEvm:I}=je(r);for(let v=0;v<r.tokens.length;v++){if(it(r.tokens[v].address,r.address))continue;let x;if(r.poolType==="Weighted"){const U=r.tokens[v].weight;x=H(U,18)}else x=S.from(I[v]).mul(1e18 .toString()).div(u);const C=x.mul(i).div(1e18 .toString()),j=await this.buildGraphFromPool(r.tokens[v].address,n,f,C,o);n=j[1],j[0]&&f.children.push(j[0])}}return[f,n]}updateNodeIfProportionalExit(e,n){(e.poolType===te.Weighted||e.poolType===te.ComposableStable&&e.poolTypeVersion>2)&&(n.isProportionalExit=!0)}createLinearNodeChildren(e,n,a,i){var o;if(a.mainIndex===void 0)throw new Error("Issue With Linear Pool");if(i.map(s=>s.toLowerCase()).includes(a.tokensList[a.mainIndex].toLowerCase())){const s=this.createWrappedTokenNode(a,n,e,e.proportionOfParent);return e.children.push(s[0]),[e,s[1]]}{const{balancesEvm:s}=je(a),r=(o=a.tokens[a.mainIndex].decimals)!==null&&o!==void 0?o:18,l=In.createInputTokenNode(n,a.tokensList[a.mainIndex],r,e,e.proportionOfParent,s[a.mainIndex].toString());return e.children.push(l[0]),[e,n=l[1]]}}createWrappedTokenNode(e,n,a,i){var o;if(e.wrappedIndex===void 0||e.mainIndex===void 0)throw new Error("Issue With Linear Pool");const{balancesEvm:s,upScaledBalances:r,scalingFactorsRaw:l,priceRates:p}=je(e),u={type:"WrappedToken",address:e.tokensList[e.wrappedIndex],id:"N/A",children:[],marked:!1,joinAction:"wrap",exitAction:"unwrap",isProportionalExit:!1,index:n.toString(),parent:a,proportionOfParent:i,isLeaf:!1,spotPrices:{},decimals:18,balance:s[e.wrappedIndex].toString(),priceRate:p[e.wrappedIndex].toString()};n++;const d=(o=e.tokens[e.mainIndex].decimals)!==null&&o!==void 0?o:18,c=as(r[e.wrappedIndex],l[e.mainIndex]).toString(),m=In.createInputTokenNode(n,e.tokensList[e.mainIndex],d,u,i,c);return u.children=[m[0]],[u,n=m[1]]}static createInputTokenNode(e,n,a,i,o,s){return[{address:n,id:"N/A",type:"Input",children:[],marked:!1,joinAction:"input",exitAction:"output",isProportionalExit:!1,index:e.toString(),parent:i,proportionOfParent:o,isLeaf:!0,spotPrices:{},decimals:a,balance:s,priceRate:R.toString()},e+1]}static orderByBfs(e){const n=[],a=[];for(e.marked=!0,n.push(e);n.length>0;){const i=n.shift();i&&a.push(i),i==null||i.children.forEach(o=>{o.marked||(o.marked=!0,n.push(o))})}return a}static getLeafAddresses(e){return e.filter(n=>n.isLeaf).map(n=>n.address)}static isProportionalPools(e){return e.every(n=>!(n.children.length>1)||n.isProportionalExit)}}class Mt{constructor(){}}Mt.joinInit=t=>Pe.decode(["uint256","uint256[]"],t),Mt.joinExactTokensInForBPTOut=t=>Pe.decode(["uint256","uint256[]","uint256"],t),Mt.joinTokenInForExactBPTOut=t=>Pe.decode(["uint256","uint256","uint256"],t),Mt.joinAllTokensInForExactBPTOut=t=>Pe.decode(["uint256","uint256"],t),Mt.exitExactBPTInForOneTokenOut=t=>Pe.decode(["uint256","uint256","uint256"],t),Mt.exitExactBPTInForTokensOut=t=>Pe.decode(["uint256","uint256"],t),Mt.exitBPTInForExactTokensOut=t=>Pe.decode(["uint256","uint256[]","uint256"],t);class Ah{constructor(e){this.relayerModel=e}joinKind(e){const n=Pe.decode(["uint256"],e)[0];if(!n)throw new Error("No exit kind.");return n.toNumber()}decodeJoinData(e,n){if(n===xt.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT)return Mt.joinAllTokensInForExactBPTOut(e).toString();if(n===xt.EXACT_TOKENS_IN_FOR_BPT_OUT){const[,a]=Mt.joinExactTokensInForBPTOut(e);return a}if(n===xt.TOKEN_IN_FOR_EXACT_BPT_OUT){const[,a,i]=Mt.joinTokenInForExactBPTOut(e);return[a.toString(),i]}throw new Error("Non supported join data")}allTokensInForExactBPTOut(){throw new Error("joinAllTokensInForExactBPTOut not supported")}joinExactTokensInForBPTOut(e,n){const a=this.decodeJoinData(e,xt.EXACT_TOKENS_IN_FOR_BPT_OUT),i=this.relayerModel.doChainedRefReplacements(a),o=n._calcBptOutGivenExactTokensIn(i.map(r=>S.from(r)));if(n.SubgraphType=="StablePhantom"||n.SubgraphType=="ComposableStable"){const r=n.tokens.find(p=>it(p.address,n.address));if(!r)throw new Error("Pool does not contain BPT as a token");const l=H(r.balance.toString(),r.decimals);n.updateTokenBalanceForPool(n.address,l.sub(o))}else n.updateTokenBalanceForPool(n.address,n.totalShares.add(o));const s=n.tokens.filter(r=>!it(r.address,n.address));return i.forEach((r,l)=>{const p=H(s[l].balance.toString(),s[l].decimals);n.updateTokenBalanceForPool(s[l].address,p.add(r))}),[o.toString(),s.map(r=>r.address),i]}joinTokenInForExactBPTOut(e,n){const[a,i]=this.decodeJoinData(e,xt.TOKEN_IN_FOR_EXACT_BPT_OUT),o=this.relayerModel.doChainedRefReplacement(a),s=n.parsePoolPairData(n.tokensList[Number(i)],n.address),r=F(o,18),l=n._tokenInForExactTokenOut(s,_(r.toString())).dp(s.decimalsIn),p=H(l.toString(),s.decimalsIn);return n.updateTokenBalanceForPool(s.tokenIn,s.balanceIn.add(p)),n.updateTokenBalanceForPool(s.tokenOut,s.balanceOut.add(o)),[p.toString(),s.tokenIn,p.toString()]}async doJoinPool(e,n){const a=n[e.poolId],i=this.joinKind(e.encodedUserData);let o="0",s=[],r=[];if(i===xt.ALL_TOKENS_IN_FOR_EXACT_BPT_OUT)o=this.allTokensInForExactBPTOut();else if(i===xt.EXACT_TOKENS_IN_FOR_BPT_OUT)[o,s,r]=this.joinExactTokensInForBPTOut(e.encodedUserData,a);else{if(i!==xt.TOKEN_IN_FOR_EXACT_BPT_OUT)throw new Error("Exit type not implemented");{let l,p;[o,l,p]=this.joinTokenInForExactBPTOut(e.encodedUserData,a),s.push(l),r.push(p)}}return s.push(a.address),r.push(ae.sub(o).toString()),e.outputReference&&ie.isChainedReference(e.outputReference)&&this.relayerModel.setChainedReferenceValue(e.outputReference,o),[s,r]}}class Oh{constructor(e){this.relayerModel=e}exitKind(e,n){const a=Pe.decode(["uint256"],n)[0];if(!a)throw new Error("No exit kind.");return e==="ComposableStable"?a.toNumber()===ha.BPT_IN_FOR_EXACT_TOKENS_OUT?yt.BPT_IN_FOR_EXACT_TOKENS_OUT:a.toNumber()===ha.EXACT_BPT_IN_FOR_ALL_TOKENS_OUT?yt.EXACT_BPT_IN_FOR_TOKENS_OUT:yt.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT:a.toNumber()}decodeExitData(e,n){if(n===yt.BPT_IN_FOR_EXACT_TOKENS_OUT){const[,a,i]=Mt.exitBPTInForExactTokensOut(e);return[a.toString(),i.toString()]}if(n===yt.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT){const[,a,i]=Mt.exitExactBPTInForOneTokenOut(e);return[a.toString(),i.toString()]}if(n===yt.EXACT_BPT_IN_FOR_TOKENS_OUT){const[,a]=Mt.exitExactBPTInForTokensOut(e);return[a.toString()]}throw new Error("Non supported exit data")}exactBptInForTokensOut(e,n){const[a]=this.decodeExitData(e,yt.EXACT_BPT_IN_FOR_TOKENS_OUT),i=this.relayerModel.doChainedRefReplacement(a),o=n._calcTokensOutGivenExactBptIn(S.from(i)).map(r=>r.toString());if(n.SubgraphType=="StablePhantom"||n.SubgraphType=="ComposableStable"){const r=n.tokens.find(p=>it(p.address,n.address));if(!r)throw new Error("Pool does not contain BPT as a token");const l=H(r.balance.toString(),r.decimals);n.updateTokenBalanceForPool(n.address,l.add(i))}else n.updateTokenBalanceForPool(n.address,n.totalShares.sub(i));const s=n.tokens.filter(r=>!it(r.address,n.address));return o.forEach((r,l)=>{const p=H(s[l].balance.toString(),s[l].decimals);n.updateTokenBalanceForPool(s[l].address,p.sub(r))}),[i,s.map(r=>r.address),o]}exactBptInForOneTokenOut(e,n){const[a,i]=this.decodeExitData(e,yt.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT),o=this.relayerModel.doChainedRefReplacement(a),s=n.parsePoolPairData(n.address,n.tokensList[Number(i)]),r=F(o,s.decimalsIn),l=n._exactTokenInForTokenOut(s,_(r)).dp(s.decimalsOut),p=H(l.toString(),s.decimalsOut),u=function(m,f){const I=[];return f.forEach(v=>{const x=m.tokens.findIndex(C=>it(C.address,v));if(x<0)throw"Pool does not contain tokenIn";I.push(H(m.tokens[x].balance,m.tokens[x].decimals).toString())}),I}(n,[n.address,s.tokenOut]);n.updateTokenBalanceForPool(s.tokenOut,S.from(u[1]).sub(p)),n.SubgraphType=="StablePhantom"||n.SubgraphType=="ComposableStable"?n.updateTokenBalanceForPool(n.address,S.from(u[0]).add(o)):n.updateTokenBalanceForPool(n.address,n.totalShares.sub(o));const d=n.tokensList.filter(m=>!it(m,n.address)),c=new Array(d.length).fill("0");return c[Number(i)]=p.toString(),[o,d,c]}async doExitPool(e,n){const a=n[e.poolId],i=this.exitKind(a.SubgraphType,e.encodedUserData);let o,s=[],r=[];const l=[],p=[];if(i===yt.EXACT_BPT_IN_FOR_TOKENS_OUT)[o,r,s]=this.exactBptInForTokensOut(e.encodedUserData,a);else{if(i!==yt.EXACT_BPT_IN_FOR_ONE_TOKEN_OUT)throw new Error("Exit type not implemented");[o,r,s]=this.exactBptInForOneTokenOut(e.encodedUserData,a)}for(let u=0;u<e.outputReferences.length;u++){const d=a.tokensList[e.outputReferences[u].index],c=r.indexOf(d);if(c===-1)throw new Error("Token out not found");this.relayerModel.setChainedReferenceValue(e.outputReferences[u].key.toString(),s[c])}return l.push(a.address,...r),p.push(o,...s.map(u=>ae.sub(u).toString())),[l,p]}}class Bh{constructor(e){this.relayerModel=e}async doSingleSwap(e,n){const a=this.relayerModel.doChainedRefReplacement(e.request.amount.toString()),i=n[e.request.poolId],[,o]=this.doSwap(e.request.assetIn,e.request.assetOut,i,e.request.kind,a),s=ae.sub(o);if(!e.outputReference)throw new Error("Missing outputReference");return this.relayerModel.setChainedReferenceValue(e.outputReference.toString(),s.abs().toString()),[s.toString(),a]}async doBatchSwap(e,n){const a=e.assets,i=new Array(a.length).fill(ae);let o;for(let s=0;s<e.swaps.length;++s){const r=e.swaps[s].amount;ie.isChainedReference(r)&&(e.swaps[s].amount=this.relayerModel.getChainedReferenceValue(r))}e.swaps.forEach(s=>{const r=a[s.assetInIndex],l=a[s.assetOutIndex],p=n[s.poolId];let u=s.amount;u==="0"&&(u=o);const[d,c]=this.doSwap(r,l,p,e.swapType,u);o=e.swapType===Ce.SwapExactIn?c.toString():d.toString(),i[s.assetInIndex]=i[s.assetInIndex].add(d),i[s.assetOutIndex]=i[s.assetOutIndex].sub(c)});for(let s=0;s<e.outputReferences.length;s++)this.relayerModel.setChainedReferenceValue(e.outputReferences[s].key.toString(),i[e.outputReferences[s].index].abs().toString());return i.map(s=>s.toString())}doSwap(e,n,a,i,o){const s=a.parsePoolPairData(e,n),r=i===Ce.SwapExactIn;let l=r?S.from(o):ae,p=r?ae:S.from(o);const u=F(l,s.decimalsIn),d=F(p,s.decimalsOut);if(r){const c=a._exactTokenInForTokenOut(s,_(u.toString())).dp(s.decimalsOut);p=H(c.toString(),s.decimalsOut)}else{const c=a._tokenInForExactTokenOut(s,_(d.toString())).dp(s.decimalsIn);l=H(c.toString(),s.decimalsIn)}return a.updateTokenBalanceForPool(s.tokenIn,s.balanceIn.add(l)),a.updateTokenBalanceForPool(s.tokenOut,s.balanceOut.sub(p)),[l,p]}}class Fh{constructor(e){this.relayerModel=e}async doUnwrap(e,n){const a=n[e.poolId],i=a.tokens[a.wrappedIndex],o=a.tokens[a.mainIndex],s=this.relayerModel.doChainedRefReplacement(e.amount.toString()),r=ge.divDownFixed(ge.mulDownFixed(BigInt(s),H(i.priceRate,18).toBigInt()),R.toBigInt()).toString();return this.relayerModel.setChainedReferenceValue(e.outputReference.toString(),r),[[i.address,o.address],[s,ae.sub(r).toString()]]}}class Mh{constructor(e){this.relayerModel=e,this.joinModel=new Ah(e),this.exitModel=new Oh(e),this.swapModel=new Bh(e),this.unwrapModel=new Fh(e)}async doJoin(e,n){return this.joinModel.doJoinPool(e,n)}async doExit(e,n){return this.exitModel.doExitPool(e,n)}async doBatchSwap(e,n){return this.swapModel.doBatchSwap(e,n)}async doSingleSwap(e,n){return this.swapModel.doSingleSwap(e,n)}async doUnwrap(e,n){return this.unwrapModel.doUnwrap(e,n)}}class Ch{constructor(){this.chainedRefs={}}setChainedReferenceValue(e,n){this.chainedRefs[e]=n}getChainedReferenceValue(e){return this.chainedRefs[e]}doChainedRefReplacement(e){return ie.isChainedReference(e.toString())?this.getChainedReferenceValue(e.toString()):e}doChainedRefReplacements(e){return e.map(n=>this.doChainedRefReplacement(n).toString())}}class Rh{constructor(e,n){this.poolDataService=e,this.wrappedNativeAsset=n,this.poolsArray=[],this.poolsDict={}}dataSource(){return this.poolDataService}async all(e=!1){if(e||this.poolsArray.length===0){const n=Qe.cloneDeep(await this.dataSource().getPools());for(const a of n)if(["Weighted","Investment","Stable","LiquidityBootstrapping"].includes(a.poolType)){const i={address:a.address,balance:a.totalShares,decimals:18,priceRate:"1",weight:"0"};a.tokens.push(i),a.tokensList.push(a.address)}this.poolsArray=n}return this.poolsArray}parseToPoolsDict(e){return Object.fromEntries(Qe.cloneDeep(e).filter(n=>n.tokensList.length>0&&n.tokens[0].balance!=="0").map(n=>[n.id,this.parseNewPool(n)]).filter(([,n])=>n!==void 0))}parseNewPool(e){if(!e.swapEnabled)return;let n={};try{if(["Weighted","Investment","LiquidityBootstrapping"].includes(e.poolType))n=ci.fromPool(e,!1);else if(e.poolType==="Stable")n=ga.fromPool(e);else if(e.poolType==="MetaStable")n=wa.fromPool(e);else if(e.poolType.toString().includes("Linear"))n=Hi.fromPool(e);else if(e.poolType==="StablePhantom")n=_n.fromPool(e);else{if(e.poolType!=="ComposableStable")return void Le.getInstance().warn(`Unknown pool type or type field missing: ${e.poolType} ${e.id}`);n=Xo.fromPool(e)}if(!n)throw new Error("Issue with Pool");n.SubgraphType=e.poolType}catch{return void console.error("Error parseNewPool")}return n}async poolsDictionary(e=!1){if(e||Object.keys(this.poolsDict).length===0){const n=await this.all(e);this.poolsDict=this.parseToPoolsDict(n)}return this.poolsDict}}var Vt,ai;(function(t){t[t.BatchSwap=0]="BatchSwap",t[t.Join=1]="Join",t[t.Exit=2]="Exit",t[t.Swap=3]="Swap",t[t.Unwrap=4]="Unwrap"})(Vt||(Vt={}));class gn{constructor(e,n){this.poolsSource=new Rh(e,n)}updateDeltas(e,n,a){return n.forEach((i,o)=>{e[i]||(e[i]=ae),e[i]=e[i].add(a[o])}),e}async multicall(e,n=!1){const a=new Ch,i=new Mh(a),o=await this.poolsSource.poolsDictionary(n),s={};for(const r of e){let l=[],p=[];switch(r.actionType){case Vt.Join:[l,p]=await i.doJoin(r,o);break;case Vt.Exit:[l,p]=await i.doExit(r,o);break;case Vt.BatchSwap:l=r.assets,p=await i.doBatchSwap(r,o);break;case Vt.Swap:l=[r.request.assetOut,r.request.assetIn],p=await i.doSingleSwap(r,o);break;case Vt.Unwrap:[l,p]=await i.doUnwrap(r,o)}this.updateDeltas(s,l,p)}return s}static mapSwapRequest(e){return{actionType:Vt.Swap,request:e.request,funds:e.funds,outputReference:e.outputReference}}static mapBatchSwapRequest(e){return{actionType:Vt.BatchSwap,swaps:e.swaps,assets:e.assets,funds:e.funds,swapType:e.swapType,outputReferences:e.outputReferences}}static mapJoinPoolRequest(e){return{actionType:Vt.Join,poolId:e.poolId,encodedUserData:e.joinPoolRequest.userData,outputReference:e.outputReference}}static mapExitPoolRequest(e){return{actionType:Vt.Exit,poolId:e.poolId,encodedUserData:e.exitPoolRequest.userData,outputReferences:e.outputReferences}}static mapUnwrapRequest(e,n,a){return{actionType:Vt.Unwrap,poolId:a,amount:e,outputReference:n}}}const Nh=Ji.createInterface();function fn(t){Le.getInstance()}class Ct{constructor(e,n,a){this.poolGraph=e,this.simulationService=a,this.createCalls=async(s,r,l,p,u)=>{const{multiRequests:d,encodedCalls:c,outputIndexes:m,deltas:f}=this.createActionCalls(s,r,l,p);return u&&c.unshift(this.createSetRelayerApproval(u)),{multiRequests:d,encodedCall:Nh.encodeFunctionData("multicall",[c]),outputIndexes:u?m.map(I=>I+1):m,deltas:f}},this.amountsOutByJoinPath=async(s,r,l,p,u,d,c,m)=>{const f=await this.simulationService.simulateGeneralisedJoin(this.relayer,r,l,u,s,p,d,c,m),I=f.reduce((v,x)=>v.add(S.from(x)),ae).toString();return{amountsOut:f,totalAmountOut:I}},this.minAmountsOutByJoinPath=(s,r,l)=>({minAmountsOut:r.map(p=>st(S.from(p),S.from(s)).toString()),totalMinAmountOut:st(S.from(l),S.from(s)).toString()}),this.createActionCalls=(s,r,l,p)=>{const u=[],d=[],c=[],m=!p,f={};return s.forEach((I,v)=>{const x=I[0].isLeaf,C=[];if(I.forEach((j,U)=>{var z,$;if(j.children.length>0&&j.children.filter(O=>this.shouldBeConsidered(O)).length===0)return void(j.index="0");const b=j.children.filter(O=>this.shouldBeConsidered(O)).some(O=>O.joinAction==="input")?r:this.relayer,T=U===I.length-1,w=($=x&&((z=j.parent)===null||z===void 0?void 0:z.children.filter(O=>this.shouldBeConsidered(O)).some(O=>O.joinAction==="input")))!==null&&$!==void 0&&$,B=T||w?r:this.relayer,A=T&&p?p[v]:"0";switch(j.joinAction){case"batchSwap":{const{modelRequest:O,encodedCall:N,assets:k,amounts:L}=this.createSwap(j,v,A,b,B,l,m);C.push(O),d.push(N),this.updateDeltas(f,k,L)}break;case"joinPool":{const{modelRequest:O,encodedCall:N,assets:k,amounts:L,minBptOut:y}=this.createJoinPool(j,v,A,b,B,l,m);C.push(O),d.push(N),this.updateDeltas(f,[j.address,...k],[y,...L])}break;default:return}}),m){const j=100*v,U=ie.encodePeekChainedReferenceValue(ie.toChainedReference(j,!1));d.push(U),c.push(d.indexOf(U))}u.push(C)}),{multiRequests:u,encodedCalls:d,outputIndexes:c,deltas:f}},this.createSetRelayerApproval=s=>ie.encodeSetRelayerApproval(this.relayer,!0,s),this.createSwap=(s,r,l,p,u,d,c)=>{var m;if(s.children.length!==1)throw new Error("Unsupported swap");const f=s.children[0].address,I=this.getOutputRefValue(r,s.children[0]),v=l,x=d&&!c?this.replaceWrappedNativeAsset([f])[0]:f,C={poolId:s.id,kind:Ce.SwapExactIn,assetIn:x,assetOut:s.address,amount:I.value,userData:"0x"},j={sender:p,recipient:u,fromInternalBalance:this.allImmediateChildrenSendToInternal(s),toInternalBalance:this.allSiblingsSendToInternal(s)},U=S.from(this.getOutputRefValue(r,s).value),z=d&&!c?Ui([x],[I.value]):ae,$={request:C,funds:j,limit:v,deadline:S.from(Math.ceil(Date.now()/1e3)+3600),value:z,outputReference:U},b=ie.encodeSwap($);fn(),fn(JSON.stringify($)),fn(JSON.stringify((m=$.value)===null||m===void 0?void 0:m.toString()));const T=gn.mapSwapRequest($),w=s.children.some(A=>A.joinAction==="input")?I.value:"0",B=s.parent!=null?"0":S.from(l).mul(-1).toString();return{modelRequest:T,encodedCall:b,assets:[s.address,f],amounts:[B,w]}},this.createJoinPool=(s,r,l,p,u,d,c)=>{var m;const f=[],I=[];s.children.forEach(k=>{f.push(k.address),this.shouldBeConsidered(k)?I.push(this.getOutputRefValue(r,k).value):I.push("0")}),s.type===te.ComposableStable&&(f.push(s.address),I.push("0"));const v=new Je(this.wrappedNativeAsset),[x,C]=v.sortTokens(f,I);let j=[];const U=x.map(k=>k.toLowerCase()).indexOf(s.address.toLowerCase());let z;j=U===-1?C:[...C.slice(0,U),...C.slice(U+1)],z=s.type===te.Weighted?at.joinExactTokensInForBPTOut(j,l):Ke.joinExactTokensInForBPTOut(j,l);const $=d&&!c?Ui(this.replaceWrappedNativeAsset(x),C):ae,b=this.allImmediateChildrenSendToInternal(s),T=ie.formatJoinPoolInput({poolId:s.id,kind:0,sender:p,recipient:u,value:$,outputReference:this.getOutputRefValue(r,s).value,joinPoolRequest:{},assets:d&&!c?this.replaceWrappedNativeAsset(x):x,maxAmountsIn:C,userData:z,fromInternalBalance:b}),w=ie.encodeJoinPool(T);fn(),fn(JSON.stringify(T)),fn(JSON.stringify((m=T.value)===null||m===void 0?void 0:m.toString()));const B=gn.mapJoinPoolRequest(T),A=C.map(k=>ie.isChainedReference(k)?"0":k),O=ie.isChainedReference(l)?"0":l,N=s.children.filter(k=>this.shouldBeConsidered(k)).some(k=>k.joinAction==="input");return{modelRequest:B,encodedCall:w,assets:N?x:[],amounts:N?A:[],minBptOut:s.parent!=null?ae.toString():ae.sub(O).toString()}},this.getOutputRefValue=(s,r)=>r.joinAction==="input"?{value:r.index,isRef:!1}:r.index==="0"&&r.parent?{value:"0",isRef:!0}:{value:ie.toChainedReference(S.from(r.index).add(100*s)).toString(),isRef:!0},this.shouldBeConsidered=s=>s.index!=="0",this.sendsToInternalBalance=s=>s.joinAction!=="input"&&s.joinAction!=="joinPool",this.allImmediateChildrenSendToInternal=s=>{const r=s.children.filter(l=>this.shouldBeConsidered(l));return r.length!==0&&r.filter(l=>this.sendsToInternalBalance(l)).length===r.length},this.allSiblingsSendToInternal=s=>{if(!s.parent)return!1;const r=s.parent.children.filter(l=>this.shouldBeConsidered(l));return r.filter(l=>this.sendsToInternalBalance(l)).length===r.length},this.replaceWrappedNativeAsset=s=>{const r=s.findIndex(l=>l.toLowerCase()===this.wrappedNativeAsset.toLowerCase());return Pu(s,r,he)};const{tokens:i,contracts:o}=gi(n.chainId);this.relayer=o.balancerRelayer,this.wrappedNativeAsset=i.wrappedNativeAsset}checkInputs(e,n){if(e.length===0)throw new Z(X.MISSING_TOKENS);if(n.every(a=>a==="0"))throw new Z(X.JOIN_WITH_ZERO_AMOUNT);if(e.length!=n.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(e.some(a=>a===he)&&e.some(a=>a.toLowerCase()===this.wrappedNativeAsset.toLowerCase()))throw new Z(X.INPUT_TOKEN_INVALID)}async joinPool(e,n,a,i,o,s,r,l){this.checkInputs(n,a);const p=await this.poolGraph.getGraphNodes(!0,e,[]),u=n.findIndex(B=>B===he),d=u!==-1,c=Pu(n,u,this.wrappedNativeAsset.toLowerCase()),m=Ct.getJoinPaths(p,c,a),f=Ct.totalBptZeroPriceImpact(m);fn();const{multiRequests:I,encodedCall:v,outputIndexes:x}=await this.createCalls(m,i,d,void 0,l),{amountsOut:C,totalAmountOut:j}=await this.amountsOutByJoinPath(i,I,v,c,x,s,r,"0"),{minAmountsOut:U,totalMinAmountOut:z}=this.minAmountsOutByJoinPath(o,C,j),$=os(BigInt(j),f.toBigInt(),!0).toString();fn();const{encodedCall:b,deltas:T}=await this.createCalls(m,i,d,U,l),w=d?T[this.wrappedNativeAsset.toLowerCase()]:ae;return fn(w.toString()),this.assertDeltas(e,T,c,a,z),{to:this.relayer,encodedCall:b,expectedOut:j,minOut:z,priceImpact:$,value:w}}assertDeltas(e,n,a,i,o){var s;const r=ns(e);if(n[r.toLowerCase()].add(o).abs().gt(3))throw console.error("join assertDeltas, bptOut: ",r,o,(s=n[r.toLowerCase()])===null||s===void 0?void 0:s.toString()),new Z(X.JOIN_DELTA_AMOUNTS);delete n[r.toLowerCase()],a.forEach((l,p)=>{var u,d;if(!S.from(i[p]).eq(0)&&((u=n[l.toLowerCase()])===null||u===void 0?void 0:u.toString())!==i[p])throw console.error("join assertDeltas, tokenIn: ",l,i[p],(d=n[l.toLowerCase()])===null||d===void 0?void 0:d.toString()),new Z(X.JOIN_DELTA_AMOUNTS);delete n[l.toLowerCase()]});for(const l in n)if(n[l].toString()!=="0")throw console.error("join assertDeltas, non-input token should be 0: ",l,n[l].toString()),new Z(X.JOIN_DELTA_AMOUNTS)}updateDeltas(e,n,a){return n.forEach((i,o)=>{const s=i.toLowerCase();e[s]||(e[s]=ae),e[s]=e[s].add(a[o])}),e}}ai=Ct,Ct.getJoinPaths=(t,e,n)=>{const a=[],i=t.filter(s=>e.filter((r,l)=>S.from(n[l]).gt(0)).map(r=>r.toLowerCase()).includes(s.address.toLowerCase()));i.some(s=>s.isLeaf)&&a.push(t);const o=i.filter(s=>!s.isLeaf);return o.forEach(s=>{const r=n.find((f,I)=>it(e[I],s.address)),l=o.filter(f=>it(f.address,s.address)).reduce((f,I)=>f.add(I.proportionOfParent),S.from(0)),p=S.from(r).mul(s.proportionOfParent).div(l).toString(),[u]=In.createInputTokenNode(0,s.address,s.decimals,s.parent,R,s.balance);u.index=p,u.isLeaf=!1;const d=[u];let c=u.parent,m=u;for(;c;){const f=Qe.cloneDeep(c);f.children=f.children.map(I=>I.address===m.address?m:{...I,index:"0"}),d.push(f),m=f,c=f.parent}a.push(d)}),ai.updateInputAmounts(a,e,n),a},Ct.updateInputAmounts=(t,e,n)=>{const a=(s,r)=>{if(s.length>1){const l=s.reduce((u,d)=>u.add(d.index),S.from(0)),p=S.from(r).sub(l);s[0].index=p.add(s[0].index).toString()}},i=t.find(s=>s[0].isLeaf);if(i){const s=ai.updateTotalProportions(i);i.forEach(r=>{r.joinAction==="input"&&(r=ai.updateNodeAmount(r,e,n,s))}),e.forEach((r,l)=>{const p=i.filter(u=>u.isLeaf&&it(u.address,r));a(p,n[l])})}const o=t.filter(s=>!s[0].isLeaf);o.length>1&&e.forEach((s,r)=>{const l=o.map(p=>p[0]).filter(p=>it(p.address,s));a(l,n[r])})},Ct.totalBptZeroPriceImpact=t=>{let e=S.from("0");return t.forEach(n=>{if(n[0].isLeaf)n.filter(a=>a.isLeaf).forEach(a=>{const i=ai.bptOutZeroPiForInputNode(a);e=e.add(i)});else{const a=ai.bptOutZeroPiForInputNode(n[0]);e=e.add(a)}}),e},Ct.bptOutZeroPiForInputNode=t=>{if(t.index==="0"||t.joinAction!=="input")return BigInt(0);let e=1,n=t.parent,a=t.address;for(;n!==void 0;){if(n.joinAction==="batchSwap"||n.joinAction==="joinPool"){const r=n.spotPrices[a.toLowerCase()];e*=parseFloat(r),a=n.address}n=n.parent}const i=H(e.toFixed(18),18),o=sy(BigInt(t.decimals)),s=jl(BigInt(t.index),o);return ge.divDownFixed(s,i.toBigInt())},Ct.updateTotalProportions=t=>{const e={};return t.forEach(n=>{e[n.address]?e[n.address]=e[n.address].add(n.proportionOfParent):e[n.address]=n.proportionOfParent}),e},Ct.updateNodeAmount=(t,e,n,a)=>{const i=e.map(r=>r.toLowerCase()).indexOf(t.address.toLowerCase());if(i===-1)return t.index="0",t;const o=a[t.address],s=t.proportionOfParent.mul(1e18 .toString()).div(o).mul(n[i]).div(1e18 .toString());return t.index=s.toString(),t};class Lh{constructor(e,n){this.chainId=e,this.simulateMulticall=async(i,o,s,r,l="0")=>{const p={...await this.encodeBalanceAndAllowanceOverrides(s,r),...await this.encodeRelayerApprovalOverride(s,i)};return this.simulateTransaction(i,o,s,p,l)},this.simulateTransaction=async(i,o,s,r,l)=>{const p={...Object.fromEntries(Object.keys(r).map(c=>[c,{storage:r[c].value}])),[s]:{balance:H("100",18).toHexString()}},u={network_id:this.chainId.toString(),block_number:this.blockNumber,from:s,to:i,input:o,value:l,save_if_fails:!0,simulation_type:"quick",state_objects:p},d=this.tenderlyUrl+"simulate";return(await sn.post(d,u,this.opts)).data.transaction.transaction_info.call_trace.output},this.encodeRelayerApprovalOverride=async(i,o)=>{const s={[`${this.vaultAddress}`]:{value:{[`_approvedRelayers[${i}][${o}]`]:(!0).toString()}}};return await this.requestStateOverrides(s)},this.encodeBalanceAndAllowanceOverrides=async(i,o)=>{const s=o.filter(p=>p!==he);if(s.length===0)return{};let r={};s.forEach(p=>r={...r,[`${p}`]:{value:{[`_balances[${i}]`]:Tn.toString(),[`_allowances[${i}][${this.vaultAddress}]`]:Tn.toString(),[`balanceOf[${i}]`]:Tn.toString(),[`allowance[${i}][${this.vaultAddress}]`]:Tn.toString(),[`balances[${i}]`]:Tn.toString(),[`allowed[${i}][${this.vaultAddress}]`]:Tn.toString()}}});const l=await this.requestStateOverrides(r);if(Object.keys(l).some(p=>Object.keys(l[p].value).length!==2))throw new Error("Couldn't encode state overrides - states should match the ones in the contracts");return l},this.requestStateOverrides=async i=>{const o=this.tenderlyUrl+"contracts/encode-states",s={networkID:this.chainId.toString(),stateOverrides:i},r=(await sn.post(o,s,this.opts)).data.stateOverrides;if(!r||Object.keys(r).length!==Object.keys(i).length)throw new Error("Couldn't encode state overrides - contracts should be verified and whitelisted on Tenderly");return r};const{contracts:a}=gi(this.chainId);this.vaultAddress=a.vault,this.tenderlyUrl=`https://api.tenderly.co/api/v1/account/${n.user}/project/${n.project}/`,this.opts={headers:{"X-Access-Key":n.accessKey}},this.blockNumber=n.blockNumber}}var hn;(function(t){t[t.Tenderly=0]="Tenderly",t[t.VaultModel=1]="VaultModel",t[t.Static=2]="Static"})(hn||(hn={}));class Dh{constructor(e,n){this.simulateGeneralisedJoin=async(a,i,o,s,r,l,p,u,d)=>{const c=[];switch(u){case hn.Tenderly:{if(!this.tenderlyHelper)throw new Error("Missing Tenderly config");const m=await this.tenderlyHelper.simulateMulticall(a,o,r,l,d);c.push(...this.decodeResult(m,s));break}case hn.VaultModel:{const m=await this.simulateRequests(i);c.push(...m);break}case hn.Static:{const m=await p.call({to:a,data:o,value:d});try{c.push(...this.decodeResult(m,s))}catch{const I=Ep.from(m.split("x")[1],"hex").toString("utf8");throw new Error(`Transaction reverted with error: ${I}`)}break}default:throw new Error("Simulation type not supported")}return c},this.simulateGeneralisedExit=async(a,i,o,s,r,l,p,u)=>{const d=[];switch(u){case hn.Tenderly:{if(!this.tenderlyHelper)throw new Error("Missing Tenderly config");const c=await this.tenderlyHelper.simulateMulticall(a,o,r,[l]);d.push(...this.decodeResult(c,s));break}case hn.VaultModel:{const c=await this.simulateRequests(i);d.push(...c);break}case hn.Static:{const c=await p.call({to:a,data:o});try{d.push(...this.decodeResult(c,s))}catch{const f=Ep.from(c.split("x")[1],"hex").toString("utf8");throw new Error(`Transaction reverted with error: ${f}`)}break}default:throw new Error("Simulation type not supported")}return d},this.decodeResult=(a,i)=>{const o=Pe.decode(["bytes[]"],a)[0];return i.map(s=>Pe.decode(["uint256"],o[s]).toString())},this.simulateRequests=async a=>{if(this.vaultModel===void 0)throw new Error("Missing Vault Model Config.");const i=[];for(const[o,s]of a.entries()){const r=await this.vaultModel.multicall(s,o===0),l=Object.values(r).filter(p=>p.lt(0));if(l.length===0)throw new Error("No delta found for token out.");i.push(...l.map(p=>p.mul(-1).toString()))}return i},e.tenderly&&(this.tenderlyHelper=new Lh(e.chainId,e.tenderly)),this.vaultModel=n?new gn(n,e.addresses.tokens.wrappedNativeAsset):void 0}}const Uh=Ji.createInterface();function ut(t){Le.getInstance()}class qh{constructor(e,n,a){this.poolGraph=e,this.simulationService=a,this.amountsOutByExitPath=async(s,r,l,p,u,d,c)=>await this.simulationService.simulateGeneralisedExit(this.relayer,r,l,u,s,p,d,c),this.amountsOutByTokenOut=(s,r,l)=>{const p={};return r.forEach((u,d)=>{var c;return p[u]=((c=p[u])!==null&&c!==void 0?c:ae).add(l[d])}),s.map(u=>p[u].toString())},this.minAmountsOut=(s,r,l)=>({minAmountsOutByExitPath:s.map(p=>st(S.from(p),S.from(l)).toString()),minAmountsOutByTokenOut:r.map(p=>st(S.from(p),S.from(l)).toString())}),this.getExitPaths=(s,r)=>{const l=s.map(d=>{const c=[d];for(;c[0].parent;)c.unshift(Qe.cloneDeep(c[0].parent));return c[0].index=c[c.length-1].proportionOfParent.mul(r).div(R).toString(),c}),p=l.reduce((d,c)=>{const m=c[0].index;return S.from(m).add(d)},ae),u=S.from(r).sub(p);return l[l.length-1][0].index=u.add(l[l.length-1][0].index).toString(),l},this.createUnwrap=(s,r,l,p,u,d)=>{var c,m;const f=ie.toChainedReference(this.getOutputRef(l,s.index)).toString(),I=ie.toChainedReference(this.getOutputRef(l,r.index)),v=(c=s.parent)===null||c===void 0?void 0:c.type,x={wrappedToken:s.address,sender:u,recipient:d,amount:f,outputReference:I},C=ie.encodeUnwrap(x,v);return ut(),ut(),ut(JSON.stringify(x)),{modelRequest:gn.mapUnwrapRequest(f,I,(m=s.parent)===null||m===void 0?void 0:m.id),encodedCall:C,assets:[r.address],amounts:[ae.sub(p).toString()]}},this.getOutputRef=(s,r)=>100*s+parseInt(r),this.receivesFromInternal=s=>!!s.parent&&s.exitAction!=="output"&&s.exitAction!=="unwrap"&&s.exitAction!=="exitPool";const{tokens:i,contracts:o}=gi(n.chainId);this.wrappedNativeAsset=i.wrappedNativeAsset,this.relayer=o.balancerRelayer}async getExitInfo(e,n,a,i){ut();const o=await this.getExit(e,n,a,i,[],hn.VaultModel);return{tokensOut:o.tokensOut,estimatedAmountsOut:o.expectedAmountsOut,priceImpact:o.priceImpact,tokensToUnwrap:o.tokensToUnwrap}}async buildExitCall(e,n,a,i,o,s,r,l){ut();const p=await this.getExit(e,n,a,o,l??[],s,r),{minAmountsOutByExitPath:u,minAmountsOutByTokenOut:d}=this.minAmountsOut(p.expectedAmountsOutByExitPath,p.expectedAmountsOut,i);ut();const{encodedCall:c,deltas:m}=await this.createCalls(p.exitPaths,a,p.isProportional,u,r);return this.assertDeltas(e,m,n,p.tokensOut,d),{to:this.relayer,encodedCall:c,tokensOut:p.tokensOut,expectedAmountsOut:p.expectedAmountsOut,minAmountsOut:d,priceImpact:p.priceImpact}}async getExit(e,n,a,i,o,s,r){const l=await this.poolGraph.getGraphNodes(!1,e,o),p=In.isProportionalPools(l);ut();let u=[],d=[],c=[];const m=l.filter(j=>j.exitAction==="output");if(d=m.map(j=>j.address.toLowerCase()),c=[...new Set(d)].sort(),p){const j=l.map((U,z)=>(z===0&&(U.index=n),U));u[0]=j}else u=this.getExitPaths(m,n);const{multiRequests:f,encodedCall:I,outputIndexes:v}=await this.createCalls(u,a,p,void 0,r),x=await this.amountsOutByExitPath(a,f,I,l[0].address,v,i,s),C=m.filter((j,U)=>S.from(x[U]).gt(j.balance)).map(j=>j.address.toLowerCase());if(o.some(j=>C.includes(j.toLowerCase())))throw new Error("Insufficient pool balance to perform generalised exit - try exitting with smaller amounts");if(C.length>0)return await this.getExit(e,n,a,i,[...new Set(C)].sort(),s,r);{const j=this.amountsOutByTokenOut(c,d,x),U=await this.calculatePriceImpact(e,this.poolGraph,c,j,n);return{tokensToUnwrap:o,tokensOut:c,exitPaths:u,isProportional:p,expectedAmountsOut:j,expectedAmountsOutByExitPath:x,priceImpact:U}}}async calculatePriceImpact(e,n,a,i,o){const s=await n.getGraphNodes(!0,e,[]),r=Ct.getJoinPaths(s,a,i),l=Ct.totalBptZeroPriceImpact(r);return os(BigInt(o),l.toBigInt(),!1).toString()}assertDeltas(e,n,a,i,o){var s;const r=ns(e);if(n[r.toLowerCase()].sub(a).abs().gt(3))throw console.error("exit assertDeltas, bptIn: ",r,a,(s=n[r.toLowerCase()])===null||s===void 0?void 0:s.toString()),new Z(X.EXIT_DELTA_AMOUNTS);delete n[r.toLowerCase()],i.forEach((l,p)=>{var u;if(n[l.toLowerCase()].add(o[p]).abs().gt(1))throw console.error("exit assertDeltas, tokenOut: ",l,o[p],(u=n[l.toLowerCase()])===null||u===void 0?void 0:u.toString()),new Z(X.EXIT_DELTA_AMOUNTS);delete n[l.toLowerCase()]});for(const l in n)if(n[l].toString()!=="0")throw console.error("exit assertDeltas, non-input token should be 0: ",l,n[l].toString()),new Z(X.EXIT_DELTA_AMOUNTS)}async createCalls(e,n,a,i,o){const{multiRequests:s,calls:r,outputIndexes:l,deltas:p}=this.createActionCalls(Qe.cloneDeep(e),n,a,i);return o&&r.unshift(ie.encodeSetRelayerApproval(this.relayer,!0,o)),{multiRequests:s,encodedCall:Uh.encodeFunctionData("multicall",[r]),outputIndexes:o?l.map(u=>u+1):l,deltas:p}}updateDeltas(e,n,a){return n.forEach((i,o)=>{const s=i.toLowerCase();e[s]||(e[s]=ae),e[s]=e[s].add(a[o])}),e}createActionCalls(e,n,a,i){const o=[],s=[],r=[],l=!i,p={},u=(d,c)=>c.children.filter(m=>d.map(f=>f.index).includes(m.index)).some(m=>m.exitAction==="output")?n:this.relayer;return e.forEach((d,c)=>{const m=[],f=d.filter(I=>I.exitAction==="output");d.forEach(I=>{const v=I.children.find($=>d.map(b=>b.index).includes($.index)),x=(($,b)=>b.parent?u($,b.parent):n)(d,I),C=u(d,I),j=I.children.filter($=>d.map(b=>b.index).includes($.index)).some($=>$.exitAction==="output"||$.exitAction==="unwrap");let U="0";const z=Array(I.children.length).fill("0");switch(i&&j&&(a?I.children.forEach(($,b)=>{let T;$.exitAction==="unwrap"?(T=f.indexOf($.children[0]),U=R.mul(i[T]).div($.priceRate).toString()):$.exitAction==="output"?(T=f.indexOf($),U=i[T]):U="0",z[b]=U}):U=(v==null?void 0:v.exitAction)==="unwrap"?R.mul(i[c]).div(v.priceRate).toString():i[c]),I.exitAction){case"unwrap":{const{modelRequest:$,encodedCall:b,assets:T,amounts:w}=this.createUnwrap(I,v,c,U,x,C);m.push($),s.push(b),this.updateDeltas(p,T,w);break}case"batchSwap":{const{modelRequest:$,encodedCall:b,assets:T,amounts:w}=this.createSwap(I,v,c,U,x,C);m.push($),s.push(b),this.updateDeltas(p,T,w);break}case"exitPool":{let $;$=a?this.createExitPoolProportional(I,z,x,C):this.createExitPool(I,v,c,U,x,C);const{modelRequest:b,encodedCall:T,bptIn:w,tokensOut:B,amountsOut:A}=$;m.push(b),s.push(T),this.updateDeltas(p,[I.address,...B],[w,...A]);break}case"output":l&&(s.push(ie.encodePeekChainedReferenceValue(ie.toChainedReference(this.getOutputRef(c,I.index),!1))),r.push(s.length-1));break;default:return}}),o.push(m)}),{multiRequests:o,calls:s,outputIndexes:r,deltas:p}}createSwap(e,n,a,i,o,s){const r=!e.parent,l=r?e.index:ie.toChainedReference(this.getOutputRef(a,e.index)).toString(),p=n.address,u=[p,e.address],d=i,c={poolId:e.id,kind:Ce.SwapExactIn,assetIn:e.address,assetOut:p,amount:l,userData:"0x"},m={sender:o,recipient:s,fromInternalBalance:this.receivesFromInternal(e),toInternalBalance:this.receivesFromInternal(n)},f=ie.toChainedReference(this.getOutputRef(a,n.index)),I={request:c,funds:m,limit:d,deadline:S.from(Math.ceil(Date.now()/1e3)+3600),value:"0",outputReference:f};ut(),ut(JSON.stringify(I));const v=ie.encodeSwap(I),x=r?l:"0";return{modelRequest:gn.mapSwapRequest(I),encodedCall:v,assets:u,amounts:[n.exitAction!=="output"?"0":S.from(i).mul(-1).toString(),x]}}createBatchSwap(e,n,a,i,o,s){const r=!e.parent,l=r?e.index:ie.toChainedReference(this.getOutputRef(a,e.index)).toString(),p=[...n.map(z=>z.address),e.address],u=[...i];u.push(l);const d=[],c=[];n.forEach((z,$)=>{const b=z.proportionOfParent.mul(l).div(R).toString(),T={poolId:e.id,assetInIndex:p.length-1,assetOutIndex:$,amount:b,userData:"0x"};d.push(T),c.push({index:$,key:ie.toChainedReference(this.getOutputRef(0,z.index))})});const m=d.reduce((z,$)=>z.add($.amount),S.from(0)),f=S.from(l).sub(m);d[0].amount=f.add(d[0].amount).toString();const I={sender:o,recipient:s,fromInternalBalance:this.receivesFromInternal(e),toInternalBalance:this.receivesFromInternal(n[0])},v={swapType:Ce.SwapExactIn,swaps:d,assets:p,funds:I,limits:u,deadline:S.from(Math.ceil(Date.now()/1e3)+3600),value:"0",outputReferences:c};ut(),ut(JSON.stringify(v));const x=ie.encodeBatchSwap(v),C=gn.mapBatchSwapRequest(v),j=r?l:"0",U=[...n.map((z,$)=>z.exitAction!=="output"?"0":S.from(i[$]).mul(-1).toString()),j];return{modelRequest:C,encodedCall:x,assets:p,amounts:U}}createExitPool(e,n,a,i,o,s){const r=n.address,l=!e.parent,p=l?e.index:ie.toChainedReference(this.getOutputRef(a,e.index)).toString(),u=[],d=[];e.children.forEach(w=>{u.push(w.address),d.push(w.address===r?i:"0")}),e.type===te.ComposableStable&&(u.push(e.address),d.push("0"));const c=new Je(this.wrappedNativeAsset),[m,f]=c.sortTokens(u,d);let I=[];const v=m.map(w=>w.toLowerCase()).indexOf(e.address.toLowerCase());let x;I=v===-1?m:[...m.slice(0,v),...m.slice(v+1)],x=e.type===te.Weighted?at.exitExactBPTInForOneTokenOut(p,I.indexOf(r)):Ke.exitExactBPTInForOneTokenOut(p,I.indexOf(r));const C=[{index:m.map(w=>w.toLowerCase()).indexOf(r.toLowerCase()),key:ie.toChainedReference(this.getOutputRef(a,n.index))}],j=this.receivesFromInternal(n),U=ie.formatExitPoolInput({poolId:e.id,poolKind:0,sender:o,recipient:s,outputReferences:C,exitPoolRequest:{},assets:m,minAmountsOut:f,userData:x,toInternalBalance:j});ut(),ut(JSON.stringify(U));const z=ie.encodeExitPool(U),$=gn.mapExitPoolRequest(U),b=f.map(w=>ie.isChainedReference(w)?"0":ae.sub(w).toString()),T=ie.isChainedReference(p)?"0":p;return{modelRequest:$,encodedCall:z,bptIn:l?T:ae.toString(),tokensOut:n.exitAction!=="output"?[]:m,amountsOut:n.exitAction!=="output"?[]:b}}createExitPoolProportional(e,n,a,i){const o=!e.parent,s=o?e.index:ie.toChainedReference(this.getOutputRef(0,e.index)).toString(),r=e.children.map(T=>T.address),l=[...n];e.type===te.ComposableStable&&(r.push(e.address),l.push("0"));const p=new Je(this.wrappedNativeAsset),[u,d]=p.sortTokens(r,l);let c;c=e.type===te.Weighted?at.exitExactBPTInForTokensOut(s):e.type===te.ComposableStable?bt.exitExactBPTInForAllTokensOut(s):Ke.exitExactBPTInForTokensOut(s);const m=e.children.map(T=>({index:u.map(w=>w.toLowerCase()).indexOf(T.address.toLowerCase()),key:ie.toChainedReference(this.getOutputRef(0,T.index))}));let f=0;e.type===te.ComposableStable&&(f=3);const I=e.children.every(T=>this.receivesFromInternal(T)),v=ie.formatExitPoolInput({poolId:e.id,poolKind:f,sender:a,recipient:i,outputReferences:m,exitPoolRequest:{},assets:u,minAmountsOut:d,userData:c,toInternalBalance:I});ut(),ut(JSON.stringify(v));const x=ie.encodeExitPool(v),C=gn.mapExitPoolRequest(v),j=d.map(T=>ie.isChainedReference(T)?"0":ae.sub(T).toString()),U=ie.isChainedReference(s)?"0":s,z=o?U:ae.toString(),$=u.filter(T=>e.children.filter(w=>w.exitAction==="output").map(w=>w.address).includes(T)),b=j.filter((T,w)=>$.includes(u[w]));return{modelRequest:C,encodedCall:x,bptIn:z,tokensOut:$,amountsOut:b}}}class Vh{constructor(e){this.yesterdaysPools=e}async last24h(e){let n;return this.yesterdaysPools&&(n=await this.yesterdaysPools.find(e.id)),e.totalSwapVolume?n!=null&&n.totalSwapVolume?parseFloat(e.totalSwapVolume)-parseFloat(n.totalSwapVolume):e.createTime&&Jy(e.createTime)?parseFloat(e.totalSwapVolume):0:0}}class Wh{constructor(e,n){this.checkCreateInputs=({tokenAddresses:i,tokenRateCacheDurations:o,exemptFromYieldProtocolFeeFlags:s,rateProviders:r,swapFeeEvm:l})=>{if(i.length!==o.length||o.length!==s.length||s.length!==r.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(BigInt(l)<=BigInt(0)||BigInt(l)>BigInt(1e17))throw new Z(X.INVALID_SWAP_FEE_PERCENTAGE)},this.parseCreateParamsForEncoding=({name:i,symbol:o,tokenAddresses:s,amplificationParameter:r,rateProviders:l,tokenRateCacheDurations:p,exemptFromYieldProtocolFeeFlags:u,swapFeeEvm:d,owner:c,salt:m})=>{const f=new Je(this.wrappedNativeAsset),[I,v,x,C]=f.sortTokens(s,l,p,u);return[i,o,I,r,v,x,C,d.toString(),c,m||Yl()]},this.encodeCreateFunctionData=i=>So.createInterface().encodeFunctionData("create",i),this.checkInitJoinInputs=({poolId:i,poolAddress:o,tokensIn:s,amountsIn:r})=>{if(!i||!o)throw new Z(X.NO_POOL_DATA);if(s.length!==r.length)throw new Z(X.INPUT_LENGTH_MISMATCH)},this.parseParamsForInitJoin=({joiner:i,poolId:o,poolAddress:s,tokensIn:r,amountsIn:l})=>{const p=new Je(this.wrappedNativeAsset),u=[...r,s],d=[...l,"0"],c=[...l,BigInt.asUintN(256,BigInt(-1)).toString()],[m,f,I]=p.sortTokens(u,d,c),v={poolId:o,sender:i,recipient:i,joinPoolRequest:{assets:m,maxAmountsIn:I,userData:bt.joinInit(f),fromInternalBalance:!1}};return{attributes:v,params:[v.poolId,v.sender,v.recipient,v.joinPoolRequest]}},this.encodeInitJoinFunctionData=i=>{const o="joinPool";return{functionName:o,data:kt.createInterface().encodeFunctionData(o,i)}},this.getPoolAddressAndIdWithReceipt=async(i,o)=>{var s;const r=Jl({receipt:o,to:((s=this.contracts.composableStablePoolFactory)===null||s===void 0?void 0:s.address)||"",contractInterface:So.createInterface(),logName:"PoolCreated"}).args.pool,l=this.getPoolInterface(),p=new ce(r,l,i);return{poolAddress:r,poolId:await p.getPoolId()}};const{tokens:a}=gi(e.chainId);this.wrappedNativeAsset=a.wrappedNativeAsset,this.contracts=n}create({name:e,symbol:n,tokenAddresses:a,amplificationParameter:i,rateProviders:o,tokenRateCacheDurations:s,exemptFromYieldProtocolFeeFlags:r,swapFeeEvm:l,owner:p,salt:u}){var d;this.checkCreateInputs({rateProviders:o,tokenAddresses:a,tokenRateCacheDurations:s,exemptFromYieldProtocolFeeFlags:r,swapFeeEvm:l});const c=this.parseCreateParamsForEncoding({name:e,symbol:n,tokenAddresses:a,amplificationParameter:i,rateProviders:o,tokenRateCacheDurations:s,exemptFromYieldProtocolFeeFlags:r,swapFeeEvm:l,owner:p,salt:u}),m=this.encodeCreateFunctionData(c);return{to:(d=this.contracts.composableStablePoolFactory)===null||d===void 0?void 0:d.address,data:m}}buildInitJoin({joiner:e,poolId:n,poolAddress:a,tokensIn:i,amountsIn:o}){this.checkInitJoinInputs({tokensIn:i,amountsIn:o,poolId:n,poolAddress:a});const{attributes:s,params:r}=this.parseParamsForInitJoin({joiner:e,poolId:n,poolAddress:a,tokensIn:i,amountsIn:o}),{functionName:l,data:p}=this.encodeInitJoinFunctionData(r);return{to:un,functionName:l,data:p,attributes:s}}getPoolInterface(){return by.createInterface()}}class Gh{constructor(e,n){this.parseCreateParamsForEncoding=({name:i,symbol:o,tokenAddresses:s,normalizedWeights:r,rateProviders:l,swapFeeEvm:p,owner:u,salt:d})=>{const c=new Je(this.wrappedNativeAsset),[m,f,I]=c.sortTokens(s,r,l);return[i,o,m,f,I,p.toString(),u,d||Yl()]},this.encodeCreateFunctionData=i=>Ao.createInterface().encodeFunctionData("create",i),this.parseParamsForInitJoin=({joiner:i,poolId:o,tokensIn:s,amountsIn:r})=>{const l=new Je(this.wrappedNativeAsset),[p,u]=l.sortTokens(s,r),d={poolId:o,sender:i,recipient:i,joinPoolRequest:{assets:p,maxAmountsIn:u,userData:at.joinInit(u),fromInternalBalance:!1}};return{attributes:d,params:[d.poolId,d.sender,d.recipient,d.joinPoolRequest]}},this.encodeInitJoinFunctionData=i=>{const o="joinPool";return{functionName:o,data:kt.createInterface().encodeFunctionData(o,i)}},this.checkInitJoinInputs=({poolId:i,tokensIn:o,amountsIn:s})=>{if(!i)throw new Z(X.NO_POOL_DATA);if(o.length!==s.length)throw new Z(X.INPUT_LENGTH_MISMATCH)};const{tokens:a}=gi(e.chainId);this.wrappedNativeAsset=a.wrappedNativeAsset,this.contracts=n}create({name:e,symbol:n,tokenAddresses:a,normalizedWeights:i,rateProviders:o,swapFeeEvm:s,owner:r,salt:l}){var p;this.checkCreateInputs({tokenAddresses:a,normalizedWeights:i,swapFeeEvm:s,rateProviders:o});const u=this.parseCreateParamsForEncoding({name:e,symbol:n,tokenAddresses:a,normalizedWeights:i,rateProviders:o,swapFeeEvm:s,owner:r,salt:l}),d=this.encodeCreateFunctionData(u);return{to:(p=this.contracts.weightedPoolFactory)===null||p===void 0?void 0:p.address,data:d}}checkCreateInputs({tokenAddresses:e,normalizedWeights:n,swapFeeEvm:a,rateProviders:i}){if(e.length!==n.length||n.length!==i.length)throw new Z(X.INPUT_LENGTH_MISMATCH);if(e.length<2)throw new Z(X.BELOW_MIN_TOKENS);if(e.length>8)throw new Z(X.ABOVE_MAX_TOKENS);if(BigInt(a)<=BigInt(0)||BigInt(a)>BigInt(1e17))throw new Z(X.INVALID_SWAP_FEE_PERCENTAGE);if(n.reduce((o,s)=>ge.add(o,BigInt(s)),BigInt(0))!==BigInt(1e18))throw new Z(X.INVALID_WEIGHTS)}buildInitJoin({joiner:e,poolId:n,tokensIn:a,amountsIn:i}){this.checkInitJoinInputs({poolId:n,tokensIn:a,amountsIn:i});const{attributes:o,params:s}=this.parseParamsForInitJoin({joiner:e,poolId:n,tokensIn:a,amountsIn:i}),{functionName:r,data:l}=this.encodeInitJoinFunctionData(s);return{to:un,functionName:r,data:l,attributes:o}}async getPoolAddressAndIdWithReceipt(e,n){var a;const i=Jl({receipt:n,to:((a=this.contracts.weightedPoolFactory)===null||a===void 0?void 0:a.address)||"",contractInterface:Ao.createInterface(),logName:"PoolCreated"}).args.pool,o=this.getPoolInterface(),s=new ce(i,o,e);return{poolAddress:i,poolId:await s.getPoolId()}}getPoolInterface(){return Py.createInterface()}}var pl;(function(t){t[t.AAVE_V1=0]="AAVE_V1",t[t.AAVE_V2=1]="AAVE_V2",t[t.AAVE_V3=2]="AAVE_V3",t[t.AMPLEFORTH=3]="AMPLEFORTH",t[t.BEEFY=4]="BEEFY",t[t.EULER=5]="EULER",t[t.GEARBOX=6]="GEARBOX",t[t.IDLE=7]="IDLE",t[t.MORPHO=8]="MORPHO",t[t.RADIANT=9]="RADIANT",t[t.REAPER=10]="REAPER",t[t.SILO=11]="SILO",t[t.STARGATE=12]="STARGATE",t[t.STURDY=13]="STURDY",t[t.TESSERA=14]="TESSERA",t[t.TETU=15]="TETU",t[t.YEARN=16]="YEARN",t[t.MIDAS=17]="MIDAS",t[t.AGAVE=18]="AGAVE"})(pl||(pl={}));class Hh{constructor(e,n){this.getPoolFactoryInterface=()=>{switch(this.poolType){case te.AaveLinear:return Kl.createInterface();case te.Linear:case te.ERC4626Linear:return Ql.createInterface();case te.EulerLinear:return ep.createInterface();case te.GearboxLinear:return tp.createInterface();case te.YearnLinear:return np.createInterface();default:throw new Z(X.UNSUPPORTED_POOL_TYPE)}},this.getPoolInterface=()=>{switch(this.poolType){case te.AaveLinear:return yy.createInterface();case te.Linear:case te.ERC4626Linear:return Ty.createInterface();case te.EulerLinear:return hy.createInterface();case te.GearboxLinear:return gy.createInterface();case te.YearnLinear:return Ey.createInterface();default:throw new Z(X.UNSUPPORTED_POOL_TYPE)}},this.checkCreateInputs=({swapFeeEvm:a,protocolId:i})=>{if(!pl[i])throw new Z(X.INVALID_PROTOCOL_ID);if(BigInt(a)<=BigInt(0)||BigInt(a)>BigInt(1e17))throw new Z(X.INVALID_SWAP_FEE_PERCENTAGE);this.getFactoryAddress()},this.parseCreateParamsForEncoding=({name:a,symbol:i,mainToken:o,wrappedToken:s,upperTargetEvm:r,swapFeeEvm:l,owner:p,protocolId:u,salt:d})=>this.poolType===te.EulerLinear?[a,i,o,s,r,l,p,u.toString()]:[a,i,o,s,r,l,p,u.toString(),d||Yl()],this.encodeCreateFunctionData=a=>{const i=this.getPoolFactoryInterface();return this.poolType,te.EulerLinear,i.encodeFunctionData("create",a)},this.getFactoryAddress=()=>{switch(this.poolType){case te.AaveLinear:if(this.contracts.aaveLinearPoolFactory)return this.contracts.aaveLinearPoolFactory.address;throw new Z(X.UNSUPPORTED_POOL_TYPE);case te.Linear:case te.ERC4626Linear:if(this.contracts.erc4626LinearPoolFactory)return this.contracts.erc4626LinearPoolFactory.address;throw new Z(X.UNSUPPORTED_POOL_TYPE);case te.EulerLinear:if(this.contracts.eulerLinearPoolFactory)return this.contracts.eulerLinearPoolFactory.address;throw new Z(X.UNSUPPORTED_POOL_TYPE);case te.GearboxLinear:if(this.contracts.gearboxLinearPoolFactory)return this.contracts.gearboxLinearPoolFactory.address;throw new Z(X.UNSUPPORTED_POOL_TYPE);case te.YearnLinear:if(this.contracts.yearnLinearPoolFactory)return this.contracts.yearnLinearPoolFactory.address;throw new Z(X.UNSUPPORTED_POOL_TYPE);default:throw new Z(X.UNSUPPORTED_POOL_TYPE)}},this.getPoolAddressAndIdWithReceipt=async(a,i)=>{const o=Jl({receipt:i,to:this.getFactoryAddress()||"",contractInterface:this.getPoolFactoryInterface(),logName:"PoolCreated"}).args.pool,s=this.getPoolInterface(),r=new ce(o,s,a);return{poolAddress:o,poolId:await r.getPoolId()}},this.contracts=e,this.poolType=n}buildInitJoin(){throw new Z(X.UNSUPPORTED_POOL_TYPE)}create({name:e,symbol:n,mainToken:a,wrappedToken:i,upperTargetEvm:o,swapFeeEvm:s,owner:r,protocolId:l,salt:p}){this.checkCreateInputs({swapFeeEvm:s,protocolId:l});const u=this.parseCreateParamsForEncoding({name:e,symbol:n,mainToken:a,wrappedToken:i,upperTargetEvm:o,swapFeeEvm:s,owner:r,protocolId:l,salt:p}),d=this.encodeCreateFunctionData(u);return{to:this.getFactoryAddress(),data:d}}}class $h{constructor(e,n){this.networkConfig=e,this.contracts=n.contracts}of(e){switch(e){case"Weighted":return new Gh(this.networkConfig,this.contracts);case"Investment":case"LiquidityBootstrapping":case"Stable":case"MetaStable":case"StablePhantom":default:throw new Z(X.UNSUPPORTED_POOL_TYPE);case"ComposableStable":return new Wh(this.networkConfig,this.contracts);case"Linear":case"AaveLinear":case"ERC4626Linear":case"EulerLinear":case"GearboxLinear":case"YearnLinear":return new Hh(this.contracts,e)}}}class jh{constructor(e){this.pool=e;const n=(a=>{switch(a){case te.Weighted:return at;case te.Stable:case te.MetaStable:case te.StablePhantom:case te.Element:case te.Gyro2:case te.Gyro3:return Ke;case te.ComposableStable:return bt;default:if(cy(a))return Ke}})(e.poolType);if(!n)throw"Pool type not supported";this.encoder=n}buildQueryJoinExactIn({maxAmountsInByToken:e,minimumBPT:n=ae}){const a=this.pool.tokensList.findIndex(l=>this.pool.id.includes(l)),i=[...this.pool.tokensList],o=this.pool.tokensList.map(l=>{var p;return(p=e.get(l))!==null&&p!==void 0?p:S.from("0")});let s;s=a>-1?Ei(o,a):o;const r=this.encoder.joinExactTokensInForBPTOut(s,n);return[this.pool.id,he,he,{assets:i,maxAmountsIn:o,userData:r,fromInternalBalance:!1}]}buildQueryJoinExactOut({maxAmountIn:e,bptOut:n,tokenIn:a}){const i=this.pool.tokensList.findIndex(p=>this.pool.id.includes(p));let o=[...this.pool.tokensList];i>-1&&(o=Ei(this.pool.tokensList,i));const s=o.indexOf(a),r=this.encoder.joinTokenInForExactBPTOut(n,s),l=e?this.pool.tokensList.map(p=>p===a?e:"0"):[];return[this.pool.id,he,he,{assets:this.pool.tokensList,maxAmountsIn:l,userData:r,fromInternalBalance:!1}]}buildQueryExitToSingleToken({minAmountOut:e,bptIn:n,tokenOut:a}){const i=this.pool.tokensList.findIndex(p=>this.pool.id.includes(p));let o=[...this.pool.tokensList];i>-1&&(o=Ei(this.pool.tokensList,i));const s=o.indexOf(a),r=this.encoder.exitExactBPTInForOneTokenOut(n,s),l=e?this.pool.tokensList.map(p=>p===a?e:"0"):[];return[this.pool.id,he,he,{assets:this.pool.tokensList,minAmountsOut:l,userData:r,toInternalBalance:!1}]}buildQueryExitProportionally({minAmountsOut:e=[],bptIn:n}){if(!this.encoder.exitExactBPTInForTokensOut)throw"Proportional exit not implemented";const a=this.encoder.exitExactBPTInForTokensOut(n);return[this.pool.id,he,he,{assets:this.pool.tokensList,minAmountsOut:e,userData:a,toInternalBalance:!1}]}buildQueryExitExactOut({minAmountsOut:e,maxBptIn:n=Do}){const a=this.pool.tokensList.findIndex(s=>this.pool.id.includes(s));let i=[...e];a>-1&&(i=Ei(e,a));const o=this.encoder.exitBPTInForExactTokensOut(i,n);return[this.pool.id,he,he,{assets:this.pool.tokensList,minAmountsOut:e,userData:o,toInternalBalance:!1}]}}class zh{constructor(e){this.liquidityGaugesRepository=e}async relativeWeight(e){const n=await this.liquidityGaugesRepository.findBy("poolId",e);return n?n.relativeWeight:0}async weekly(e){return Yy()*await this.relativeWeight(e)}}const Od=(t,e,n)=>{const a=t.tokens.filter(l=>!t.id.toLowerCase().includes(l.address.toLowerCase())),i=a.findIndex(l=>l.address.toLowerCase()===e.toLowerCase());if(i==-1)throw new Error("Token not found in pool");const o=a.map(l=>py(l.balance,l.decimals)),s=S.from(n),r=o.map(l=>l.mul(s).div(o[i]));return{tokens:a.map(l=>l.address),amounts:r.map(l=>l.toString())}},jt=(t,e)=>()=>{throw`${e} for poolType ${t} not implemented`};class ri{constructor(e,n,a){this.networkConfig=e,this.repositories=n,this.balancerContracts=a,this.aprService=new kh(this.repositories.pools,this.repositories.tokenPrices,this.repositories.tokenMeta,this.repositories.tokenYields,this.repositories.feeCollector,this.repositories.yesterdaysPools,this.repositories.liquidityGauges,this.repositories.feeDistributor,this.repositories.gyroConfigRepository),this.liquidityService=new My(n.pools,n.tokenPrices),this.simulationService=new Dh(e,this.repositories.poolsForSimulations),this.graphService=new In(this.repositories.poolsOnChain),this.joinService=new Ct(this.graphService,e,this.simulationService),this.exitService=new qh(this.graphService,e,this.simulationService),this.feesService=new Ky(n.yesterdaysPools),this.volumeService=new Vh(n.yesterdaysPools),this.poolFactory=new $h(e,a),this.impermanentLossService=new _h(n.tokenPrices,n.tokenHistoricalPrices),n.liquidityGauges&&(this.emissionsService=new zh(n.liquidityGauges)),this.proportionalAmounts=Od}static wrap(e,n){let a,i,o;try{a=ba.from(e.poolType),o={buildJoin:(l,p,u,d)=>a.join.buildJoin({joiner:l,pool:e,tokensIn:p,amountsIn:u,slippage:d,wrappedNativeAsset:s}),calcPriceImpact:async(l,p,u)=>a.priceImpactCalculator.calcPriceImpact(e,l.map(BigInt),BigInt(p),u),buildExitExactBPTIn:(l,p,u,d=!1,c,m=!1)=>{if(a.exit.buildExitExactBPTIn)return a.exit.buildExitExactBPTIn({exiter:l,pool:e,bptIn:p,slippage:u,shouldUnwrapNativeAsset:d,wrappedNativeAsset:s,singleTokenOut:c,toInternalBalance:m});throw"ExitExactBPTIn not supported"},buildExitExactTokensOut:(l,p,u,d,c=!1)=>a.exit.buildExitExactTokensOut({exiter:l,pool:e,tokensOut:p,amountsOut:u,slippage:d,wrappedNativeAsset:s,toInternalBalance:c}),buildRecoveryExit:(l,p,u,d=!1)=>a.exit.buildRecoveryExit({exiter:l,pool:e,bptIn:p,slippage:u,toInternalBalance:d}),calcSpotPrice:(l,p)=>a.spotPriceCalculator.calcPoolSpotPrice(l,p,e),calcProportionalAmounts:(l,p)=>Od(e,l,p)}}catch(l){l.code!="UNSUPPORTED_POOL_TYPE"&&Le.getInstance().warn(l),o={buildJoin:jt(e.poolType,"buildJoin"),calcPriceImpact:jt(e.poolType,"calcPriceImpact"),buildExitExactBPTIn:jt(e.poolType,"buildExitExactBPTIn"),buildExitExactTokensOut:jt(e.poolType,"buildExitExactTokensOut"),calcSpotPrice:jt(e.poolType,"calcSpotPrice"),buildRecoveryExit:jt(e.poolType,"buildRecoveryExit")}}try{i=new jh(e),o={...o,buildQueryJoinExactIn:i.buildQueryJoinExactIn.bind(i),buildQueryJoinExactOut:i.buildQueryJoinExactOut.bind(i),buildQueryExitExactOut:i.buildQueryExitExactOut.bind(i),buildQueryExitToSingleToken:i.buildQueryExitToSingleToken.bind(i),buildQueryExitProportionally:i.buildQueryExitProportionally.bind(i)}}catch{o={...o,buildQueryJoinExactIn:jt(e.poolType,"buildQueryJoinExactIn"),buildQueryJoinExactOut:jt(e.poolType,"buildQueryJoinExactOut"),buildQueryExitExactOut:jt(e.poolType,"buildQueryExitExactOut"),buildQueryExitToSingleToken:jt(e.poolType,"buildQueryExitToSingleToken"),buildQueryExitProportionally:jt(e.poolType,"buildQueryExitProportionally")}}const s=n.addresses.tokens.wrappedNativeAsset.toLowerCase(),r=e.tokensList.indexOf(e.address);return{...e,...o,bptIndex:r}}dataSource(){return this.repositories.pools}async apr(e){return this.aprService.apr(e)}async impermanentLoss(e,n){return this.impermanentLossService.calcImpLoss(e,n)}async liquidity(e){return this.liquidityService.getLiquidity(e)}async bptPrice(e){return this.liquidityService.getBptPrice(e)}buildJoin({pool:e,tokensIn:n,amountsIn:a,userAddress:i,slippage:o}){const s=ba.from(e.poolType);if(!s)throw`buildJoin for poolType ${e.poolType} not implemented`;return s.join.buildJoin({joiner:i,pool:e,tokensIn:n,amountsIn:a,slippage:o,wrappedNativeAsset:this.networkConfig.addresses.tokens.wrappedNativeAsset.toLowerCase()})}buildExitExactBPTIn({pool:e,bptAmount:n,userAddress:a,slippage:i,shouldUnwrapNativeAsset:o,singleTokenOut:s}){const r=ba.from(e.poolType);if(!r||!r.exit.buildExitExactBPTIn)throw`buildExit for poolType ${e.poolType} not implemented`;return r.exit.buildExitExactBPTIn({pool:e,exiter:a,bptIn:n,slippage:i,wrappedNativeAsset:this.networkConfig.addresses.tokens.wrappedNativeAsset.toLowerCase(),shouldUnwrapNativeAsset:o!=null&&o,singleTokenOut:s??void 0,toInternalBalance:!1})}buildRecoveryExit({pool:e,bptAmount:n,userAddress:a,slippage:i,toInternalBalance:o}){const s=ba.from(e.poolType);if(!s||!s.exit.buildRecoveryExit)throw`buildRecoveryExit for poolType ${e.poolType} not implemented`;return s.exit.buildRecoveryExit({exiter:a,pool:e,bptIn:n,slippage:i,toInternalBalance:!!o})}async generalisedJoin(e,n,a,i,o,s,r,l){return this.joinService.joinPool(e,n,a,i,o,s,r,l)}async generalisedExit(e,n,a,i,o,s,r,l){return this.exitService.buildExitCall(e,n,a,i,o,s,r,l)}calcPriceImpact({pool:e,tokenAmounts:n,bptAmount:a,isJoin:i}){return ba.from(e.poolType).priceImpactCalculator.calcPriceImpact(e,n.map(BigInt),BigInt(a),i)}async getExitInfo(e,n,a,i){return this.exitService.getExitInfo(e,n,a,i)}async fees(e){return this.feesService.last24h(e)}async volume(e){return this.volumeService.last24h(e)}async find(e){const n=await this.dataSource().find(e);if(n)return ri.wrap(n,this.networkConfig)}async findBy(e,n){if(e=="id")return this.find(n);if(e=="address"){const a=await this.dataSource().findBy("address",n);return a?ri.wrap(a,this.networkConfig):void 0}throw`search by ${e} not implemented`}async all(){const e=await this.dataSource().all();return e?e.map(n=>ri.wrap(n,this.networkConfig)).filter(n=>n):[]}async where(e){const n=await this.dataSource().where(e);return n?n.map(a=>ri.wrap(a,this.networkConfig)).filter(a=>a):[]}}const Xh=new Ue("strings/5.7.0");var Co,Bd;function Zy(t,e=Co.current){e!=Co.current&&(Xh.checkNormalize(),t=t.normalize(e));let n=[];for(let a=0;a<t.length;a++){const i=t.charCodeAt(a);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(63&i|128);else if((64512&i)==55296){a++;const o=t.charCodeAt(a);if(a>=t.length||(64512&o)!=56320)throw new Error("invalid utf-8 string");const s=65536+((1023&i)<<10)+(1023&o);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(63&i|128)}return ya(n)}function Qy(t){const e=Zy(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return p0(Bl([e,Gb]).slice(0,32))}(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Co||(Co={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Bd||(Bd={}));var rr,Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ho<"u"?ho:typeof self<"u"?self:{},em={exports:{}};rr=em,function(){var t="input is invalid type",e=typeof window=="object",n=e?window:{};n.JS_SHA3_NO_WINDOW&&(e=!1);var a=!e&&typeof self=="object";!n.JS_SHA3_NO_NODE_JS&&typeof ki=="object"&&ki.versions&&ki.versions.node?n=Jh:a&&(n=self);var i=!n.JS_SHA3_NO_COMMON_JS&&rr.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",s="0123456789abcdef".split(""),r=[4,1024,262144,67108864],l=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],u=[224,256,384,512],d=[128,256],c=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),!o||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var f=function(y,P,M){return function(D){return new N(y,P,y).update(D)[M]()}},I=function(y,P,M){return function(D,G){return new N(y,P,G).update(D)[M]()}},v=function(y,P,M){return function(D,G,K,ee){return z["cshake"+y].update(D,G,K,ee)[M]()}},x=function(y,P,M){return function(D,G,K,ee){return z["kmac"+y].update(D,G,K,ee)[M]()}},C=function(y,P,M,D){for(var G=0;G<c.length;++G){var K=c[G];y[K]=P(M,D,K)}return y},j=function(y,P){var M=f(y,P,"hex");return M.create=function(){return new N(y,P,y)},M.update=function(D){return M.create().update(D)},C(M,f,y,P)},U=[{name:"keccak",padding:[1,256,65536,16777216],bits:u,createMethod:j},{name:"sha3",padding:[6,1536,393216,100663296],bits:u,createMethod:j},{name:"shake",padding:[31,7936,2031616,520093696],bits:d,createMethod:function(y,P){var M=I(y,P,"hex");return M.create=function(D){return new N(y,P,D)},M.update=function(D,G){return M.create(G).update(D)},C(M,I,y,P)}},{name:"cshake",padding:r,bits:d,createMethod:function(y,P){var M=m[y],D=v(y,0,"hex");return D.create=function(G,K,ee){return K||ee?new N(y,P,G).bytepad([K,ee],M):z["shake"+y].create(G)},D.update=function(G,K,ee,re){return D.create(K,ee,re).update(G)},C(D,v,y,P)}},{name:"kmac",padding:r,bits:d,createMethod:function(y,P){var M=m[y],D=x(y,0,"hex");return D.create=function(G,K,ee){return new k(y,P,K).bytepad(["KMAC",ee],M).bytepad([G],M)},D.update=function(G,K,ee,re){return D.create(G,ee,re).update(K)},C(D,x,y,P)}}],z={},$=[],b=0;b<U.length;++b)for(var T=U[b],w=T.bits,B=0;B<w.length;++B){var A=T.name+"_"+w[B];if($.push(A),z[A]=T.createMethod(w[B],T.padding),T.name!=="sha3"){var O=T.name+w[B];$.push(O),z[O]=z[A]}}function N(y,P,M){this.blocks=[],this.s=[],this.padding=P,this.outputBits=M,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=M>>5,this.extraBytes=(31&M)>>3;for(var D=0;D<50;++D)this.s[D]=0}function k(y,P,M){N.call(this,y,P,M)}N.prototype.update=function(y){if(this.finalized)throw new Error("finalize already called");var P,M=typeof y;if(M!=="string"){if(M!=="object")throw new Error(t);if(y===null)throw new Error(t);if(o&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!(Array.isArray(y)||o&&ArrayBuffer.isView(y)))throw new Error(t);P=!0}for(var D,G,K=this.blocks,ee=this.byteCount,re=y.length,le=this.blockCount,me=0,Me=this.s;me<re;){if(this.reset)for(this.reset=!1,K[0]=this.block,D=1;D<le+1;++D)K[D]=0;if(P)for(D=this.start;me<re&&D<ee;++me)K[D>>2]|=y[me]<<l[3&D++];else for(D=this.start;me<re&&D<ee;++me)(G=y.charCodeAt(me))<128?K[D>>2]|=G<<l[3&D++]:G<2048?(K[D>>2]|=(192|G>>6)<<l[3&D++],K[D>>2]|=(128|63&G)<<l[3&D++]):G<55296||G>=57344?(K[D>>2]|=(224|G>>12)<<l[3&D++],K[D>>2]|=(128|G>>6&63)<<l[3&D++],K[D>>2]|=(128|63&G)<<l[3&D++]):(G=65536+((1023&G)<<10|1023&y.charCodeAt(++me)),K[D>>2]|=(240|G>>18)<<l[3&D++],K[D>>2]|=(128|G>>12&63)<<l[3&D++],K[D>>2]|=(128|G>>6&63)<<l[3&D++],K[D>>2]|=(128|63&G)<<l[3&D++]);if(this.lastByteIndex=D,D>=ee){for(this.start=D-ee,this.block=K[le],D=0;D<le;++D)Me[D]^=K[D];L(Me),this.reset=!0}else this.start=D}return this},N.prototype.encode=function(y,P){var M=255&y,D=1,G=[M];for(M=255&(y>>=8);M>0;)G.unshift(M),M=255&(y>>=8),++D;return P?G.push(D):G.unshift(D),this.update(G),G.length},N.prototype.encodeString=function(y){var P,M=typeof y;if(M!=="string"){if(M!=="object")throw new Error(t);if(y===null)throw new Error(t);if(o&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!(Array.isArray(y)||o&&ArrayBuffer.isView(y)))throw new Error(t);P=!0}var D=0,G=y.length;if(P)D=G;else for(var K=0;K<y.length;++K){var ee=y.charCodeAt(K);ee<128?D+=1:ee<2048?D+=2:ee<55296||ee>=57344?D+=3:(ee=65536+((1023&ee)<<10|1023&y.charCodeAt(++K)),D+=4)}return D+=this.encode(8*D),this.update(y),D},N.prototype.bytepad=function(y,P){for(var M=this.encode(P),D=0;D<y.length;++D)M+=this.encodeString(y[D]);var G=P-M%P,K=[];return K.length=G,this.update(K),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,P=this.lastByteIndex,M=this.blockCount,D=this.s;if(y[P>>2]|=this.padding[3&P],this.lastByteIndex===this.byteCount)for(y[0]=y[M],P=1;P<M+1;++P)y[P]=0;for(y[M-1]|=2147483648,P=0;P<M;++P)D[P]^=y[P];L(D)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var y,P=this.blockCount,M=this.s,D=this.outputBlocks,G=this.extraBytes,K=0,ee=0,re="";ee<D;){for(K=0;K<P&&ee<D;++K,++ee)y=M[K],re+=s[y>>4&15]+s[15&y]+s[y>>12&15]+s[y>>8&15]+s[y>>20&15]+s[y>>16&15]+s[y>>28&15]+s[y>>24&15];ee%P==0&&(L(M),K=0)}return G&&(y=M[K],re+=s[y>>4&15]+s[15&y],G>1&&(re+=s[y>>12&15]+s[y>>8&15]),G>2&&(re+=s[y>>20&15]+s[y>>16&15])),re},N.prototype.arrayBuffer=function(){this.finalize();var y,P=this.blockCount,M=this.s,D=this.outputBlocks,G=this.extraBytes,K=0,ee=0,re=this.outputBits>>3;y=G?new ArrayBuffer(D+1<<2):new ArrayBuffer(re);for(var le=new Uint32Array(y);ee<D;){for(K=0;K<P&&ee<D;++K,++ee)le[ee]=M[K];ee%P==0&&L(M)}return G&&(le[K]=M[K],y=y.slice(0,re)),y},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var y,P,M=this.blockCount,D=this.s,G=this.outputBlocks,K=this.extraBytes,ee=0,re=0,le=[];re<G;){for(ee=0;ee<M&&re<G;++ee,++re)y=re<<2,P=D[ee],le[y]=255&P,le[y+1]=P>>8&255,le[y+2]=P>>16&255,le[y+3]=P>>24&255;re%M==0&&L(D)}return K&&(y=re<<2,P=D[ee],le[y]=255&P,K>1&&(le[y+1]=P>>8&255),K>2&&(le[y+2]=P>>16&255)),le},k.prototype=new N,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var L=function(y){var P,M,D,G,K,ee,re,le,me,Me,Ht,dn,cn,ot,At,Ye,Ve,ke,jn,Pn,zn,Sa,ka,yn,En,Xn,Jn,Ot,mn,Aa,Yn,Kn,Zn,Oa,Ba,Fa,Ma,Qn,Ca,Ra,Sn,Jt,kn,An,On,Yt,Na,La,Da,Ua,qa,ea,ta,Lt,Va,Wa,Ga,Ha,$a,Tt,ja,za,Xa;for(D=0;D<48;D+=2)G=y[0]^y[10]^y[20]^y[30]^y[40],K=y[1]^y[11]^y[21]^y[31]^y[41],ee=y[2]^y[12]^y[22]^y[32]^y[42],re=y[3]^y[13]^y[23]^y[33]^y[43],le=y[4]^y[14]^y[24]^y[34]^y[44],me=y[5]^y[15]^y[25]^y[35]^y[45],Me=y[6]^y[16]^y[26]^y[36]^y[46],Ht=y[7]^y[17]^y[27]^y[37]^y[47],P=(dn=y[8]^y[18]^y[28]^y[38]^y[48])^(ee<<1|re>>>31),M=(cn=y[9]^y[19]^y[29]^y[39]^y[49])^(re<<1|ee>>>31),y[0]^=P,y[1]^=M,y[10]^=P,y[11]^=M,y[20]^=P,y[21]^=M,y[30]^=P,y[31]^=M,y[40]^=P,y[41]^=M,P=G^(le<<1|me>>>31),M=K^(me<<1|le>>>31),y[2]^=P,y[3]^=M,y[12]^=P,y[13]^=M,y[22]^=P,y[23]^=M,y[32]^=P,y[33]^=M,y[42]^=P,y[43]^=M,P=ee^(Me<<1|Ht>>>31),M=re^(Ht<<1|Me>>>31),y[4]^=P,y[5]^=M,y[14]^=P,y[15]^=M,y[24]^=P,y[25]^=M,y[34]^=P,y[35]^=M,y[44]^=P,y[45]^=M,P=le^(dn<<1|cn>>>31),M=me^(cn<<1|dn>>>31),y[6]^=P,y[7]^=M,y[16]^=P,y[17]^=M,y[26]^=P,y[27]^=M,y[36]^=P,y[37]^=M,y[46]^=P,y[47]^=M,P=Me^(G<<1|K>>>31),M=Ht^(K<<1|G>>>31),y[8]^=P,y[9]^=M,y[18]^=P,y[19]^=M,y[28]^=P,y[29]^=M,y[38]^=P,y[39]^=M,y[48]^=P,y[49]^=M,ot=y[0],At=y[1],Yt=y[11]<<4|y[10]>>>28,Na=y[10]<<4|y[11]>>>28,Ot=y[20]<<3|y[21]>>>29,mn=y[21]<<3|y[20]>>>29,Tt=y[31]<<9|y[30]>>>23,ja=y[30]<<9|y[31]>>>23,Jt=y[40]<<18|y[41]>>>14,kn=y[41]<<18|y[40]>>>14,Oa=y[2]<<1|y[3]>>>31,Ba=y[3]<<1|y[2]>>>31,Ye=y[13]<<12|y[12]>>>20,Ve=y[12]<<12|y[13]>>>20,La=y[22]<<10|y[23]>>>22,Da=y[23]<<10|y[22]>>>22,Aa=y[33]<<13|y[32]>>>19,Yn=y[32]<<13|y[33]>>>19,za=y[42]<<2|y[43]>>>30,Xa=y[43]<<2|y[42]>>>30,Lt=y[5]<<30|y[4]>>>2,Va=y[4]<<30|y[5]>>>2,Fa=y[14]<<6|y[15]>>>26,Ma=y[15]<<6|y[14]>>>26,ke=y[25]<<11|y[24]>>>21,jn=y[24]<<11|y[25]>>>21,Ua=y[34]<<15|y[35]>>>17,qa=y[35]<<15|y[34]>>>17,Kn=y[45]<<29|y[44]>>>3,Zn=y[44]<<29|y[45]>>>3,yn=y[6]<<28|y[7]>>>4,En=y[7]<<28|y[6]>>>4,Wa=y[17]<<23|y[16]>>>9,Ga=y[16]<<23|y[17]>>>9,Qn=y[26]<<25|y[27]>>>7,Ca=y[27]<<25|y[26]>>>7,Pn=y[36]<<21|y[37]>>>11,zn=y[37]<<21|y[36]>>>11,ea=y[47]<<24|y[46]>>>8,ta=y[46]<<24|y[47]>>>8,An=y[8]<<27|y[9]>>>5,On=y[9]<<27|y[8]>>>5,Xn=y[18]<<20|y[19]>>>12,Jn=y[19]<<20|y[18]>>>12,Ha=y[29]<<7|y[28]>>>25,$a=y[28]<<7|y[29]>>>25,Ra=y[38]<<8|y[39]>>>24,Sn=y[39]<<8|y[38]>>>24,Sa=y[48]<<14|y[49]>>>18,ka=y[49]<<14|y[48]>>>18,y[0]=ot^~Ye&ke,y[1]=At^~Ve&jn,y[10]=yn^~Xn&Ot,y[11]=En^~Jn&mn,y[20]=Oa^~Fa&Qn,y[21]=Ba^~Ma&Ca,y[30]=An^~Yt&La,y[31]=On^~Na&Da,y[40]=Lt^~Wa&Ha,y[41]=Va^~Ga&$a,y[2]=Ye^~ke&Pn,y[3]=Ve^~jn&zn,y[12]=Xn^~Ot&Aa,y[13]=Jn^~mn&Yn,y[22]=Fa^~Qn&Ra,y[23]=Ma^~Ca&Sn,y[32]=Yt^~La&Ua,y[33]=Na^~Da&qa,y[42]=Wa^~Ha&Tt,y[43]=Ga^~$a&ja,y[4]=ke^~Pn&Sa,y[5]=jn^~zn&ka,y[14]=Ot^~Aa&Kn,y[15]=mn^~Yn&Zn,y[24]=Qn^~Ra&Jt,y[25]=Ca^~Sn&kn,y[34]=La^~Ua&ea,y[35]=Da^~qa&ta,y[44]=Ha^~Tt&za,y[45]=$a^~ja&Xa,y[6]=Pn^~Sa&ot,y[7]=zn^~ka&At,y[16]=Aa^~Kn&yn,y[17]=Yn^~Zn&En,y[26]=Ra^~Jt&Oa,y[27]=Sn^~kn&Ba,y[36]=Ua^~ea&An,y[37]=qa^~ta&On,y[46]=Tt^~za&Lt,y[47]=ja^~Xa&Va,y[8]=Sa^~ot&Ye,y[9]=ka^~At&Ve,y[18]=Kn^~yn&Xn,y[19]=Zn^~En&Jn,y[28]=Jt^~Oa&Fa,y[29]=kn^~Ba&Ma,y[38]=ea^~An&Yt,y[39]=ta^~On&Na,y[48]=za^~Lt&Wa,y[49]=Xa^~Va&Ga,y[0]^=p[D],y[1]^=p[D+1]};if(i)rr.exports=z;else for(b=0;b<$.length;++b)n[$[b]]=z[$[b]]}();var Yh=em.exports;const Kh=new RegExp("^bytes([0-9]+)$"),Zh=new RegExp("^(u?int)([0-9]*)$"),Qh=new RegExp("^(.*)\\[([0-9]*)\\]$"),e1="0000000000000000000000000000000000000000000000000000000000000000",ii=new Ue("solidity/5.7.0");function tm(t,e,n){switch(t){case"address":return n?Cs(e,32):ya(e);case"string":return Zy(e);case"bytes":return ya(e);case"bool":return e=e?"0x01":"0x00",n?Cs(e,32):ya(e)}let a=t.match(Zh);if(a){let i=parseInt(a[2]||"256");return(a[2]&&String(i)!==a[2]||i%8!=0||i===0||i>256)&&ii.throwArgumentError("invalid number type","type",t),n&&(i=256),e=S.from(e).toTwos(i),Cs(e,i/8)}if(a=t.match(Kh),a){const i=parseInt(a[1]);return(String(i)!==a[1]||i===0||i>32)&&ii.throwArgumentError("invalid bytes type","type",t),ya(e).byteLength!==i&&ii.throwArgumentError(`invalid value for ${t}`,"value",e),n?ya((e+e1).substring(0,66)):e}if(a=t.match(Qh),a&&Array.isArray(e)){const i=a[1];parseInt(a[2]||String(e.length))!=e.length&&ii.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(s){o.push(tm(i,s,!0))}),Bl(o)}return ii.throwArgumentError("invalid type","type",t)}function t1(t,e){t.length!=e.length&&ii.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const n=[];return t.forEach(function(a,i){n.push(tm(a,e[i]))}),p0(Bl(n))}function nm(t,e){return n=t1(t,e),"0x"+Yh.keccak_256(ya(n));var n}const fo=Qy("PROTOCOL_SWAP_FEE_PERC"),n1=Qy("E-CLP"),Fd=nm(["bytes"],[Pe.encode(["bytes32","bytes32"],[fo,n1])]);class a1{constructor(e,n,a){this.gyroConfigAddress=e,this.multicall=n,this.gyroConfigInterface=ko.createInterface(),this.gyroConfig=ko.connect(e,a)}async getGyroProtocolFee(e){let n;const a=nm(["bytes"],[Pe.encode(["bytes32","uint256"],[fo,e])]),i=[{target:this.gyroConfigAddress,callData:this.gyroConfigInterface.encodeFunctionData("hasKey",[a])},{target:this.gyroConfigAddress,callData:this.gyroConfigInterface.encodeFunctionData("hasKey",[Fd])},{target:this.gyroConfigAddress,callData:this.gyroConfigInterface.encodeFunctionData("hasKey",[fo])}],[,[o,s,r]]=await this.multicall.callStatic.aggregate(i),l=S.from(o).eq(1),p=S.from(s).eq(1),u=S.from(r).eq(1);return n=l?parseFloat(F(await this.gyroConfig.getUint(a),18)):p?parseFloat(F(await this.gyroConfig.getUint(Fd),18)):u?parseFloat(F(await this.gyroConfig.getUint(fo),18)):0,n}}const i1=new ue(["function gauge_relative_weight(address gauge, uint timestamp) view returns (uint)"]),o1=new ue(["function gauge_relative_weight(address gauge) view returns (uint)"]);class s1{constructor(e,n,a){this.multicall=e,this.gaugeControllerAddress=n,this.gaugeControllerCheckpointerAddress=a}async getRelativeWeights(e,n){const a=e.map(o=>this.gaugeControllerCheckpointerAddress&&!n?{target:this.gaugeControllerCheckpointerAddress,callData:o1.encodeFunctionData("gauge_relative_weight",[de(o)])}:{target:this.gaugeControllerAddress,callData:i1.encodeFunctionData("gauge_relative_weight",[de(o),n||Math.floor(Date.now()/1e3)])}),[,i]=await this.multicall.callStatic.aggregate(a);return e.reduce((o,s,r)=>(o[s]||(o[s]=parseFloat(lt(i[r],18))),o),{})}}class am{async get(e){const n=await this.query(e);return(n==null?void 0:n.length)>0?n[0]:void 0}async find(e){return this.get({where:{id:e}})}async findBy(e,n){return this.get({where:{[String(e)]:n}})}async findAllBy(e,n,a=1e3,i=0){const o={where:{[String(e)]:n},first:a,skip:i};return this.query(o)}}class im extends am{constructor(e,n,a){super(),this.chainId=n,this.blockHeight=a,this.client=ss(e)}}class om extends am{constructor(e,n,a){super(),this.chainId=n,this.blockHeight=a,this.client=Wy(e)}}class r1 extends om{async query(e){e.orderBy||(e.orderBy=rl.balance),e.orderDirection||(e.orderDirection=ll.desc),!e.block&&this.blockHeight&&(e.block={number:await this.blockHeight()});const{gaugeShares:n}=await this.client.GaugeShares(e);return n.map(this.mapType)}mapType(e){var n;return{id:e.id,balance:e.balance,userAddress:(n=e.user)===null||n===void 0?void 0:n.id,gauge:{id:e.gauge.id,poolId:e.gauge.poolId||void 0,isKilled:e.gauge.isKilled,totalSupply:e.gauge.totalSupply}}}async findByUser(e,n,a){return this.findAllBy(Po.UserAddress,e,n,a)}async findByGauge(e,n,a){return this.findAllBy(Po.GaugeId,e,n,a)}}const ua=new ue(["function totalSupply() view returns (uint)","function working_supply() view returns (uint)","function reward_count() view returns (uint)","function reward_tokens(uint rewardIndex) view returns (address)","function reward_data(address rewardToken) view returns (tuple(address token, address distributor, uint period_finish, uint rate, uint last_update, uint integral) data)"]),l1=new ue(["function inflation_rate(uint currentWeekTimestamp) view returns (uint)"]);class p1{constructor(e,n){this.multicall=e,this.chainId=n}async getTotalSupplies(e){const n=e.map(o=>({target:o,callData:ua.encodeFunctionData("totalSupply",[])})),[,a]=await this.multicall.callStatic.aggregate(n),i=a.map(o=>o=="0x"?"0x0":o);return e.reduce((o,s,r)=>(o[s]||(o[s]=parseFloat(lt(i[r],18))),o),{})}async getWorkingSupplies(e){const n=e.map(o=>({target:o,callData:ua.encodeFunctionData("working_supply",[])})),[,a]=await this.multicall.callStatic.aggregate(n),i=a.map(o=>o=="0x"?"0x0":o);return e.reduce((o,s,r)=>(o[s]||(o[s]=parseFloat(lt(i[r],18))),o),{})}async getInflationRates(e){const n=Math.floor(Date.now()/1e3/604800),a=e.map(s=>({target:s,callData:l1.encodeFunctionData("inflation_rate",[n])})),[,i]=await this.multicall.callStatic.aggregate(a),o=i.map(s=>s=="0x"?"0x0":s);return e.reduce((s,r,l)=>(s[r]||(s[r]=parseFloat(lt(o[l],18))),s),{})}async getRewardCounts(e){let n;if(this.chainId==1){const a=e.map(s=>({target:s,callData:ua.encodeFunctionData("reward_count",[])})),[,i]=await this.multicall.callStatic.aggregate(a),o=i.map(s=>s=="0x"?"0x0":s);n=e.reduce((s,r,l)=>(s[r]||(s[r]=parseInt(o[l])),s),{})}else n=e.reduce((a,i)=>(a[i]||(a[i]=1),a),{});return n}async getRewardTokens(e,n){const a=n||await this.getRewardCounts(e),i=e.filter(l=>a[l]>0),o=[0],s=i.map((l,p)=>{const u=[];for(let d=0;d<a[l];d++)u.push({target:l,callData:ua.encodeFunctionData("reward_tokens",[d])});return o[p+1]=o[p]+a[l],u}).flat(),[,r]=await this.multicall.callStatic.aggregate(s);return i.reduce((l,p,u)=>{const d=o[u],c=o[u+1],m=[];for(let f=d;f<c;f++)m.push(ua.decodeFunctionResult("reward_tokens",r[f])[0]);return l[p]||(l[p]=m),l},{})}async getRewardData(e,n){const a=n||await this.getRewardTokens(e),i=[0],o=Object.keys(a).map((l,p)=>{const u=[];for(let d=0;d<a[l].length;d++)u.push({target:l,callData:ua.encodeFunctionData("reward_data",[a[l][d]])});return i[p+1]=i[p]+a[l].length,u}).flat(),[,s]=await this.multicall.callStatic.aggregate(o),r=s.map(l=>ua.decodeFunctionResult("reward_data",l)[0]);return Object.keys(a).reduce((l,p,u)=>{const d=i[u],c=a[p].reduce((m,f,I)=>(m[f]||(m[f]=r[d+I]),m),{});return l[p]||(l[p]=c),l},{})}}class u1{constructor(e){this.gauges=[],this.client=Wy(e)}async fetch(){const e=(await this.client.Pools({first:1e3,where:{preferentialGauge_not:null}})).pools.map(n=>n.preferentialGauge);return this.gauges=e,this.gauges}async find(e){return this.gauges.length==0&&await this.fetch(),this.gauges.find(n=>n.id==e)}async findBy(e,n){if(this.gauges.length==0&&await this.fetch(),e=="id")return this.find(n);if(e=="poolId")return this.gauges.find(a=>a.poolId==n);if(e=="poolAddress")return this.gauges.find(a=>a.poolAddress==n);throw`search by ${e} not implemented`}}class d1{constructor(e,n,a,i,o){this.chainId=i,this.workingSupplies={},this.relativeWeights={},this.inflationRates={},this.rewardData={},a&&(this.gaugeController=new s1(n,a,o)),this.multicall=new p1(n,i),this.subgraph=new u1(e)}async fetch(){const e=await this.subgraph.fetch(),n=e.map(a=>a.id);if(this.chainId==1)this.workingSupplies=await this.multicall.getWorkingSupplies(n);else{const a=["0x3b8ca519122cdd8efb272b0d3085453404b25bd0","0xb08e16cfc07c684daa2f93c70323badb2a6cbfd2","0x2e96068b3d5b5bae3d7515da4a1d2e52d08a2647","0x809b79b53f18e9bc08a961ed4678b901ac93213a"],i=e.filter(o=>!a.includes(o.factory.id.toLowerCase())).map(o=>o.id);i.length>0&&(this.inflationRates=await this.multicall.getInflationRates(i),this.workingSupplies=await this.multicall.getWorkingSupplies(i))}return this.gaugeController&&(this.relativeWeights=await this.gaugeController.getRelativeWeights(n)),this.rewardData=e.reduce((a,i)=>{var o;return a[o=i.id]||(a[o]=i.tokens?Object.fromEntries(i.tokens.map(s=>[s.id.split("-")[0],{distributor:"",last_update:S.from(0),integral:S.from(0),token:s.id.split("-")[0],decimals:s.decimals,rate:py(s.rate||"0",s.decimals),period_finish:S.from(s.periodFinish||"0")}])):{}),a},{}),e.map(this.compose.bind(this))}async find(e){return this.gauges||(this.gauges=this.fetch()),(await this.gauges).find(n=>n.id==e)}async findBy(e,n){let a;if(this.gauges||(this.gauges=this.fetch()),e=="id")return this.find(n);if(e=="address")return this.find(n);if(e=="poolId")a=(await this.gauges).find(i=>i.poolId==n);else{if(e!="poolAddress")throw`search by ${e} not implemented`;a=(await this.gauges).find(i=>i.poolAddress==n)}return a}compose(e){return{id:e.id,address:e.id,name:e.symbol,poolId:e.poolId,poolAddress:e.poolAddress,totalSupply:parseFloat(e.totalSupply),workingSupply:this.workingSupplies[e.id],relativeWeight:this.relativeWeights[e.id],rewardTokens:this.rewardData[e.id],balInflationRate:this.inflationRates[e.id]}}}class c1{constructor(e,n){this.url=e,this.apiKey=n}async get(e){try{const n=this.toPayload(e),{data:a}=await sn.post(this.url,n,{headers:{"x-api-key":this.apiKey}});if(a.errors)throw new Error(a.errors.map(i=>i.message).join(","));return a.data}catch(n){throw console.error(n),n}return[]}toPayload(e){return JSON.stringify({query:ay.jsonToGraphQLQuery({query:e})})}}function y1(t){return new Promise(e=>setTimeout(e,t))}class II{constructor(e){var n,a;this.pools=[],this.skip=0,this.hasFetched=!1,this.isFetching=!1,this.client=new c1(e.url,e.apiKey),this.query={args:Object.assign({},((n=e.query)===null||n===void 0?void 0:n.args)||{chainId:1,orderBy:"totalLiquidity",orderDirection:"desc",where:{swapEnabled:{eq:!0},totalShares:{gt:.05}}}),attrs:Object.assign({},((a=e.query)===null||a===void 0?void 0:a.attrs)||{id:!0,address:!0})},delete this.query.args.skip}fetchFromCache(e,n){return this.pools.slice(n,e+n)}async fetch(e){const n=(e==null?void 0:e.first)||10,a=(e==null?void 0:e.skip)||0;return this.hasFetched||this.fetchAll(e),await this.awaitEnoughPoolsFetched(n,a),this.fetchFromCache(n,a)}async fetchAll(e){this.isFetching=!0,this.hasFetched=!0,this.nextToken&&(this.query.args.nextToken=this.nextToken),this.query.args.first=1e3;const n=new bi(this.query.args).format(new M6),a=this.query.attrs;a.nextToken=!0;const i={pools:{__args:n,...a}},o=(await this.client.get(i)).pools;if(this.nextToken=o.nextToken,this.pools=this.pools.concat(o.pools.map(this.format)),this.nextToken)return await this.fetchAll(e);this.isFetching=!1}async awaitEnoughPoolsFetched(e,n){for(let a=0;a<1e3;a++){if(this.pools.length>e+n||!this.isFetching)return;await y1(10)}}async find(e){return this.pools.length==0&&await this.fetch(),this.findBy("id",e)}async findBy(e,n){this.pools.length==0&&await this.fetch();const a=this.pools.find(i=>i[e]==n);if(a)return this.format(a)}format(e){var n,a,i,o;if(!((n=e.apr)===null||n===void 0)&&n.rewardAprs.breakdown){const s=JSON.parse((a=e.apr)===null||a===void 0?void 0:a.rewardAprs.breakdown);e.apr.rewardAprs.breakdown=s}if(!((i=e.apr)===null||i===void 0)&&i.tokenAprs.breakdown){const s=JSON.parse((o=e.apr)===null||o===void 0?void 0:o.tokenAprs.breakdown);e.apr.tokenAprs.breakdown=s}return e}}class gI{constructor(e,n={}){this.providers=e,this.currentProviderIdx=0,this.timeout=n.timeout||1e4}async fetch(e){return this.fallbackQuery("fetch",[e])}get currentProvider(){if(this.providers.length&&!(this.currentProviderIdx>=this.providers.length))return this.providers[this.currentProviderIdx]}async find(e){return this.fallbackQuery("find",[e])}async findBy(e,n){return this.fallbackQuery("findBy",[e,n])}async fallbackQuery(e,n){if(this.currentProviderIdx>=this.providers.length)throw new Error("No working providers found");let a;try{const i=this.providers[this.currentProviderIdx];a=await Promise.race([i[e].apply(i,n),new Promise((o,s)=>setTimeout(()=>s(new Error("timeout")),this.timeout))])}catch(i){const o=i.message;if(o==="timeout")Le.getInstance().warn("Provider "+this.currentProviderIdx+" timed out, falling back to next provider");else{const s=Le.getInstance();s.warn(`Provider ${this.currentProviderIdx} failed with error, falling back to next provider.`),s.warn(o)}this.currentProviderIdx++,a=await this.fallbackQuery.call(this,e,n)}return a}}const Md=(t,e)=>{var n,a,i,o,s,r,l,p,u,d,c;return{id:t.id,name:t.name||"",address:t.address,chainId:e,poolType:t.poolType,poolTypeVersion:t.poolTypeVersion||1,swapFee:t.swapFee,swapEnabled:t.swapEnabled,protocolYieldFeeCache:t.protocolYieldFeeCache||"0.5",protocolSwapFeeCache:t.protocolSwapFeeCache||"0.5",amp:(n=t.amp)!==null&&n!==void 0?n:void 0,owner:(a=t.owner)!==null&&a!==void 0?a:void 0,factory:(i=t.factory)!==null&&i!==void 0?i:void 0,symbol:(o=t.symbol)!==null&&o!==void 0?o:void 0,tokens:(t.tokens||[]).map(m1),tokensList:t.tokensList,tokenAddresses:(t.tokens||[]).map(m=>m.address),totalLiquidity:t.totalLiquidity,totalShares:t.totalShares,totalSwapFee:t.totalSwapFee,totalSwapVolume:t.totalSwapVolume,priceRateProviders:(s=t.priceRateProviders)!==null&&s!==void 0?s:void 0,createTime:t.createTime,mainIndex:(r=t.mainIndex)!==null&&r!==void 0?r:void 0,wrappedIndex:(l=t.wrappedIndex)!==null&&l!==void 0?l:void 0,totalWeight:t.totalWeight||"1",lowerTarget:(p=t.lowerTarget)!==null&&p!==void 0?p:"0",upperTarget:(u=t.upperTarget)!==null&&u!==void 0?u:"0",isInRecoveryMode:(d=t.isInRecoveryMode)!==null&&d!==void 0&&d,isPaused:(c=t.isPaused)!==null&&c!==void 0&&c}},m1=t=>{const e=sm(t.token);return{...t,isExemptFromYieldProtocolFee:t.isExemptFromYieldProtocolFee||!1,token:e}},sm=t=>{let e=null;return t.pool&&(e={id:t.pool.id,address:t.pool.address,totalShares:t.pool.totalShares,poolType:t.pool.poolType,mainIndex:t.pool.mainIndex||0},t!=null&&t.pool.tokens&&(e.tokens=t.pool.tokens.map(b1))),{pool:e,latestUSDPrice:t.latestUSDPrice||void 0}},b1=t=>({address:t.address,decimals:t.decimals,symbol:t.symbol,balance:t.balance,priceRate:t.priceRate,weight:t.weight,isExemptFromYieldProtocolFee:t.isExemptFromYieldProtocolFee||void 0,token:t.token?sm(t.token):void 0});class lr{constructor(e){var n,a;this.skip=0,this.client=ss(e.url),this.blockHeight=e.blockHeight,this.chainId=e.chainId;const i={orderBy:Fo.TotalLiquidity,orderDirection:fi.Desc,where:{totalShares:{gt:1e-12}}},o=Object.assign({},((n=e.query)===null||n===void 0?void 0:n.args)||i),s=Object.assign({},((a=e.query)===null||a===void 0?void 0:a.attrs)||{});this.query={args:o,attrs:s}}async fetchAllPools(){const e=Le.getInstance();e.time("fetching pools"),this.blockHeight&&(this.query.args.block={number:await this.blockHeight()});const n=new bi(this.query.args).format(new gr),{pool0:a,pool1000:i,pool2000:o}=await this.client.AllPools(n);return e.timeEnd("fetching pools"),[...a,...i,...o].map(s=>Md(s,this.chainId))}async fetch(e){const n=Le.getInstance();n.time("fetching pools"),e!=null&&e.skip&&(this.query.args.skip=e.skip),this.blockHeight&&(this.query.args.block={number:await this.blockHeight()}),this.query.args.first=(e==null?void 0:e.first)||this.query.args.first||1e3;const a=new bi(this.query.args).format(new gr),{pools:i}=await this.client.Pools(a);return this.skip=((e==null?void 0:e.skip)||0)+i.length,n.timeEnd("fetching pools"),i.map(o=>Md(o,this.chainId))}async find(e){return await this.findBy("id",e)}async findBy(e,n){return this.pools||(this.pools=this.fetchAllPools()),(await this.pools).find(a=>a[e]==n)}async all(){return this.pools||(this.pools=this.fetchAllPools()),this.pools}async block(){return this.blockHeight?{number:await this.blockHeight()}:void 0}async where(e){return this.pools||(this.pools=this.fetchAllPools()),(await this.pools).filter(e)}}class f1{constructor(e,n,a,i){this.poolsSubgraph=e,this.poolsToIgnore=a,this.batchSize=i,this.skip=0,this.provider=n.provider,this.multicall=n.multicall,this.vault=n.vault}filterPools(e){return e.filter(n=>n.swapEnabled===!1?!1:this.poolsToIgnore?this.poolsToIgnore.findIndex(a=>a.toLowerCase()===n.id.toLowerCase())===-1:!0)}async fetchDefault(){const e=await this.poolsSubgraph.all(),n=this.filterPools(e),a=Le.getInstance();a.time(`fetching onchain ${n.length} pools`);const i=await bo(n,this.multicall,this.vault,this.provider,this.batchSize);return a.timeEnd(`fetching onchain ${n.length} pools`),i}async fetch(e){const n=await this.poolsSubgraph.fetch(e),a=this.filterPools(n),i=Le.getInstance();i.time(`fetching onchain ${a.length} pools`);const o=await bo(a,this.multicall,this.vault,this.provider,this.batchSize);return i.timeEnd(`fetching onchain ${a.length} pools`),o}async find(e,n=!1){return await this.findBy("id",e,n)}async findBy(e,n,a=!1){return this.pools&&!a||(this.pools=this.fetchDefault()),(await this.pools).find(i=>i[e]==n)}async all(){return this.pools||(this.pools=this.fetchDefault()),this.pools}async where(e){return this.pools||(this.pools=this.fetchDefault()),(await this.pools).filter(e)}async refresh(e){const n=await bo([e],this.multicall,this.vault,this.provider);if(this.pools){const a=(await this.pools).findIndex(i=>i.address===e.address);a!==-1&&(this.pools=Promise.resolve([...(await this.pools).splice(a,1),n[0]]))}return n[0]}}class T1 extends om{async query(e){!e.block&&this.blockHeight&&(e.block={number:await this.blockHeight()});const{pools:n}=await this.client.PoolGauges(e);return n.map(this.mapType)}mapType(e){return e}}var Ro;(function(t){t.Pool="pool",t.Sender="sender"})(Ro||(Ro={}));class h1 extends im{async query(e){e.orderBy||(e.orderBy=ol.Timestamp),e.orderDirection||(e.orderDirection=fi.Asc),!e.block&&this.blockHeight&&(e.block={number:await this.blockHeight()});const{joinExits:n}=await this.client.JoinExits(e);return n.map(this.mapType)}mapType(e){return{id:e.id,userAddress:e.user.id,poolId:e.pool.id,timestamp:e.timestamp,type:e.type,amounts:e.amounts,tokens:e.pool.tokensList}}async findByUser(e,n,a){return this.findAllBy(Ro.Sender,e,n,a)}async findJoins(e,n){return this.query({where:{sender:e,pool:n,type:"Join"}})}async findExits(e,n){return this.query({where:{sender:e,pool:n,type:"Exit"}})}async findByPool(e,n,a){return this.findAllBy(Ro.Pool,e,n,a)}}class I1 extends im{async query(e){e.orderBy||(e.orderBy=sl.Balance),e.orderDirection||(e.orderDirection=fi.Desc),!e.block&&this.blockHeight&&(e.block={number:await this.blockHeight()});const{poolShares:n}=await this.client.PoolShares(e);return n.map(this.mapType)}mapType(e){return{id:e.id,userAddress:e.userAddress.id,poolId:e.poolId.id,balance:e.balance}}async findByUser(e,n,a){return this.findAllBy(vo.UserAddress,e,n,a)}async findByPool(e,n,a){return this.findAllBy(vo.PoolId,e,n,a)}}class g1{constructor(e){this.tokens=e}async find(e){return this.tokens.find(n=>n.address.toLowerCase()===e.toLowerCase())}async findBy(e,n){return this.tokens.find(a=>a[e]===n)}}class w1{constructor(e,n=1){this.chainId=n,this.prices={},this.baseTokenAddresses=e.map(Eo),this.urlBase=`https://api.coingecko.com/api/v3/simple/token_price/${this.platform(n)}?vs_currencies=usd,eth`,this.debouncer=new uy(this.fetch.bind(this),200,10)}async fetch(e,{signal:n}={}){var a,i;try{const{data:o}=await sn.get(this.url(e),{signal:n});return o}catch(o){const s=["Error fetching token prices from coingecko"];return o.isAxiosError?((a=o.response)===null||a===void 0?void 0:a.status)!==void 0&&s.push(`with status ${(i=o.response)===null||i===void 0?void 0:i.status}`):s.push(o),Promise.reject(s.join(" "))}}fetchNative({signal:e}={}){let n;(function(i){i.ETH="ethereum",i.MATIC="matic-network",i.XDAI="xdai"})(n||(n={}));let a=n.ETH;return this.chainId===137&&(a=n.MATIC),this.chainId===100&&(a=n.XDAI),sn.get(`https://api.coingecko.com/api/v3/simple/price/?vs_currencies=eth,usd&ids=${a}`,{signal:e}).then(({data:i})=>i[a]).catch(i=>{var o;const s=["Error fetching native token from coingecko"];return i.isAxiosError?!((o=i.response)===null||o===void 0)&&o.status&&s.push(`with status ${i.response.status}`):s.push(i),Promise.reject(s.join(" "))}).finally(()=>{})}find(e){const n=Eo(e,this.chainId);if(!this.prices[n]){if(Object.keys(this.prices).length===0)for(const a of this.baseTokenAddresses)this.prices[a]=this.debouncer.fetch(a).then(i=>i[a]);if(n===ry(this.chainId).Addresses.nativeAsset.toLowerCase())return this.nativePrice||(this.prices[n]=this.fetchNative()),this.prices[n];this.prices[n]=this.debouncer.fetch(n).then(a=>a[n])}return this.prices[n]}async findBy(e,n){if(e=="address")return this.find(n)}platform(e){switch(e){case 1:case 5:case 42:case 31337:return"ethereum";case 100:return"xdai";case 137:return"polygon-pos";case 250:return"fantom";case 1101:return"polygon-zkevm";case 8453:return"base";case 42161:return"arbitrum-one";case 43114:return"avalanche";case 245022934:return"neon-evm"}return"2"}url(e){return`${this.urlBase}&contract_addresses=${e.join(",")}`}}class _1{constructor(e=1){this.chainId=e,this.prices={},this.urlBase=`https://api.coingecko.com/api/v3/coins/${this.platform(e)}/contract/%TOKEN_ADDRESS%/market_chart/range?vs_currency=usd`}async fetch(e,n,{signal:a}={}){var i;const o=this.urlRange(e,n);try{const{data:s}=await sn.get(o,{signal:a});return s}catch(s){throw s.isAxiosError?new Error("Error fetching historical token prices from coingecko - "+s.message+" - "+((i=s.response)===null||i===void 0?void 0:i.statusText)):new Error("Unknown Error: "+s)}}async find(e){throw"Historic price requires point-in-time timestamp, please use findBy(address, timestamp)"}async findBy(e,n){const a=Eo(e,this.chainId);return{usd:`${(await this.fetch(a,n)).prices[0][1]}`}}platform(e){switch(e){case 1:case 5:case 42:case 31337:return"ethereum";case 137:return"polygon-pos";case 42161:return"arbitrum-one";case 100:return"xdai"}return"2"}urlRange(e,n){const a=n-3600,i=n+3600;return`${this.urlBase.replace("%TOKEN_ADDRESS%",e)}&from=${a}&to=${i}`}}class x1{constructor(e,n=1){this.subgraphUrl=e,this.chainId=n,this.prices={},this.debouncer=new uy(this.fetch.bind(this),200)}async fetch(e,{signal:n}={}){return e.length,sn.post(this.subgraphUrl,{variables:{addresses:e},query:`query($addresses: [String!]) {
            tokens(
              where: {
                id_in: $addresses
              }
            ) {
              address
              latestUSDPrice
            }
          }`},{signal:n}).then(a=>a.data.data).then(({tokens:a})=>Object.fromEntries(a.map(i=>[i.address,{usd:i.latestUSDPrice||void 0}]))).finally(()=>{e.length})}async find(e){const n=Eo(e,this.chainId);return this.prices[n]||(this.prices[n]=this.debouncer.fetch(n).then(a=>a[n])),this.prices[n]}async findBy(e,n){if(e=="address")return this.find(n)}}class v1{constructor(e,n,a){this.coingeckoRepository=e,this.subgraphRepository=n,this.aaveRates=a}async find(e){let n;try{if(n=await this.coingeckoRepository.find(e),!(n!=null&&n.usd))throw new Error("Price not found")}catch(i){Le.getInstance().warn(i),n=await this.subgraphRepository.find(e)}const a=await this.aaveRates.getRate(e)||1;return n&&n.usd?{...n,usd:(parseFloat(n.usd)*a).toString()}:n}async findBy(e,n){if(e==="address")return this.find(n);throw`Token price search by ${e} not implemented`}}class P1{constructor(e,n){this.coingeckoRepository=e,this.aaveRates=n}async find(e){return this.findBy(e,Math.floor(Date.now()/1e3))}async findBy(e,n){const a=await this.coingeckoRepository.findBy(e,n),i=await this.aaveRates.getRate(e)||1;return a&&a.usd?{...a,usd:(parseFloat(a.usd)*i).toString()}:a}}const E1=["function claimTokens(address user, address[] tokens) returns (uint256[])","function claimToken(address user, address token) returns (uint256)"],pr=new ue(["function getTokensDistributedInWeek(address token, uint timestamp) view returns (uint)","function claimTokens(address user, address[] tokens) returns (uint256[])","function claimToken(address user, address token) returns (uint256)"]),S1=new ue(["function totalSupply() view returns (uint)"]);class k1{constructor(e,n,a,i,o,s){this.multicall=e,this.feeDistributorAddress=n,this.balAddress=a,this.veBalAddress=i,this.bbAUsdAddress=o,this.feeDistributor=((r,l)=>new ce(r,E1,l))(n,s)}async fetch(e){const n=this.getPreviousWeek(e),a=[{target:this.feeDistributorAddress,callData:pr.encodeFunctionData("getTokensDistributedInWeek",[de(this.balAddress),n])},{target:this.feeDistributorAddress,callData:pr.encodeFunctionData("getTokensDistributedInWeek",[de(this.bbAUsdAddress),n])},{target:this.veBalAddress,callData:S1.encodeFunctionData("totalSupply",[])}],[,i]=await this.multicall.callStatic.aggregate(a);return{balAmount:parseFloat(lt(i[0],18)),bbAUsdAmount:parseFloat(lt(i[1],18)),veBalSupply:parseFloat(lt(i[2],18)),bbAUsdPrice:parseFloat("1.0"),balAddress:this.balAddress}}async multicallData(e){return this.data||(this.data=await this.fetch(e)),this.data}getPreviousWeek(e){const n=new Date(e);n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0);let a=n.getUTCDay()-4;return a<0&&(a+=7),a+=7,Math.floor(n.getTime()/1e3)-86400*a}async getClaimableBalances(e,n){try{const a=await this.feeDistributor.callStatic.claimTokens(e,n);return this.extractTokenBalance(n,a)}catch{return{}}}claimBalances(e,n){return pr.encodeFunctionData("claimTokens",[e,n])}extractTokenBalance(e,n){return e.reduce((a,i,o)=>{var s;return a[i]=(s=n[o])!==null&&s!==void 0?s:S.from(0),a},{})}}const A1=new ue(["function getProtocolFeesCollector() view returns (address)"]),O1=new ue(["function getSwapFeePercentage() view returns (uint)"]);let ur;class B1{constructor(e,n){this.provider=n,this.vault=new ce(e,A1,this.provider)}async fetch(){const e=await this.vault.getProtocolFeesCollector(),n=new ce(e,O1,this.provider),a=await n.getSwapFeePercentage();return parseFloat(lt(a,18))}async find(){return ur||(ur=this.fetch()),this.swapFeePercentage=await ur,this.swapFeePercentage}async findBy(){return this.find()}}const Cd=new ue(["function getSwapFeePercentage() view returns (uint)"]);let dr;class F1{constructor(e,n){this.multicall=e,this.protocolFeePercentagesProviderAddress=n}async fetch(){const e=[{target:this.protocolFeePercentagesProviderAddress,callData:Cd.encodeFunctionData("getFeeTypePercentage",[0])},{target:this.protocolFeePercentagesProviderAddress,callData:Cd.encodeFunctionData("getFeeTypePercentage",[2])}],[,n]=await this.multicall.callStatic.aggregate(e);return{swapFee:parseFloat(lt(n[0],18)),yieldFee:parseFloat(lt(n[2],18))}}async getFees(){return dr||(dr=this.fetch()),this.protocolFees=await dr,this.protocolFees}}class M1{constructor(e="https://yield-tokens.balancer.workers.dev/"){this.url=e}async fetch(){let e={};try{e=(await sn.get(this.url)).data}catch(n){Le.getInstance().warn(`Failed to fetch yield tokens: ${n}`)}return e}async find(e){const n=e.toLocaleLowerCase();return this.yields||(this.yields=this.fetch()),this.yields.then(a=>a[n]&&a[n]>0?a[n]:0)}async findBy(e,n){return e!="address"?0:this.find(n)}}const C1=t=>`{
  blocks(first: 1, orderBy: timestamp, orderDirection: asc, where: { timestamp_gt: ${t} }) {
    number
  }
}`,R1=async(t,e)=>{const n={query:C1(e)},a=await sn.post(t,n),{data:{blocks:i}}=a.data;return parseInt(i[0].number)};class N1{constructor(e){this.endpoint=e,this.blocks={}}async find(e){if(e=="dayAgo"){const n=""+(Math.floor(Date.now()/1e3)-86400);return this.blocks[n]||(this.blocks={...this.blocks,[n]:R1(this.endpoint,n)}),this.blocks[n]}}async findBy(e="",n=""){}}var L1=[{chainId:1,address:"0x8888801af4d980682e47f1a9036e589479e835c5",symbol:"mph"},{chainId:1,address:"0x27054b13b1b798b345b591a4d22e6562d47ea75a",symbol:"ast"},{chainId:1,address:"0x3301ee63fb29f863f2333bd4466acb46cd8323e6",symbol:"akita"},{chainId:1,address:"0x616e8bfa43f920657b3497dbf40d6b1a02d4608d",symbol:"aurabal"},{chainId:1,address:"0xc0c293ce456ff0ed870add98a0828dd4d2903dbf",symbol:"aura"},{chainId:1,address:"0x3472a5a71965499acd81997a54bba8d852c6e53d",symbol:"badger"},{chainId:1,address:"0xba100000625a3754423978a60c9317c58a424e3d",symbol:"bal"},{chainId:1,address:"0x804cdb9116a10bb78768d3252355a1b18067bf8f",symbol:"bb-a-dai"},{chainId:1,address:"0x9210f1204b5a24742eba12f710636d76240df3d0",symbol:"bb-a-usdc"},{chainId:1,address:"0x2bbf681cc4eb09218bee85ea2a5d3d13fa40fc0c",symbol:"bb-a-usdt"},{chainId:1,address:"0x7b50775383d3d6f0215a8f290f2c9e2eebbeceb2",symbol:"bb-a-usd"},{chainId:1,address:"0x2d94aa3e47d9d5024503ca8491fce9a2fb4da198",symbol:"bank"},{chainId:1,address:"0x0d8775f648430679a709e98d2b0cb6250d2887ef",symbol:"bat"},{chainId:1,address:"0xf17e65822b568b3903685a7c9f496cf7656cc6c2",symbol:"bico"},{chainId:1,address:"0x799ebfabe77a6e34311eeee9825190b9ece32824",symbol:"btrst"},{chainId:1,address:"0x514910771af9ca656af840dff83e8264ecf986ca",symbol:"link"},{chainId:1,address:"0x3506424f91fd33084466f402d5d97f05f8e3b4af",symbol:"chz"},{chainId:1,address:"0x41e5560054824ea6b0732e656e3ad64e20e94e45",symbol:"cvc"},{chainId:1,address:"0xc00e94cb662c3520282e6f5717214004a7f26888",symbol:"comp"},{chainId:1,address:"0xdef1ca1fb7fbcdc777520aa7f396b4e015f497ab",symbol:"cow"},{chainId:1,address:"0xd533a949740bb3306d119cc777fa900ba034cd52",symbol:"crv"},{chainId:1,address:"0x6b175474e89094c44da98b954eedeac495271d0f",symbol:"dai"},{chainId:1,address:"0xf2051511b9b121394fa75b8f7d4e7424337af687",symbol:"haus"},{chainId:1,address:"0x888888435fde8e7d4c54cab67f206e4199454c60",symbol:"dfx"},{chainId:1,address:"0x798d1be841a82a273720ce31c822c61a67a601c3",symbol:"digg"},{chainId:1,address:"0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c",symbol:"enj"},{chainId:1,address:"0xc18360217d8f7ab5e7c516566761ea12ce7f9d72",symbol:"ens"},{chainId:1,address:"0x4e15361fd6b4bb609fa63c81a2be19d873717870",symbol:"ftm"},{chainId:1,address:"0x956f47f50a910163d8bf957cf5846d573e7f87ca",symbol:"fei"},{chainId:1,address:"0xed1480d12be41d92f36f5f7bdd88212e381a3677",symbol:"fdt"},{chainId:1,address:"0x586aa273f262909eef8fa02d90ab65f5015e0516",symbol:"fiat"},{chainId:1,address:"0xde30da39c46104798bb5aa3fe8b9e0e1f348163f",symbol:"gtc"},{chainId:1,address:"0x900db999074d9277c5da2a43f252d74366230da0",symbol:"giv"},{chainId:1,address:"0x6810e776880c02933d47db1b9fc05908e5386b96",symbol:"gno"},{chainId:1,address:"0xba485b556399123261a5f9c95d413b4f93107407",symbol:"graviaura"},{chainId:1,address:"0x3ec8798b81485a254928b70cda1cf0a2bb0b74d7",symbol:"gro"},{chainId:1,address:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f",symbol:"snx"},{chainId:1,address:"0x5a98fcbea516cf06857215779fd812ca3bef1b32",symbol:"ldo"},{chainId:1,address:"0x6dea81c8171d0ba574754ef6f8b412f2ed88c54d",symbol:"lqty"},{chainId:1,address:"0x5f98805a4e8be255a32880fdec7f6728c6568ba0",symbol:"lusd"},{chainId:1,address:"0x965d79f1a1016b574a62986e13ca8ab04dfdd15c",symbol:"m2"},{chainId:1,address:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2",symbol:"mkr"},{chainId:1,address:"0xd084944d3c05cd115c09d072b9f44ba3e0e45921",symbol:"fold"},{chainId:1,address:"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0",symbol:"matic"},{chainId:1,address:"0xa3bed4e1c75d00fa6f4e5e6922db7261b5e9acd2",symbol:"mta"},{chainId:1,address:"0x4b13006980acb09645131b91d259eaa111eaf5ba",symbol:"myc"},{chainId:1,address:"0x333a4823466879eef910a04d473505da62142069",symbol:"nation"},{chainId:1,address:"0xcfeaead4947f0705a14ec42ac3d44129e1ef3ed5",symbol:"note"},{chainId:1,address:"0x967da4048cd07ab37855c090aaf366e4ce1b9f48",symbol:"ocean"},{chainId:1,address:"0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5",symbol:"ohm"},{chainId:1,address:"0xab846fb6c81370327e784ae7cbb6d6a6af6ff4bf",symbol:"pal"},{chainId:1,address:"0xcafe001067cdef266afb7eb5a286dcfd277f3de5",symbol:"psp"},{chainId:1,address:"0x68037790a0229e9ce6eaa8a99ea92964106c4703",symbol:"par"},{chainId:1,address:"0x45804880de22913dafe09f4980848ece6ecbaf78",symbol:"paxg"},{chainId:1,address:"0x89ab32156e46f46d02ade3fecbe5fc4243b9aaed",symbol:"pnt"},{chainId:1,address:"0x9992ec3cf6a55b00978cddf2b27bc6882d88d1ec",symbol:"poly"},{chainId:1,address:"0x43d4a3cd90ddd2f8f4f693170c9c8098163502ad",symbol:"d2d"},{chainId:1,address:"0xeb4c2781e4eba804ce9a9803c67d0893436bb27d",symbol:"renbtc"},{chainId:1,address:"0x408e41876cccdc0f92210600ef50372656052a38",symbol:"ren"},{chainId:1,address:"0xfb5453340c03db5ade474b27e68b6a9c6b2823eb",symbol:"robot"},{chainId:1,address:"0xd33526068d116ce69f19a9ee46f0bd304f21a51f",symbol:"rpl"},{chainId:1,address:"0xae78736cd615f374d3085123a210448e74fc6393",symbol:"reth"},{chainId:1,address:"0xfe18be6b3bd88a2d2a7f928d00292e7a9963cfc6",symbol:"sbtc"},{chainId:1,address:"0x476c5e26a75bd202a9683ffd34359c0cc15be0ff",symbol:"srm"},{chainId:1,address:"0x35e78b3982e87ecfd5b3f3265b601c046cdbe232",symbol:"xai"},{chainId:1,address:"0x3affcca64c2a6f4e3b6bd9c64cd2c969efd1ecbe",symbol:"dsla"},{chainId:1,address:"0xf24d8651578a55b0c119b9910759a351a3458895",symbol:"sdbal"},{chainId:1,address:"0x11c1a6b3ed6bb362954b29d3183cfa97a0c806aa",symbol:"str"},{chainId:1,address:"0x8f693ca8d21b157107184d29d398a8d082b38b76",symbol:"data"},{chainId:1,address:"0x470ebf5f030ed85fc1ed4c2d36b9dd02e77cf1b7",symbol:"temple"},{chainId:1,address:"0xa36fdbbae3c9d55a1d67ee5821d53b50b63a1ab9",symbol:"temp"},{chainId:1,address:"0xdac17f958d2ee523a2206206994597c13d831ec7",symbol:"usdt"},{chainId:1,address:"0x9c4a4204b79dd291d6b6571c5be8bbcd0622f050",symbol:"tcr"},{chainId:1,address:"0x226f7b842e0f0120b7e194d05432b3fd14773a9d",symbol:"unn"},{chainId:1,address:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",symbol:"uni"},{chainId:1,address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",symbol:"usdc"},{chainId:1,address:"0x81f8f0bb1cb2a06649e51913a151f0e7ef6fa321",symbol:"vita"},{chainId:1,address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",symbol:"weth"},{chainId:1,address:"0xedb171c18ce90b633db442f2a6f72874093b49ef",symbol:"wampl"},{chainId:1,address:"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599",symbol:"wbtc"},{chainId:1,address:"0xf203ca1769ca8e9e8fe1da9d147db68b6c919817",symbol:"wncg"},{chainId:1,address:"0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0",symbol:"wsteth"},{chainId:1,address:"0x79c71d3436f39ce382d0f58f1b011d88100b9d91",symbol:"xns"},{chainId:1,address:"0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e",symbol:"yfi"},{chainId:1,address:"0xbcca60bb61934080951369a648fb03df4f96263c",symbol:"ausdc"},{chainId:1,address:"0x028171bca77440897b824ca71d1c56cac55b68a3",symbol:"adai"},{chainId:1,address:"0x3ed3b47dd13ec9a98b44e6204a523e766b225811",symbol:"ausdt"},{chainId:137,address:"0x9c2c5fd7b07e95ee044ddeba0e97a665f142394f",symbol:"1inch"},{chainId:137,address:"0xd6df932a45c0f255f85145f286ea0b292b21c90b",symbol:"aave"},{chainId:137,address:"0xc3fdbadc7c795ef1d6ba111e06ff8f16a20ea539",symbol:"addy"},{chainId:137,address:"0xf84bd51eab957c2e7b7d646a3427c5a50848281d",symbol:"agar"},{chainId:137,address:"0x033d942a6b495c4071083f4cde1f17e986fe856c",symbol:"aga"},{chainId:137,address:"0x0e9b89007eee9c958c0eda24ef70723c2c93dd58",symbol:"amaticc"},{chainId:137,address:"0x034b2090b579228482520c589dbd397c53fc51cc",symbol:"vision"},{chainId:137,address:"0x2c89bbc92bd86f8075d1decc58c7f4e0107f286b",symbol:"avax"},{chainId:137,address:"0x49690541e3f6e933a9aa3cffee6010a7bb5b72d7",symbol:"axiav3"},{chainId:137,address:"0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3",symbol:"bal"},{chainId:137,address:"0xdb7cb471dd0b49b29cab4a1c14d070f27216a0ab",symbol:"bank"},{chainId:137,address:"0xfbdd194376de19a88118e84e279b977f165d01b8",symbol:"bifi"},{chainId:137,address:"0xd6ca869a4ec9ed2c7e618062cdc45306d8dbbc14",symbol:"btc2x-fli-p"},{chainId:137,address:"0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39",symbol:"link"},{chainId:137,address:"0x172370d5cd63279efa6d502dab29171933a610af",symbol:"crv"},{chainId:137,address:"0x8f3cf7ad23cd3cadbd9735aff958023239c6a063",symbol:"dai"},{chainId:137,address:"0x1d607faa0a51518a7728580c238d912747e71f7a",symbol:"data"},{chainId:137,address:"0x85955046df4668e1dd369d2de9f3aeb98dd2a369",symbol:"dpi"},{chainId:137,address:"0xe7804d91dfcde7f776c90043e03eaa6df87e6395",symbol:"dfx"},{chainId:137,address:"0xf28164a485b0b2c90639e47b0f377b4a438a16b1",symbol:"dquick"},{chainId:137,address:"0x45c32fa6df82ead1e2ef74d17b76547eddfaff89",symbol:"frax"},{chainId:137,address:"0x50b728d8d964fd00c2d0aad81718b71311fef68a",symbol:"snx"},{chainId:137,address:"0x72928d5436ff65e57f72d5566dcd3baedc649a88",symbol:"hdao"},{chainId:137,address:"0x3ad707da309f3845cd602059901e39c4dcd66473",symbol:"eth2x-fli-p"},{chainId:137,address:"0x4f025829c4b13df652f38abd2ab901185ff1e609",symbol:"ieth-fli-p"},{chainId:137,address:"0x340f412860da7b7823df372a2b59ff78b7ae6abc",symbol:"imatic-fli-p"},{chainId:137,address:"0xf287d97b6345bad3d88856b26fb7c0ab3f2c7976",symbol:"matic2x-fli-p"},{chainId:137,address:"0x130ce4e4f76c2265f94a961d70618562de0bb8d2",symbol:"ibtc-fli-p"},{chainId:137,address:"0x596ebe76e2db4470966ea395b0d063ac6197a8c5",symbol:"jrt"},{chainId:137,address:"0x3a58a54c066fdc0f2d55fc9c89f0415c92ebf3c4",symbol:"stmatic"},{chainId:137,address:"0xf501dd45a1198c2e1b5aef5314a68b9006d842e0",symbol:"mta"},{chainId:137,address:"0xeaecc18198a475c921b24b8a6c1c1f0f5f3f7ea0",symbol:"seed"},{chainId:137,address:"0xfe712251173a2cd5f5be2b46bb528328ea3565e1",symbol:"mvi"},{chainId:137,address:"0xa3fa99a148fa48d14ed51d610c367c61876997f1",symbol:"mimatic"},{chainId:137,address:"0xa486c6bc102f409180ccb8a94ba045d39f8fc7cb",symbol:"nex"},{chainId:137,address:"0xe2aa7db6da1dae97c5f5c6914d285fbfcc32a128",symbol:"par"},{chainId:137,address:"0x580a84c73811e1839f75d86d75d88cca0c241ff4",symbol:"qi"},{chainId:137,address:"0x831753dd7087cac61ab5644b308642cc1c33dc13",symbol:"quick"},{chainId:137,address:"0xb5c064f955d8e7f38fe0460c556a72987494ee17",symbol:"quick"},{chainId:137,address:"0x00e5646f60ac6fb446f621d146b6e1886f002905",symbol:"rai"},{chainId:137,address:"0x431cd3c9ac9fc73644bf68bf5691f4b83f9e104f",symbol:"rbw"},{chainId:137,address:"0xdbf31df14b66535af65aac99c32e9ea844e14501",symbol:"renbtc"},{chainId:137,address:"0x501ace9c35e60f03a2af4d484f49f9b1efde9f40",symbol:"solace"},{chainId:137,address:"0xfa68fb4628dff1028cfec22b4162fccd0d45efb6",symbol:"maticx"},{chainId:137,address:"0x0b3f868e0be5597d5db7feb59e1cadbb0fdda50a",symbol:"sushi"},{chainId:137,address:"0xdf7837de1f2fa4631d716cf2502f8b230f1dcc32",symbol:"tel"},{chainId:137,address:"0xe6469ba6d2fd6130788e0ea9c0a0515900563b59",symbol:"ust"},{chainId:137,address:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",symbol:"usdt"},{chainId:137,address:"0x5fe2b58c013d7601147dcdd68c143a77499f5531",symbol:"grt"},{chainId:137,address:"0xbbba073c31bf03b8acf7c28ef0738decf3695683",symbol:"sand"},{chainId:137,address:"0x2934b36ca9a4b31e633c5be670c8c8b28b6aa015",symbol:"thx"},{chainId:137,address:"0x2f800db0fdb5223b3c3f354886d907a671414a7f",symbol:"bct"},{chainId:137,address:"0x2e1ad108ff1d8c782fcbbb89aad783ac49586756",symbol:"tusd"},{chainId:137,address:"0x3809dcdd5dde24b37abe64a5a339784c3323c44f",symbol:"swap"},{chainId:137,address:"0x7fbc10850cae055b27039af31bd258430e714c62",symbol:"ubt"},{chainId:137,address:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",symbol:"usdc"},{chainId:137,address:"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619",symbol:"weth"},{chainId:137,address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",symbol:"wmatic"},{chainId:137,address:"0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6",symbol:"wbtc"},{chainId:137,address:"0x24834bbec7e39ef42f4a75eaf8e5b6486d3f0e57",symbol:"lunc"},{chainId:137,address:"0xf153eff70dc0bf3b085134928daeea248d9b30d0",symbol:"xmark"},{chainId:42161,address:"0x9f20de1fc9b161b34089cbeae888168b44b03461",symbol:"arbis"},{chainId:42161,address:"0x040d1edc9569d4bab2d15287dc5a4f10f56a56b8",symbol:"bal"},{chainId:42161,address:"0x031d35296154279dc1984dcd93e392b1f946737b",symbol:"cap"},{chainId:42161,address:"0xf97f4df75117a78c1a5a0dbb814af92458539fb4",symbol:"link"},{chainId:42161,address:"0x354a6da3fcde098f8389cad84b0182725c6c91de",symbol:"comp"},{chainId:42161,address:"0xf4d48ce3ee1ac3651998971541badbb9a14d7234",symbol:"cream"},{chainId:42161,address:"0x11cdb42b0eb46d95f990bedd4695a6e3fa034978",symbol:"crv"},{chainId:42161,address:"0xda10009cbd5d07dd0cecc66161fc93d7c9000da1",symbol:"dai"},{chainId:42161,address:"0x8038f3c971414fd1fc220ba727f2d4a0fc98cb65",symbol:"dht"},{chainId:42161,address:"0xf0b5ceefc89684889e5f7e0a7775bd100fcd3709",symbol:"dusd"},{chainId:42161,address:"0x6c2c06790b3e3e3c38e12ee22f8183b37a13ee55",symbol:"dpx"},{chainId:42161,address:"0x32eb7902d4134bf98a28b963d26de779af92a212",symbol:"rdpx"},{chainId:42161,address:"0xc3ae0333f0f34aa734d5493276223d95b8f9cb37",symbol:"dxd"},{chainId:42161,address:"0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a",symbol:"gmx"},{chainId:42161,address:"0xa0b862f60edef4452f25b4160f177db44deb6cf1",symbol:"gno"},{chainId:42161,address:"0xb965029343d55189c25a7f3e0c9394dc0f5d41b1",symbol:"ndx"},{chainId:42161,address:"0x539bde0d7dbd336b79148aa742883198bbf60342",symbol:"magic"},{chainId:42161,address:"0x4e352cf164e64adcbad318c3a1e222e9eba4ce42",symbol:"mcb"},{chainId:42161,address:"0x3f56e0c36d275367b8c502090edf38289b3dea0d",symbol:"mimatic"},{chainId:42161,address:"0x965772e0e9c84b6f359c8597c891108dcf1c5b1a",symbol:"pickle"},{chainId:42161,address:"0x6694340fc020c5e6b96567843da2df01b2ce1eb6",symbol:"stg"},{chainId:42161,address:"0xd4d42f0b6def4ce0383636770ef773390d85c61a",symbol:"sushi"},{chainId:42161,address:"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9",symbol:"usdt"},{chainId:42161,address:"0x23a941036ae778ac51ab04cea08ed6e2fe103614",symbol:"grt"},{chainId:42161,address:"0xa72159fc390f0e3c6d415e658264c7c4051e9b87",symbol:"tcr"},{chainId:42161,address:"0x4d15a3a2286d883af0aa1b3f21367843fac63e07",symbol:"tusd"},{chainId:42161,address:"0xfa7f8980b0f1e64a2062791cc3b0871572f1f7f0",symbol:"uni"},{chainId:42161,address:"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8",symbol:"usdc"},{chainId:42161,address:"0xa684cd057951541187f288294a1e1c2646aa2d24",symbol:"vsta"},{chainId:42161,address:"0x64343594ab9b56e99087bfa6f2335db24c2d1f17",symbol:"vst"},{chainId:42161,address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",symbol:"weth"},{chainId:42161,address:"0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",symbol:"wbtc"},{chainId:42161,address:"0x82e3a8f066a6989666b031d916c43672085b1582",symbol:"yfi"}];class D1{constructor(e,n,a,i){if(this.pools=new lr({url:e.urls.subgraph,chainId:e.chainId,query:i}),this.poolsForSimulations=new Gy(ss(e.urls.subgraph),n,e,void 0,i),this.poolsOnChain=new f1(this.pools,{provider:n,multicall:e.addresses.contracts.multicall,vault:e.addresses.contracts.vault},e.poolsToIgnore,e.multicallBatchSize),this.poolShares=new I1(e.urls.subgraph,e.chainId),this.poolJoinExits=new h1(e.urls.subgraph,e.chainId),e.urls.gaugesSubgraph&&(this.poolGauges=new T1(e.urls.gaugesSubgraph,e.chainId),this.gaugeShares=new r1(e.urls.gaugesSubgraph,e.chainId)),e.urls.blockNumberSubgraph){this.blockNumbers=new N1(e.urls.blockNumberSubgraph);const u=async()=>{if(this.blockNumbers)return await this.blockNumbers.find("dayAgo")};this.yesterdaysPools=new lr({url:e.urls.subgraph,chainId:e.chainId,blockHeight:u,query:i})}else if(e.averageBlockTime){const u=async()=>await n.getBlockNumber()-Math.round(86400/(e.averageBlockTime||2));this.yesterdaysPools=new lr({url:e.urls.subgraph,chainId:e.chainId,blockHeight:u,query:i})}const o=L1.filter(u=>u.chainId==e.chainId).map(u=>u.address),s=new w1(o,e.chainId),r=new x1(e.urls.subgraph,e.chainId),l=new k6(a.contracts.multicall,e.chainId);this.tokenPrices=new v1(s,r,l);const p=new _1(e.chainId);this.tokenHistoricalPrices=new P1(p,l),this.tokenMeta=new g1([]),e.urls.gaugesSubgraph&&(this.liquidityGauges=new d1(e.urls.gaugesSubgraph,a.contracts.multicall,e.addresses.contracts.gaugeController||"",e.chainId,e.addresses.contracts.gaugeControllerCheckpointer)),e.addresses.contracts.feeDistributor&&e.addresses.tokens.bal&&e.addresses.tokens.veBal&&e.addresses.tokens.bbaUsd&&(this.feeDistributor=new k1(a.contracts.multicall,e.addresses.contracts.feeDistributor,e.addresses.tokens.bal,e.addresses.tokens.veBal,e.addresses.tokens.bbaUsd,n)),this.feeCollector=new B1(e.addresses.contracts.vault,n),e.addresses.contracts.protocolFeePercentagesProvider&&(this.protocolFees=new F1(a.contracts.multicall,e.addresses.contracts.protocolFeePercentagesProvider)),this.tokenYields=new M1,e.addresses.contracts.gyroConfigProxy&&(this.gyroConfigRepository=new a1(e.addresses.contracts.gyroConfigProxy,a.contracts.multicall,n))}}const Rd=(t,e)=>t==="Stable"?si.LEGACY_STABLE:t==="ComposableStable"&&e===1?si.COMPOSABLE_STABLE:t==="ComposableStable"?si.COMPOSABLE_STABLE_V2:si.WEIGHTED,rm=ie.encodeSetRelayerApproval,lm=ie.encodeGaugeWithdraw,pm=ie.encodeGaugeDeposit,U1=ie.encodePeekChainedReferenceValue,sp=Ji.createInterface(),q1=(t,e)=>{var n;return!((n=t.poolType)===null||n===void 0)&&n.match(/.*Linear.*/)?V1(t,e):[]},V1=(t,e)=>{if(!(t.id&&e.id&&t.tokens&&e.tokens&&t.mainIndex&&e.mainIndex))throw"Missing tokens";const n=t.tokens[t.mainIndex];return[{poolId:t.id,assetIn:t.address,assetOut:n.address},{poolId:e.id,assetIn:n.address,assetOut:e.address}]},lo=async(t,e)=>{const n=await e.find(t);if(!n)throw`Pool ${t} not found`;const a=async(o,s)=>{let r=[{address:o}];const l=await e.findBy("address",o);if(l&&o!=s){const p=l.tokens.sort(Nd),u=await Promise.all(p.map(({address:d})=>a(d,l.address)));r=[{address:o,id:l.id,poolType:l.poolType,poolTypeVersion:l.poolTypeVersion,mainIndex:l.mainIndex,tokens:u.flat()}]}return r},i=n.tokens.sort(Nd);return{id:t,address:n.address,tokens:(await Promise.all(i.map(({address:o})=>a(o,n.address)))).flat(),poolType:n.poolType,poolTypeVersion:n.poolTypeVersion,mainIndex:n.mainIndex}},Nd=(t,e)=>t.address.toLowerCase()>e.address.toLowerCase()?1:-1,Ld=(t,e,n,a,i,o,s=!1,r,l,p)=>{if(!(i.id&&o.id&&i.tokens&&o.tokens&&i.poolType&&o.poolType))throw"Pool data is missing";const u=i.tokens.flatMap(({address:U})=>U),d=o.tokens.flatMap(({address:U})=>U),c=i.poolType=="ComposableStable"&&i.poolTypeVersion==1?0:-1;let m,f=[];c>-1?(m=[{index:c,key:ie.toChainedReference(`10${c}`)}],f=[ie.toChainedReference(`20${c}`)]):(m=u.map((U,z)=>({index:z,key:ie.toChainedReference(`10${z}`)})),f=u.map((U,z)=>ie.toChainedReference(`20${z}`)));const I=ie.toChainedReference("999"),v=[];let x=!1;i.poolType==="ComposableStable"&&(x=!0),p&&v.push(rm(e,!0,p)),r&&v.push(lm(r,t,e,n)),v.push(((U,z,$,b,T=-1,w,B,A,O,N=!0)=>{let k;const L=z==="ComposableStable"&&$===1;k=T>-1?Ke.exitExactBPTInForOneTokenOut(B,T):(L?bt.exitExactBPTInForAllTokensOut:Ke.exitExactBPTInForTokensOut)(B);const y=Rd(z,$);return ie.encodeExitPool({poolId:U,poolKind:y,sender:A,recipient:O,outputReferences:w,exitPoolRequest:{assets:b,minAmountsOut:new Array(b.length).fill("0"),userData:k,toInternalBalance:N}})})(i.id,i.poolType,i.poolTypeVersion||1,u,c,m,n,r?e:t,e));const C=((U,z,$)=>{const b=({tokens:A,mainIndex:O})=>A&&O&&A[O].address||"",T=U.flatMap(b),w=z.flatMap(b),B=T.map((A,O)=>A&&[O,w.indexOf(A)]||[-1,-1]).map(([A,O])=>{if(A===-1||O===-1)return[];const N=U[A],k=z[O];return q1(N,k)});return $>-1?[B[$]]:B})(i.tokens,o.tokens,c);if(C.flat().length>0){const U=C.map((z,$)=>({path:z,inputAmount:String(m[$].key),outputReference:f[$]})).filter(({path:z})=>z.length>0);v.push(((z,$,b,T,w=!0)=>{const B=[],A=[],O=[],N=[];b.forEach(L=>{const{path:y,inputAmount:P,outputReference:M}=L;for(let D=0;D<y.length;D++){const{poolId:G,assetIn:K,assetOut:ee}=y[D];B.push(K),B.push(ee),A.push(Tn.toString()),A.push("0");const re={poolId:G,assetInIndex:2*D,assetOutIndex:2*D+1,amount:D===0?P:"0",userData:"0x"};N.push(re)}O.push({index:2*y.length-1,key:M})});const k={sender:z,recipient:$,fromInternalBalance:!0,toInternalBalance:w};return ie.encodeBatchSwap({swapType:Ce.SwapExactIn,swaps:N,assets:B,funds:k,limits:A,deadline:T||S.from(Math.ceil(Date.now()/1e3)+3600),value:"0",outputReferences:O})})(e,e,U))}const j=d.filter(U=>o.address!=U).map(U=>{var z;const $=u.indexOf(U);return String(x&&f[$]||((z=m[$])===null||z===void 0?void 0:z.key)||0)});return v.push(((U,z,$,b,T,w,B,A,O,N=!0)=>{const k=b.map(()=>Tn),L=Ke.joinExactTokensInForBPTOut(T,w),y=Rd(z,$);return ie.encodeJoinPool({poolId:U,kind:y,sender:A,recipient:O,joinPoolRequest:{assets:b,maxAmountsIn:k,userData:L,fromInternalBalance:N},value:"0",outputReference:B})})(o.id,o.poolType,o.poolTypeVersion||1,d,j,a,String(I),e,l?e:t,!0)),s===!0&&v.push(U1(String(I))),l&&v.push(pm(l,e,t,String(I))),sp.encodeFunctionData("multicall",[v])};class rs{constructor({relayerAddress:e,poolsRepository:n,gaugesRepository:a,provider:i}){this.getExpectedBptOut=rs.getExpectedBptOut,this.relayerAddress=e,this.poolsRepository=n,this.gaugesRepository=a,this.provider=i}async pool2pool({user:e,from:n,to:a,balance:i,minBptOut:o="0",authorisation:s}){const r=await lo(n,this.poolsRepository),l=await lo(a,this.poolsRepository),p=Ld(e,this.relayerAddress,String(i),o,r,l,o=="0",void 0,void 0,s);return{to:this.relayerAddress,data:p}}async pool2poolWithGauges({user:e,from:n,to:a,balance:i,minBptOut:o="0",authorisation:s}){const r=await this.gaugesRepository.findBy("poolId",n),l=await this.gaugesRepository.findBy("poolId",a);if(!(r&&r.poolId&&l&&l.poolId))throw new Error("Gauge not found");const p=await lo(r.poolId,this.poolsRepository),u=await lo(l.poolId,this.poolsRepository),d=Ld(e,this.relayerAddress,String(i),o,p,u,o=="0",r.id,l.id,s);return{to:this.relayerAddress,data:d}}async gauge2gauge({user:e,from:n,to:a,balance:i,authorisation:o}){const s=[lm(n,e,this.relayerAddress,i),pm(a,this.relayerAddress,e,i)];o&&s.unshift(rm(this.relayerAddress,!0,o));const r=sp.encodeFunctionData("multicall",[s]);return{to:this.relayerAddress,data:r}}}rs.getExpectedBptOut=t=>{const e=sp.decodeFunctionResult("multicall",t)[0].slice(-2).filter(n=>n!=="0x");return String(BigInt(e))};class W1{constructor(e,n=new Ta(e),a=new bh(e)){this.config=e,this.sor=n,this.subgraph=a,Le.getInstance().setLoggingEnabled(!!e.enableLogging),this.networkConfig=op(e),this.provider=n.provider,this.balancerContracts=new wh(this.networkConfig.addresses.contracts,n.provider),this.data=new D1(this.networkConfig,n.provider,this.balancerContracts,e.subgraphQuery),this.swaps=new Xy(this.config),this.relayer=new ie,this.pricing=new fh(e,this.swaps),this.pools=new ri(this.networkConfig,this.data,this.balancerContracts),this.data.liquidityGauges&&(this.claimService=new x5(this.data.liquidityGauges,this.data.feeDistributor,this.networkConfig.chainId,this.contracts.multicall,this.networkConfig.addresses.contracts.gaugeClaimHelper,this.networkConfig.addresses.contracts.balancerMinter),this.migrationService=new rs({relayerAddress:this.networkConfig.addresses.contracts.balancerRelayer,poolsRepository:this.data.pools,gaugesRepository:this.data.liquidityGauges.subgraph,provider:this.provider})),this.vaultModel=new gn(this.data.poolsForSimulations,this.networkConfig.addresses.tokens.wrappedNativeAsset)}get contracts(){return this.balancerContracts.contracts}}var ct,St;(function(t){t[t.Direct=0]="Direct",t[t.TokenIn=1]="TokenIn",t[t.TokenOut=2]="TokenOut",t[t.Middle=3]="Middle"})(ct||(ct={})),function(t){t[t.BatchSwap=0]="BatchSwap",t[t.Join=1]="Join",t[t.Exit=2]="Exit"}(St||(St={}));class rp{constructor(e,n,a,i,o,s,r,l,p,u){const d=this.getActionStep(e,n,a,i);this.amountIn=this.getActionAmount(o,St.BatchSwap,d,r),this.hasTokenIn=this.actionHasTokenIn(d),this.hasTokenOut=this.actionHasTokenOut(d);const c=this.hasTokenOut?s:"0";this.minOut=this.getActionMinOut(c,l);const[m,f]=this.getActionOutputRef(d,i,r);this.nextOpRefKey=f,this.opRefStart=m,this.sender=this.getSender(this.hasTokenIn,p,u),this.receiver=this.getReceiver(this.hasTokenOut,p,u)}getActionAmount(e,n,a,i){let o=e;return(a===ct.TokenOut||a===ct.Middle&&n===St.Join||a===ct.Middle&&n===St.Exit)&&(o=ie.toChainedReference(i-1).toString()),o}getActionOutputRef(e,n,a){let i={};return e!==ct.TokenIn&&e!==ct.Middle||(i=this.getOutputRef(a,n),a++),[i,a]}getActionMinOut(e,n){return st(S.from(e),S.from(n)).toString()}getActionStep(e,n,a,i){let o;return o=a===e&&i===n?ct.Direct:a===e?ct.TokenIn:i===n?ct.TokenOut:ct.Middle,o}getOutputRef(e,n){return{index:n,key:ie.toChainedReference(e)}}getFromInternal(e,n){return!e&&!n}getToInternal(e,n){return!e&&!n}actionHasTokenIn(e){return e===ct.Direct||e===ct.TokenIn}actionHasTokenOut(e){return e===ct.Direct||e===ct.TokenOut}getSender(e,n,a){return e?n:a}getReceiver(e,n,a){return e?n:a}getPoolKind(e){let n=0;return["MetaStable","Stable","StablePhantom"].includes(e)?n=1:e==="ComposableStable"&&(n=3),n}}class G1 extends rp{constructor(e,n,a,i,o,s,r,l){var p;super(n,a,e.assetInIndex,e.assetOutIndex,e.amount,(p=e.returnAmount)!==null&&p!==void 0?p:"0",i,s,r,l),this.opRefKey=i,this.type=St.Exit,this.poolId=e.poolId,this.tokenOut=o[e.assetOutIndex],this.toInternalBalance=this.getToInternal(this.hasTokenOut),this.opRef=this.opRefStart}callData(e,n){const a=e.tokensList,i=new Je(n),[o]=i.sortTokens(a),s=this.tokenOut,r=o.findIndex(c=>c.toLowerCase()===s.toLowerCase()),l=Array(a.length).fill("0");l[r]=this.minOut;const p=this.amountIn,u={assets:o,minAmountsOut:l,userData:at.exitExactBPTInForOneTokenOut(p,r),toInternalBalance:this.toInternalBalance,poolId:this.poolId,poolKind:this.getPoolKind(e.poolType),sender:this.sender,recipient:this.receiver,outputReferences:this.opRef.key?[this.opRef]:[],exitPoolRequest:{}},d=ie.formatExitPoolInput(u);return{params:u,encoded:ie.encodeExitPool(d)}}getAmountIn(){return this.hasTokenIn?this.amountIn:"0"}getAmountOut(){return this.hasTokenOut?this.minOut:"0"}}class H1 extends rp{constructor(e,n,a,i,o,s,r,l){var p;super(n,a,e.assetInIndex,e.assetOutIndex,e.amount,(p=e.returnAmount)!==null&&p!==void 0?p:"0",i,s,r,l),this.opRefKey=i,this.type=St.Join,this.poolId=e.poolId,this.tokenIn=o[e.assetInIndex],this.fromInternal=this.getFromInternal(this.hasTokenIn),this.opRef=this.opRefStart}callData(e,n){const a=e.tokensList,i=new Je(n),[o]=i.sortTokens(a),s=this.tokenIn,r=o.findIndex(c=>c.toLowerCase()===s.toLowerCase()),l=Array(a.length).fill("0");l[r]=this.amountIn;const p=this.minOut,u=at.joinExactTokensInForBPTOut(l,p),d={poolId:this.poolId,sender:this.sender,recipient:this.receiver,kind:this.getPoolKind(e.poolType),joinPoolRequest:{assets:o,maxAmountsIn:l,userData:u,fromInternalBalance:this.fromInternal},value:"0",outputReference:this.opRef.key?this.opRef.key.toString():"0"};return{params:d,encoded:ie.encodeJoinPool(d)}}getAmountIn(){return this.hasTokenIn?this.amountIn:"0"}getAmountOut(){return this.hasTokenOut?this.minOut:"0"}}class lp extends rp{constructor(e,n,a,i,o,s,r,l,p){var u;super(n,a,e.assetInIndex,e.assetOutIndex,e.amount,(u=e.returnAmount)!==null&&u!==void 0?u:"0",i,s,l,p),this.mainTokenInIndex=n,this.mainTokenOutIndex=a,this.opRefKey=i,this.assets=o,this.slippage=s,this.pools=r,this.user=l,this.relayer=p,this.approveTokens=[],this.opRef=[],this.type=St.BatchSwap,this.swaps=[{...e,amount:this.amountIn}];const d=this.isBpt(r,o[e.assetInIndex]);d&&this.approveTokens.push(o[e.assetInIndex]),this.fromInternal=this.getFromInternal(this.hasTokenIn,d);const c=this.isBpt(r,o[e.assetOutIndex]);this.toInternal=this.getToInternal(this.hasTokenOut,c),this.limits=this.getLimits(o,e.assetInIndex,e.assetOutIndex,e.amount,this.hasTokenIn,this.hasTokenOut,this.minOut),this.opRefStart.index&&this.opRef.push(this.opRefStart)}getLimits(e,n,a,i,o,s,r){const l=e.map(()=>S.from(0));return l[n]=o?S.from(i):Tn,s&&(l[a]=S.from(r).mul(-1)),l}updateLimits(e,n){n.hasTokenIn&&(e[n.swaps[0].assetInIndex]=e[n.swaps[0].assetInIndex].add(n.amountIn)),n.hasTokenOut&&(e[n.swaps[0].assetOutIndex]=e[n.swaps[0].assetOutIndex].sub(n.minOut))}isChainedSwap(e){return this.opRef[this.swaps.length-1]&&this.toInternal===e.fromInternal&&this.receiver===e.sender&&this.opRef[this.swaps.length-1].key.toString()===e.amountIn}canAddSwap(e){return!!this.isChainedSwap(e)||e.fromInternal===this.fromInternal&&e.toInternal===this.toInternal&&e.receiver===this.receiver&&e.sender===this.sender}callData(){const e=[];for(const o of this.approveTokens){const s=ie.encodeApproveVault(o,Do.toString());e.push(s)}const n={sender:this.sender,recipient:this.receiver,fromInternalBalance:this.fromInternal,toInternalBalance:this.toInternal},a={swapType:Ce.SwapExactIn,swaps:this.swaps,assets:this.assets,funds:n,limits:this.limits.map(o=>o.toString()),deadline:S.from(Math.ceil(Date.now()/1e3)+3600),value:"0",outputReferences:this.opRef},i=ie.encodeBatchSwap(a);return e.push(i),{params:a,encoded:e}}getAmountIn(){return this.limits[this.mainTokenInIndex].toString()}getAmountOut(){return this.limits[this.mainTokenOutIndex].abs().toString()}copy(){return new lp(this.swaps[0],this.mainTokenInIndex,this.mainTokenOutIndex,this.opRefKey,this.assets,this.slippage,this.pools,this.user,this.relayer)}addSwap(e){const n=this.isChainedSwap(e);this.swaps.push(e.swaps[0]),this.approveTokens=[...new Set([...this.approveTokens,...e.approveTokens])],this.toInternal=e.toInternal,this.receiver=e.receiver,this.hasTokenOut=e.hasTokenOut,this.minOut=e.minOut,this.opRef=[...this.opRef,...e.opRef],n||(this.amountIn=S.from(this.amountIn).add(e.amountIn).toString()),this.updateLimits(this.limits,e)}isBpt(e,n){return e.some(a=>a.address.toLowerCase()===n.toLowerCase())}}function $1(t){const e=function(n){const a=[],i=[],o=[];for(const s of n)s.type===St.Exit||s.type===St.Join?s.hasTokenIn?a.push(s):s.hasTokenOut?i.push(s):o.push(s):o.push(s);return[...a,...o,...i]}(t);return function(n){const a=[];let i;for(const o of n)o.type===St.BatchSwap?i?i.canAddSwap(o)?i.addSwap(o):(a.push(i),i=o.copy()):i=o.copy():(i&&(a.push(i),i=void 0),a.push(o));return i&&a.push(i),a}(e)}const j1=new ue([{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"address",name:"libraryAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getLibrary",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}]);function Pi(t){Le.getInstance()}function wI(t,e,n){return t!==oe.SwapExactOut&&e.toLowerCase()!==he.toLowerCase()&&n.toLowerCase()!==he.toLowerCase()}function z1(t,e,n){if(n!=="Weighted")return!1;const a=e[t.assetOutIndex],i=ns(t.poolId);return a.toLowerCase()===i.toLowerCase()}function X1(t,e,n){if(n!=="Weighted")return!1;const a=e[t.assetInIndex],i=ns(t.poolId);return a.toLowerCase()===i.toLowerCase()}function _I(t,e,n){return e.some(a=>function(i,o,s){const r=i.find(l=>l.id===o.poolId);return(r==null?void 0:r.poolType)==="Weighted"&&[s[o.assetInIndex],s[o.assetOutIndex]].includes(r.address)}(t,a,n))}function xI(t,e,n,a,i,o,s){const r=function(d,c,m,f,I,v,x,C){var j;const U=f.findIndex(T=>T.toLowerCase()===d.toLowerCase()),z=f.findIndex(T=>T.toLowerCase()===c.toLowerCase()),$=[];let b=0;for(const T of m){const w=(j=v.find(B=>B.id===T.poolId))===null||j===void 0?void 0:j.poolType;if(z1(T,f,w)){const B=new H1(T,U,z,b,f,I,x,C);b=B.nextOpRefKey,$.push(B)}else{if(!X1(T,f,w)){const B=new lp(T,U,z,b,f,I,v,x,C);b=B.nextOpRefKey,$.push(B);continue}{const B=new G1(T,U,z,b,f,I,x,C);b=B.nextOpRefKey,$.push(B)}}}return $}(t.tokenIn,t.tokenOut,t.swaps,t.tokenAddresses,o,e,n,a),l=$1(r),p=[],u=[];s&&p.push(ie.encodeSetRelayerApproval(a,!0,s));for(const d of l){if(d.type===St.Exit||d.type===St.Join){const c=e.find(I=>I.id===d.poolId);if(c===void 0)throw new Z(X.NO_POOL_DATA);const{params:m,encoded:f}=d.callData(c,i);p.push(f),u.push(m)}if(d.type===St.BatchSwap){const{params:c,encoded:m}=d.callData();p.push(...m),u.push(c)}}return function(d,c,m,f){const I=d.reduce((C=S.from(0),j)=>C.add(j)),v=c.reduce((C=S.from(0),j)=>C.add(j));Pi(I.toString()),Pi(m.swapAmount.toString()),Pi(v.toString()),Pi(st(m.returnAmount,S.from(f)).toString()),Pi(m.returnAmount.toString());const x=v.sub(st(m.returnAmount,S.from(f)));if(!I.eq(m.swapAmount)||!x.lt("3"))throw new Z(X.RELAY_SWAP_AMOUNTS)}(l.map(d=>S.from(d.getAmountIn())),l.map(d=>S.from(d.getAmountOut())),t,o),{to:a,data:j1.encodeFunctionData("multicall",[p]),rawCalls:p,inputs:u}}const{stETH:No,wstETH:Lo}=Rt.network.tokens.Addresses;function J1(){if(!Lo)throw new Error("Unknown wstEthAddress, cannot perform lido unwrap");const t=Rt.network.rateProviders[Lo.toLowerCase()];if(!t||Object.keys(t).length===0)throw new Error("Lido rate provider not set in config");return Object.keys(t)[0]}function vI(t,e){return!t||!e||!No?!1:Ti([t,e],No)}function PI(t){return No?t.toLowerCase()===No.toLowerCase():!1}function Y1(t,e=Rt.network.tokens.Addresses.wstETH){return e?Ti(t,e):!1}function EI(t){if(!Lo)throw new Error("Attempted to read wstETH contract on Network that doesnt support wstETH");return new ce(Lo,["function getWstETHByStETH(uint256 stETHAmount) external view returns (uint256)"],c0.jsonProvider).getWstETHByStETH(t)}async function SI({amount:t,isWrap:e}){try{const a=await new ce(J1(),["function getRate() external view returns (uint256)"],c0.jsonProvider).getRate();return e?t.mul(R).div(a):t.mul(a).div(R)}catch(n){throw new Error("Failed to convert stETH",{cause:n})}}function kI(t){var e;return t!=null&&t.stakingApr?Ln(((e=t.stakingApr)==null?void 0:e.min)||0).gt(0)||Ln(t.rewardAprs.total||0).gt(0):!1}function K1(t){var e;return t?Ln(((e=t==null?void 0:t.stakingApr)==null?void 0:e.min)||0).gt(0):!1}function ls(t){return Eb.Metadata[t.toLowerCase()]}const vn=Rt.network.pools;function AI(t){var e;return!!((e=ls(t))!=null&&e.hasIcon)}function pp(t){return t===te.AaveLinear||t===te.ERC4626Linear||t===te.EulerLinear}function ul(t){return t===te.Stable}function dl(t){return t===te.MetaStable}function Vi(t){return t===te.StablePhantom}function wi(t){return t===te.ComposableStable}function OI(t){return wi(t.poolType)&&t.poolTypeVersion===1}function Z1(t){return Vi(t)||wi(t)}function Q1(t){return t==="FX"}function Dd(t){return Vi(t)||wi(t)}function up(t){return Rt.network.pools.Deep.includes(t.id)}function BI(t){var e;return!!((e=ls(t.id))!=null&&e.boosted)}function FI(t){var e;return!!((e=ls(t.id))!=null&&e.incentivised)}function MI(t){var e;return(e=ls(t.id))==null?void 0:e.boostedProtocols}function CI(t){const e=Rt.network.pools.BoostedApr;return Ti(e,t)}function Ri(t){return ul(t)||dl(t)||Vi(t)||wi(t)||Q1(t)}function Wi(t){return t===te.LiquidityBootstrapping}function RI(t){return Wi(t)}function To(t){return t===te.Weighted}function dp(t){return t===te.Investment}function Ud(t){return To(t)||dp(t)||Wi(t)}function eI(t){return dp(t)||Wi(t)}function tI(){return Rt.network.tokens.Addresses.wNativeAsset}function qd(t){return Ti(t.tokensList||[],tI())}function nI(t){var e;return!!((e=vn.Migrations)!=null&&e[t.id])}function aI(t){return Ln((t==null?void 0:t.totalShares)||"0").eq(0)}function NI(t){return t.tokensList.findIndex(e=>xn(e,t.address))}function LI(t){if(!t.createTime)return!0;const e=zb("2023-03-29");return t.createTime>e}function iI(t){return um(t,t.tokens).map(n=>de((n==null?void 0:n.address)||""))}function um(t,e){if(up(t)){const n=cm(e);return ps(t).filter(i=>Ti(n,i.address))}else{if(wi(t.poolType))return e.filter(n=>!xn(n.address,t.address));if(Ri(t.poolType))return e}return e.slice().sort((n,a)=>parseFloat(a.weight||"0")-parseFloat(n.weight||"0"))}function oI(t,e){if(e){const n=Ln(t.swapFees).plus(t.tokenAprs.total).plus(t.rewardAprs.total),a=Ln(t.stakingApr.min).times(e).toString();return n.plus(a).toString()}return t.max.toString()}function DI(t,e){if(t.swapFees>Sb||t.swapFees==0)return"-";if(e)return eo(oI(t,e),to.bp);if(K1(t)&&kb.value||t.protocolApr>0){const n=eo(t.min,to.bp),a=eo(t.max,to.bp);return`${n} - ${a}`}return eo(t.min,to.bp)}function UI(t){var e;return((e=vn.IdsMap)==null?void 0:e.veBAL)===t}function qI(t){var n,a;const e=(a=(n=vn.IdsMap)==null?void 0:n.veBAL)==null?void 0:a.slice(0,42);return e?xn(e,t):!1}function dm(t,e={includeLinearUnwrapped:!1}){var a,i,o;const n=[];for(const s of t)if(n.push(s.address),(i=(a=s.token)==null?void 0:a.pool)!=null&&i.tokens)if(!e.includeLinearUnwrapped&&pp(s.token.pool.poolType))n.push(s.token.pool.tokens[s.token.pool.mainIndex].address);else{const r=dm((o=s.token.pool)==null?void 0:o.tokens,e);n.push(...r)}return Qe.uniq(n)}function cm(t,e={includeLinearUnwrapped:!1}){var a,i,o,s;const n=[];for(const r of t)if((i=(a=r.token)==null?void 0:a.pool)!=null&&i.tokens)if(!e.includeLinearUnwrapped&&pp(r.token.pool.poolType))n.push(r.token.pool.tokens[r.token.pool.mainIndex].address);else{const l=cm(r.token.pool.tokens,e);n.push(...Fl(r.address,l))}else(s=(o=r.token)==null?void 0:o.pool)!=null&&s.poolType||n.push(r.address);return Qe.uniq(n)}function sI(t){return t.mainIndex!==void 0}function ps(t,e={includeLinearUnwrapped:!1,includePreMintedBpt:!1}){const n=[];return!e.includePreMintedBpt&&!sI(t)&&(t=rI(t)),((t==null?void 0:t.tokens)||[]).forEach(i=>{var o,s;if(xn(t.address,i.address)||n.push(i),(s=(o=i.token)==null?void 0:o.pool)!=null&&s.tokens)if(!e.includeLinearUnwrapped&&pp(i.token.pool.poolType))n.push(i.token.pool.tokens[i.token.pool.mainIndex]);else{const r=ps(i.token.pool,e);n.push(...r)}}),Qe.uniqWith(n,(i,o)=>xn(i.address,o.address))}function ym(t){return Fl(t.address,t.tokensList)}function VI(t){return ym(t).filter(e=>{var a;const n=pI(t,e);return!((a=n==null?void 0:n.token)!=null&&a.pool)})}function rI(t){const e=Qe.cloneDeep(t);return e.tokensList=ym(t),e.tokens=e.tokens.filter(n=>!xn(e.address,n.address)),e.tokens.forEach(n=>{var a;(a=n.token)!=null&&a.pool&&mm(n.token.pool)}),e}function mm(t){return t.tokens&&(lI(t),t.tokens.forEach(e=>{var n;(n=e.token)!=null&&n.pool&&mm(e.token.pool)})),t}function lI(t){if(!t.tokens)return;const e=t.tokens.findIndex(n=>xn(t.address,n.address));e!==-1&&(t.tokens.splice(e,1),t.mainIndex&&e<t.mainIndex&&(t.mainIndex-=1))}function pI(t,e,n={includeLinearUnwrapped:!1}){return ps(t,n).find(i=>xn(i.address,e))}function WI(t,e){return ps(t).filter(n=>n.address&&!Ti(e,n.address))}function uI(t){return Ln(t.totalLiquidity).div(t.totalShares).toString()}function GI(t,e){return Ln(e).times(uI(t)).toString()}function HI(t){return vn.DisabledJoins.includes(t.toLowerCase())}function $I(t){var e;return(e=vn.Deprecated)==null?void 0:e[t.toLowerCase()]}function jI(t){var e;return(e=vn.NewVersionAvailable)==null?void 0:e[t.toLowerCase()]}function zI(t){var e;return(e=vn.GaugeMigration)==null?void 0:e[t.toLowerCase()]}function XI(t,e){var i,o,s;if(Ri(t.poolType)||!((i=t==null?void 0:t.onchain)!=null&&i.tokens))return 0;const{nativeAsset:n,wNativeAsset:a}=Rt.network.tokens.Addresses;return xn(e,n)?((o=Pp(t.onchain.tokens,a))==null?void 0:o.weight)||1:((s=Pp(t.onchain.tokens,e))==null?void 0:s.weight)||1}function Vd(t){let e=[];return e=up(t)?dm(t.tokens):t.tokensList,Fl(t.address,e)}function JI(t){const{fNum:e}=jb();function n(b){var T;return(T=b==null?void 0:b.onchain)!=null&&T.tokens?Ri(b.poolType)?Object.values(b.onchain.tokens).map(w=>w.symbol).join(", "):Object.values(b.onchain.tokens).map(w=>`${e(w.weight,{style:"percent",maximumFractionDigits:0})} ${w.symbol}`).join(", "):""}const a=Xe(()=>!!t.value&&ul(t.value.poolType)),i=Xe(()=>!!t.value&&dl(t.value.poolType)),o=Xe(()=>!!t.value&&Vi(t.value.poolType)),s=Xe(()=>!!t.value&&wi(t.value.poolType)),r=Xe(()=>!!t.value&&up(t.value)),l=Xe(()=>s.value&&!r.value),p=Xe(()=>!!t.value&&Ri(t.value.poolType)),u=Xe(()=>!!t.value&&Z1(t.value.poolType)),d=Xe(()=>!!t.value&&Dd(t.value.poolType)),c=Xe(()=>!!t.value&&To(t.value.poolType)),m=Xe(()=>!!t.value&&Ud(t.value.poolType)),f=Xe(()=>!!t.value&&dp(t.value.poolType)),I=Xe(()=>!!t.value&&Wi(t.value.poolType)),v=Xe(()=>{var b;return!!t.value&&f.value&&!((b=t.value.onchain)!=null&&b.swapEnabled)}),x=Xe(()=>!!t.value&&qd(t.value)),C=Xe(()=>!!t.value&&Y1(t.value.tokensList)&&Ab.value),j=Xe(()=>t.value?Vd(t.value):[]),U=Xe(()=>{var b,T;return t.value&&To(t.value.poolType)&&!((T=(b=t.value)==null?void 0:b.priceRateProviders)!=null&&T.every(w=>{var B,A;return Rt.network.rateProviders["*"][w.address]||((A=Rt.network.rateProviders[(B=w.token)==null?void 0:B.address])==null?void 0:A[w.address])}))}),z=Xe(()=>{var b;return!!t.value&&!!((b=vn.Deprecated)!=null&&b[t.value.id])}),$=Xe(()=>{var b;return!!t.value&&!!((b=vn.NewVersionAvailable)!=null&&b[t.value.id])});return{isStablePool:a,isMetaStablePool:i,isStablePhantomPool:o,isComposableStablePool:s,isStableLikePool:p,isComposableStableLikePool:u,isPreMintedBptPool:d,isDeepPool:r,isShallowComposableStablePool:l,isWeightedPool:c,isWeightedLikePool:m,isManagedPool:f,isLiquidityBootstrappingPool:I,managedPoolWithSwappingHalted:v,isWrappedNativeAssetPool:x,isMainnetWstETHPool:C,hasNonApprovedRateProviders:U,isDeprecatedPool:z,isNewPoolAvailable:$,poolJoinTokens:j,isStable:ul,isMetaStable:dl,isStablePhantom:Vi,isStableLike:Ri,isWeighted:To,isLiquidityBootstrapping:Wi,isWeightedLike:Ud,isSwappingHaltable:eI,isPreMintedBptType:Dd,isWrappedNativeAsset:qd,noInitLiquidity:aI,isMigratablePool:nI,poolWeightsLabel:n,orderedTokenAddresses:iI,orderedPoolTokens:um,joinTokens:Vd}}const bm=new W1({network:Rt.network.chainId,rpcUrl:Rt.rpc,customSubgraphUrl:Rt.network.subgraph}),Wd=Jb(!1);async function dI(){Wd.value||(console.time("fetchPoolsForSor"),await bm.swaps.fetchPools(),Wd.value=!0,console.timeEnd("fetchPoolsForSor"))}dI();let Gd=bm;function YI(){return Gd||Xb("balancer SDK"),Gd}var cI={},us={};const et=Kb(Zb);Object.defineProperty(us,"__esModule",{value:!0});us.Authorizer__factory=void 0;const Hd=et,cl=[{inputs:[{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"actionId",type:"bytes32"},{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"",type:"address"}],name:"canPerform",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address",name:"account",type:"address"}],name:"grantRoles",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address[]",name:"accounts",type:"address[]"}],name:"grantRolesToMany",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address",name:"account",type:"address"}],name:"revokeRoles",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"roles",type:"bytes32[]"},{internalType:"address[]",name:"accounts",type:"address[]"}],name:"revokeRolesFromMany",outputs:[],stateMutability:"nonpayable",type:"function"}];class fm{static createInterface(){return new Hd.utils.Interface(cl)}static connect(e,n){return new Hd.Contract(e,cl,n)}}us.Authorizer__factory=fm;fm.abi=cl;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.BalancerHelpers__factory=void 0;const $d=et,yl=[{inputs:[{internalType:"contract IVault",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"}];class Tm{static createInterface(){return new $d.utils.Interface(yl)}static connect(e,n){return new $d.Contract(e,yl,n)}}ds.BalancerHelpers__factory=Tm;Tm.abi=yl;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.Vault__factory=void 0;const jd=et,ml=[{inputs:[{internalType:"contract IAuthorizer",name:"authorizer",type:"address"},{internalType:"contract IWETH",name:"weth",type:"address"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"AuthorizerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ExternalBalanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"}],name:"InternalBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"liquidityProvider",type:"address"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"int256[]",name:"deltas",type:"int256[]"},{indexed:!1,internalType:"uint256[]",name:"protocolFeeAmounts",type:"uint256[]"}],name:"PoolBalanceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"assetManager",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"int256",name:"cashDelta",type:"int256"},{indexed:!1,internalType:"int256",name:"managedDelta",type:"int256"}],name:"PoolBalanceManaged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"address",name:"poolAddress",type:"address"},{indexed:!1,internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"PoolRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"relayer",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"RelayerApprovalChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!0,internalType:"contract IERC20",name:"tokenIn",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"TokensDeregistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"TokensRegistered",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"batchSwap",outputs:[{internalType:"int256[]",name:"assetDeltas",type:"int256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"deregisterTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"exitPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"}],name:"getInternalBalance",outputs:[{internalType:"uint256[]",name:"balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPool",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"enum IVault.PoolSpecialization",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"}],name:"getPoolTokenInfo",outputs:[{internalType:"uint256",name:"cash",type:"uint256"},{internalType:"uint256",name:"managed",type:"uint256"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"assetManager",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"}],name:"getPoolTokens",outputs:[{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolFeesCollector",outputs:[{internalType:"contract ProtocolFeesCollector",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"relayer",type:"address"}],name:"hasApprovedRelayer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.PoolBalanceOpKind",name:"kind",type:"uint8"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct IVault.PoolBalanceOp[]",name:"ops",type:"tuple[]"}],name:"managePoolBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.UserBalanceOpKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct IVault.UserBalanceOp[]",name:"ops",type:"tuple[]"}],name:"manageUserBalance",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"}],name:"queryBatchSwap",outputs:[{internalType:"int256[]",name:"",type:"int256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IVault.PoolSpecialization",name:"specialization",type:"uint8"}],name:"registerPool",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"address[]",name:"assetManagers",type:"address[]"}],name:"registerTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthorizer",name:"newAuthorizer",type:"address"}],name:"setAuthorizer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"relayer",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setRelayerApproval",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"amountCalculated",type:"uint256"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class hm{static createInterface(){return new jd.utils.Interface(ml)}static connect(e,n){return new jd.Contract(e,ml,n)}}cs.Vault__factory=hm;hm.abi=ml;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.WeightedPool__factory=void 0;const zd=et,bl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"normalizedWeights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"increaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class Im{static createInterface(){return new zd.utils.Interface(bl)}static connect(e,n){return new zd.Contract(e,bl,n)}}ys.WeightedPool__factory=Im;Im.abi=bl;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.WeightedPool2Tokens__factory=void 0;const Xd=et,fl=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20",name:"token0",type:"address"},{internalType:"contract IERC20",name:"token1",type:"address"},{internalType:"uint256",name:"normalizedWeight0",type:"uint256"},{internalType:"uint256",name:"normalizedWeight1",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct WeightedPool2Tokens.NewPoolParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"OracleEnabledChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLargestSafeQueryWindow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"}],name:"getLatest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMiscData",outputs:[{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"logTotalSupply",type:"int256"},{internalType:"uint256",name:"oracleSampleCreationTimestamp",type:"uint256"},{internalType:"uint256",name:"oracleIndex",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAccumulatorQuery[]",name:"queries",type:"tuple[]"}],name:"getPastAccumulators",outputs:[{internalType:"int256[]",name:"results",type:"int256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getSample",outputs:[{internalType:"int256",name:"logPairPrice",type:"int256"},{internalType:"int256",name:"accLogPairPrice",type:"int256"},{internalType:"int256",name:"logBptPrice",type:"int256"},{internalType:"int256",name:"accLogBptPrice",type:"int256"},{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"accLogInvariant",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"secs",type:"uint256"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAverageQuery[]",name:"queries",type:"tuple[]"}],name:"getTimeWeightedAverage",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalSamples",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"increaseApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class gm{static createInterface(){return new Xd.utils.Interface(fl)}static connect(e,n){return new Xd.Contract(e,fl,n)}}ms.WeightedPool2Tokens__factory=gm;gm.abi=fl;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.WeightedPool2TokensFactory__factory=void 0;const Jd=et,Tl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"weights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"address",name:"owner",type:"address"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class wm{static createInterface(){return new Jd.utils.Interface(Tl)}static connect(e,n){return new Jd.Contract(e,Tl,n)}}bs.WeightedPool2TokensFactory__factory=wm;wm.abi=Tl;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.WeightedPoolFactory__factory=void 0;const Yd=et,hl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"weights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class _m{static createInterface(){return new Yd.utils.Interface(hl)}static connect(e,n){return new Yd.Contract(e,hl,n)}}fs.WeightedPoolFactory__factory=_m;_m.abi=hl;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.StablePool__factory=void 0;const Kd=et,Il=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"AmpUpdateStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"currentValue",type:"uint256"}],name:"AmpUpdateStopped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAmplificationParameter",outputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bool",name:"isUpdating",type:"bool"},{internalType:"uint256",name:"precision",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"rawEndValue",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"startAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class xm{static createInterface(){return new Kd.utils.Interface(Il)}static connect(e,n){return new Kd.Contract(e,Il,n)}}Ts.StablePool__factory=xm;xm.abi=Il;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.StablePoolFactory__factory=void 0;const Zd=et,gl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class vm{static createInterface(){return new Zd.utils.Interface(gl)}static connect(e,n){return new Zd.Contract(e,gl,n)}}hs.StablePoolFactory__factory=vm;vm.abi=gl;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.LiquidityBootstrappingPool__factory=void 0;const Qd=et,wl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"normalizedWeights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"swapEnabledOnStart",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"startWeights",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],name:"GradualWeightUpdateScheduled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"swapEnabled",type:"bool"}],name:"SwapEnabledSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGradualWeightUpdateParams",outputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"swapEnabled",type:"bool"}],name:"setSwapEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],name:"updateWeightsGradually",outputs:[],stateMutability:"nonpayable",type:"function"}];class Pm{static createInterface(){return new Qd.utils.Interface(wl)}static connect(e,n){return new Qd.Contract(e,wl,n)}}Is.LiquidityBootstrappingPool__factory=Pm;Pm.abi=wl;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.LiquidityBootstrappingPoolFactory__factory=void 0;const e0=et,_l=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"weights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"swapEnabledOnStart",type:"bool"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class Em{static createInterface(){return new e0.utils.Interface(_l)}static connect(e,n){return new e0.Contract(e,_l,n)}}gs.LiquidityBootstrappingPoolFactory__factory=Em;Em.abi=_l;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.MetaStablePool__factory=void 0;const t0=et,xl=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"uint256[]",name:"priceRateCacheDuration",type:"uint256[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct MetaStablePool.NewPoolParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"}],name:"AmpUpdateStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"currentValue",type:"uint256"}],name:"AmpUpdateStopped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"OracleEnabledChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"}],name:"PriceRateCacheUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"token",type:"address"},{indexed:!0,internalType:"contract IRateProvider",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"cacheDuration",type:"uint256"}],name:"PriceRateProviderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enableOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAmplificationParameter",outputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bool",name:"isUpdating",type:"bool"},{internalType:"uint256",name:"precision",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLargestSafeQueryWindow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"lastInvariant",type:"uint256"},{internalType:"uint256",name:"lastInvariantAmp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"}],name:"getLatest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOracleMiscData",outputs:[{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"logTotalSupply",type:"int256"},{internalType:"uint256",name:"oracleSampleCreationTimestamp",type:"uint256"},{internalType:"uint256",name:"oracleIndex",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAccumulatorQuery[]",name:"queries",type:"tuple[]"}],name:"getPastAccumulators",outputs:[{internalType:"int256[]",name:"results",type:"int256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"getPriceRateCache",outputs:[{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"expires",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRateProviders",outputs:[{internalType:"contract IRateProvider[]",name:"providers",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getSample",outputs:[{internalType:"int256",name:"logPairPrice",type:"int256"},{internalType:"int256",name:"accLogPairPrice",type:"int256"},{internalType:"int256",name:"logBptPrice",type:"int256"},{internalType:"int256",name:"accLogBptPrice",type:"int256"},{internalType:"int256",name:"logInvariant",type:"int256"},{internalType:"int256",name:"accLogInvariant",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum IPriceOracle.Variable",name:"variable",type:"uint8"},{internalType:"uint256",name:"secs",type:"uint256"},{internalType:"uint256",name:"ago",type:"uint256"}],internalType:"struct IPriceOracle.OracleAverageQuery[]",name:"queries",type:"tuple[]"}],name:"getTimeWeightedAverage",outputs:[{internalType:"uint256[]",name:"results",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalSamples",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"},{internalType:"uint256[]",name:"dueProtocolFeeAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"indexIn",type:"uint256"},{internalType:"uint256",name:"indexOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"request",type:"tuple"},{internalType:"uint256",name:"balanceTokenIn",type:"uint256"},{internalType:"uint256",name:"balanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"setPriceRateCacheDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"rawEndValue",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"startAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopAmplificationParameterUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"updatePriceRateCache",outputs:[],stateMutability:"nonpayable",type:"function"}];class Sm{static createInterface(){return new t0.utils.Interface(xl)}static connect(e,n){return new t0.Contract(e,xl,n)}}ws.MetaStablePool__factory=Sm;Sm.abi=xl;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.MetaStablePoolFactory__factory=void 0;const n0=et,vl=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amplificationParameter",type:"uint256"},{internalType:"contract IRateProvider[]",name:"rateProviders",type:"address[]"},{internalType:"uint256[]",name:"priceRateCacheDuration",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"bool",name:"oracleEnabled",type:"bool"},{internalType:"address",name:"owner",type:"address"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class km{static createInterface(){return new n0.utils.Interface(vl)}static connect(e,n){return new n0.Contract(e,vl,n)}}_s.MetaStablePoolFactory__factory=km;km.abi=vl;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.MerkleRedeem__factory=void 0;const a0=et,Pl=[{inputs:[{internalType:"contract IVault",name:"_vault",type:"address"},{internalType:"contract IERC20",name:"_rewardToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"rewardToken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardPaid",type:"event"},{inputs:[{internalType:"address",name:"liquidityProvider",type:"address"},{internalType:"uint256",name:"begin",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"claimStatus",outputs:[{internalType:"bool[]",name:"",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"liquidityProvider",type:"address"},{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"claimedBalance",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],name:"claimWeek",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"liquidityProvider",type:"address"},{components:[{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],internalType:"struct MerkleRedeem.Claim[]",name:"claims",type:"tuple[]"}],name:"claimWeeks",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"liquidityProvider",type:"address"},{components:[{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],internalType:"struct MerkleRedeem.Claim[]",name:"claims",type:"tuple[]"}],name:"claimWeeksToInternalBalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"liquidityProvider",type:"address"},{internalType:"address payable",name:"callbackContract",type:"address"},{internalType:"bytes",name:"callbackData",type:"bytes"},{components:[{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],internalType:"struct MerkleRedeem.Claim[]",name:"claims",type:"tuple[]"}],name:"claimWeeksWithCallback",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"claimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"begin",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"merkleRoots",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"week",type:"uint256"},{internalType:"bytes32",name:"_merkleRoot",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"seedAllocations",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"liquidityProvider",type:"address"},{internalType:"uint256",name:"week",type:"uint256"},{internalType:"uint256",name:"claimedBalance",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],name:"verifyClaim",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"weekMerkleRoots",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}];class Am{static createInterface(){return new a0.utils.Interface(Pl)}static connect(e,n){return new a0.Contract(e,Pl,n)}}xs.MerkleRedeem__factory=Am;Am.abi=Pl;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.LidoRelayer__factory=void 0;const i0=et,El=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"contract IwstETH",name:"wstETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"assetInIndex",type:"uint256"},{internalType:"uint256",name:"assetOutIndex",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.BatchSwapStep[]",name:"swaps",type:"tuple[]"},{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"int256[]",name:"limits",type:"int256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"batchSwap",outputs:[{internalType:"int256[]",name:"swapAmounts",type:"int256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address payable",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"minAmountsOut",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.ExitPoolRequest",name:"request",type:"tuple"}],name:"exitPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getStETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWstETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"contract IAsset[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"maxAmountsIn",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"},{internalType:"bool",name:"fromInternalBalance",type:"bool"}],internalType:"struct IVault.JoinPoolRequest",name:"request",type:"tuple"}],name:"joinPool",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IAsset",name:"assetIn",type:"address"},{internalType:"contract IAsset",name:"assetOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IVault.SingleSwap",name:"singleSwap",type:"tuple"},{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"bool",name:"fromInternalBalance",type:"bool"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"toInternalBalance",type:"bool"}],internalType:"struct IVault.FundManagement",name:"funds",type:"tuple"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"swapAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];class Om{static createInterface(){return new i0.utils.Interface(El)}static connect(e,n){return new i0.Contract(e,El,n)}}vs.LidoRelayer__factory=Om;Om.abi=El;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.WstETHRateProvider__factory=void 0;const o0=et,Sl=[{inputs:[{internalType:"contract IwstETH",name:"_wstETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"wstETH",outputs:[{internalType:"contract IwstETH",name:"",type:"address"}],stateMutability:"view",type:"function"}];class Bm{static createInterface(){return new o0.utils.Interface(Sl)}static connect(e,n){return new o0.Contract(e,Sl,n)}}Ps.WstETHRateProvider__factory=Bm;Bm.abi=Sl;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.InvestmentPool__factory=void 0;const s0=et,kl=[{inputs:[{components:[{internalType:"contract IVault",name:"vault",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"normalizedWeights",type:"uint256[]"},{internalType:"address[]",name:"assetManagers",type:"address[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"swapEnabledOnStart",type:"bool"},{internalType:"uint256",name:"managementSwapFeePercentage",type:"uint256"}],internalType:"struct InvestmentPool.NewPoolParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"startWeights",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],name:"GradualWeightUpdateScheduled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"managementFeePercentage",type:"uint256"}],name:"ManagementFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"ManagementFeesCollected",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"paused",type:"bool"}],name:"PausedStateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"swapEnabled",type:"bool"}],name:"SwapEnabledSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"SwapFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"getActionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuthorizer",outputs:[{internalType:"contract IAuthorizer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectedManagementFees",outputs:[{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"collectedFees",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGradualWeightUpdateParams",outputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastInvariant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getManagementSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinimumWeightChangeDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getNormalizedWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPausedState",outputs:[{internalType:"bool",name:"paused",type:"bool"},{internalType:"uint256",name:"pauseWindowEndTime",type:"uint256"},{internalType:"uint256",name:"bufferPeriodEndTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getScalingFactors",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSwapFeePercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onExitPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"onJoinPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum IVault.SwapKind",name:"kind",type:"uint8"},{internalType:"contract IERC20",name:"tokenIn",type:"address"},{internalType:"contract IERC20",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"userData",type:"bytes"}],internalType:"struct IPoolSwapStructs.SwapRequest",name:"swapRequest",type:"tuple"},{internalType:"uint256",name:"currentBalanceTokenIn",type:"uint256"},{internalType:"uint256",name:"currentBalanceTokenOut",type:"uint256"}],name:"onSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryExit",outputs:[{internalType:"uint256",name:"bptIn",type:"uint256"},{internalType:"uint256[]",name:"amountsOut",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"poolId",type:"bytes32"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256[]",name:"balances",type:"uint256[]"},{internalType:"uint256",name:"lastChangeBlock",type:"uint256"},{internalType:"uint256",name:"protocolSwapFeePercentage",type:"uint256"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"queryJoin",outputs:[{internalType:"uint256",name:"bptOut",type:"uint256"},{internalType:"uint256[]",name:"amountsIn",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes",name:"poolConfig",type:"bytes"}],name:"setAssetManagerPoolConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"swapEnabled",type:"bool"}],name:"setSwapEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"swapFeePercentage",type:"uint256"}],name:"setSwapFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256[]",name:"endWeights",type:"uint256[]"}],name:"updateWeightsGradually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"}],name:"withdrawCollectedManagementFees",outputs:[],stateMutability:"nonpayable",type:"function"}];class Fm{static createInterface(){return new s0.utils.Interface(kl)}static connect(e,n){return new s0.Contract(e,kl,n)}}Es.InvestmentPool__factory=Fm;Fm.abi=kl;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.InvestmentPoolFactory__factory=void 0;const r0=et,Al=[{inputs:[{internalType:"contract IVault",name:"vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"contract IERC20[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"weights",type:"uint256[]"},{internalType:"uint256",name:"swapFeePercentage",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"swapEnabledOnStart",type:"bool"},{internalType:"uint256",name:"managementSwapFeePercentage",type:"uint256"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCreationCodeContracts",outputs:[{internalType:"address",name:"contractA",type:"address"},{internalType:"address",name:"contractB",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPauseConfiguration",outputs:[{internalType:"uint256",name:"pauseWindowDuration",type:"uint256"},{internalType:"uint256",name:"bufferPeriodDuration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVault",outputs:[{internalType:"contract IVault",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"isPoolFromFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class Mm{static createInterface(){return new r0.utils.Interface(Al)}static connect(e,n){return new r0.Contract(e,Al,n)}}Ss.InvestmentPoolFactory__factory=Mm;Mm.abi=Al;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.WETH__factory=void 0;const l0=et,Ol=[{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"}];class Cm{static createInterface(){return new l0.utils.Interface(Ol)}static connect(e,n){return new l0.Contract(e,Ol,n)}}ks.WETH__factory=Cm;Cm.abi=Ol;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WETH__factory=t.InvestmentPoolFactory__factory=t.InvestmentPool__factory=t.WstETHRateProvider__factory=t.LidoRelayer__factory=t.MerkleRedeem__factory=t.MetaStablePoolFactory__factory=t.MetaStablePool__factory=t.LiquidityBootstrappingPoolFactory__factory=t.LiquidityBootstrappingPool__factory=t.StablePoolFactory__factory=t.StablePool__factory=t.WeightedPoolFactory__factory=t.WeightedPool2TokensFactory__factory=t.WeightedPool2Tokens__factory=t.WeightedPool__factory=t.Vault__factory=t.BalancerHelpers__factory=t.Authorizer__factory=void 0;var e=us;Object.defineProperty(t,"Authorizer__factory",{enumerable:!0,get:function(){return e.Authorizer__factory}});var n=ds;Object.defineProperty(t,"BalancerHelpers__factory",{enumerable:!0,get:function(){return n.BalancerHelpers__factory}});var a=cs;Object.defineProperty(t,"Vault__factory",{enumerable:!0,get:function(){return a.Vault__factory}});var i=ys;Object.defineProperty(t,"WeightedPool__factory",{enumerable:!0,get:function(){return i.WeightedPool__factory}});var o=ms;Object.defineProperty(t,"WeightedPool2Tokens__factory",{enumerable:!0,get:function(){return o.WeightedPool2Tokens__factory}});var s=bs;Object.defineProperty(t,"WeightedPool2TokensFactory__factory",{enumerable:!0,get:function(){return s.WeightedPool2TokensFactory__factory}});var r=fs;Object.defineProperty(t,"WeightedPoolFactory__factory",{enumerable:!0,get:function(){return r.WeightedPoolFactory__factory}});var l=Ts;Object.defineProperty(t,"StablePool__factory",{enumerable:!0,get:function(){return l.StablePool__factory}});var p=hs;Object.defineProperty(t,"StablePoolFactory__factory",{enumerable:!0,get:function(){return p.StablePoolFactory__factory}});var u=Is;Object.defineProperty(t,"LiquidityBootstrappingPool__factory",{enumerable:!0,get:function(){return u.LiquidityBootstrappingPool__factory}});var d=gs;Object.defineProperty(t,"LiquidityBootstrappingPoolFactory__factory",{enumerable:!0,get:function(){return d.LiquidityBootstrappingPoolFactory__factory}});var c=ws;Object.defineProperty(t,"MetaStablePool__factory",{enumerable:!0,get:function(){return c.MetaStablePool__factory}});var m=_s;Object.defineProperty(t,"MetaStablePoolFactory__factory",{enumerable:!0,get:function(){return m.MetaStablePoolFactory__factory}});var f=xs;Object.defineProperty(t,"MerkleRedeem__factory",{enumerable:!0,get:function(){return f.MerkleRedeem__factory}});var I=vs;Object.defineProperty(t,"LidoRelayer__factory",{enumerable:!0,get:function(){return I.LidoRelayer__factory}});var v=Ps;Object.defineProperty(t,"WstETHRateProvider__factory",{enumerable:!0,get:function(){return v.WstETHRateProvider__factory}});var x=Es;Object.defineProperty(t,"InvestmentPool__factory",{enumerable:!0,get:function(){return x.InvestmentPool__factory}});var C=Ss;Object.defineProperty(t,"InvestmentPoolFactory__factory",{enumerable:!0,get:function(){return C.InvestmentPoolFactory__factory}});var j=ks;Object.defineProperty(t,"WETH__factory",{enumerable:!0,get:function(){return j.WETH__factory}})})(cI);export{dI as $,DI as A,gI as B,iI as C,K1 as D,CI as E,te as F,qI as G,kI as H,$I as I,rI as J,Q1 as K,NI as L,II as M,ym as N,VI as O,AI as P,zI as Q,jI as R,To as S,dl as T,MI as U,lr as V,WI as W,LI as X,aI as Y,dp as Z,Wd as _,eI as a,hn as a0,Vd as a1,qd as a2,XI as a3,ie as a4,Ce as a5,ps as a6,Dd as a7,OI as a8,dm as a9,pp as aa,SI as ab,vI as ac,Ni as ad,oe as ae,PI as af,EI as ag,Re as ah,xI as ai,wI as aj,_I as ak,Ri as b,Z1 as c,cI as d,wi as e,up as f,bm as g,HI as h,Ud as i,ls as j,YI as k,ay as l,ul as m,UI as n,nI as o,hI as p,BI as q,FI as r,Wi as s,cm as t,JI as u,oI as v,tI as w,GI as x,um as y,RI as z};
//# sourceMappingURL=index-c7e2fe85.js.map
